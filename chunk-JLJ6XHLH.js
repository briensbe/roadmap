var im=Object.create;var Xr=Object.defineProperty,sm=Object.defineProperties,cm=Object.getOwnPropertyDescriptor,dm=Object.getOwnPropertyDescriptors,lm=Object.getOwnPropertyNames,Io=Object.getOwnPropertySymbols,um=Object.getPrototypeOf,xc=Object.prototype.hasOwnProperty,Gu=Object.prototype.propertyIsEnumerable;var $u=(t,e,n)=>e in t?Xr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})xc.call(e,n)&&$u(t,n,e[n]);if(Io)for(var n of Io(e))Gu.call(e,n)&&$u(t,n,e[n]);return t},W=(t,e)=>sm(t,dm(e));var bw=(t,e)=>{var n={};for(var r in t)xc.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Io)for(var r of Io(t))e.indexOf(r)<0&&Gu.call(t,r)&&(n[r]=t[r]);return n};var hm=(t,e)=>()=>(t&&(e=t(t=0)),e);var sn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),pm=(t,e)=>{for(var n in e)Xr(t,n,{get:e[n],enumerable:!0})},Wu=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of lm(e))!xc.call(t,a)&&a!==n&&Xr(t,a,{get:()=>e[a],enumerable:!(r=cm(e,a))||r.enumerable});return t};var fm=(t,e,n)=>(n=t!=null?im(um(t)):{},Wu(e||!t||!t.__esModule?Xr(n,"default",{value:t,enumerable:!0}):n,t)),Jn=t=>Wu(Xr({},"__esModule",{value:!0}),t);var f=(t,e,n)=>new Promise((r,a)=>{var o=c=>{try{s(n.next(c))}catch(d){a(d)}},i=c=>{try{s(n.throw(c))}catch(d){a(d)}},s=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,i);s((n=n.apply(t,e)).next())});var ln={};pm(ln,{__addDisposableResource:()=>Ah,__assign:()=>qo,__asyncDelegator:()=>bh,__asyncGenerator:()=>Uo,__asyncValues:()=>$o,__await:()=>it,__awaiter:()=>v,__classPrivateFieldGet:()=>_h,__classPrivateFieldIn:()=>Eh,__classPrivateFieldSet:()=>Lh,__createBinding:()=>zo,__decorate:()=>hh,__disposeResources:()=>Th,__esDecorate:()=>fh,__exportStar:()=>Mh,__extends:()=>uh,__generator:()=>vh,__importDefault:()=>Sh,__importStar:()=>Dh,__makeTemplateObject:()=>xh,__metadata:()=>kh,__param:()=>ph,__propKey:()=>gh,__read:()=>Gc,__rest:()=>Mt,__rewriteRelativeImportExtension:()=>Rh,__runInitializers:()=>yh,__setFunctionName:()=>mh,__spread:()=>wh,__spreadArray:()=>Ih,__spreadArrays:()=>Ch,__values:()=>Bo,default:()=>Em});function uh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Uc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Mt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function hh(t,e,n,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function ph(t,e){return function(n,r){e(n,r,t)}}function fh(t,e,n,r,a,o){function i(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var s=r.kind,c=s==="getter"?"get":s==="setter"?"set":"value",d=!e&&t?r.static?t:t.prototype:null,l=e||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),u,p=!1,h=n.length-1;h>=0;h--){var y={};for(var g in r)y[g]=g==="access"?{}:r[g];for(var g in r.access)y.access[g]=r.access[g];y.addInitializer=function(k){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(k||null))};var m=(0,n[h])(s==="accessor"?{get:l.get,set:l.set}:l[c],y);if(s==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(u=i(m.get))&&(l.get=u),(u=i(m.set))&&(l.set=u),(u=i(m.init))&&a.unshift(u)}else(u=i(m))&&(s==="field"?a.unshift(u):l[c]=u)}d&&Object.defineProperty(d,r.name,l),p=!0}function yh(t,e,n){for(var r=arguments.length>2,a=0;a<e.length;a++)n=r?e[a].call(t,n):e[a].call(t);return r?n:void 0}function gh(t){return typeof t=="symbol"?t:"".concat(t)}function mh(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function kh(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function v(t,e,n,r){function a(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(t,e||[])).next())})}function vh(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(d){return function(l){return c([d,l])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(n=0)),n;)try{if(r=1,a&&(o=d[0]&2?a.return:d[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,d[1])).done)return o;switch(a=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,a=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(l){d=[6,l],a=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Mh(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&zo(e,t,n)}function Bo(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],i;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o}function wh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Gc(arguments[e]));return t}function Ch(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r}function Ih(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function it(t){return this instanceof it?(this.v=t,this):new it(t)}function Uo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(a[h]=function(g){return new Promise(function(m,k){o.push([h,g,m,k])>1||c(h,g)})},y&&(a[h]=y(a[h])))}function c(h,y){try{d(r[h](y))}catch(g){p(o[0][3],g)}}function d(h){h.value instanceof it?Promise.resolve(h.value.v).then(l,u):p(o[0][2],h)}function l(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function bh(t){var e,n;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,o){e[a]=t[a]?function(i){return(n=!n)?{value:it(t[a](i)),done:!1}:o?o(i):i}:o}}function $o(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bo=="function"?Bo(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(i){return new Promise(function(s,c){i=t[o](i),a(s,c,i.done,i.value)})}}function a(o,i,s,c){Promise.resolve(c).then(function(d){o({value:d,done:s})},i)}}function xh(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Dh(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=$c(t),r=0;r<n.length;r++)n[r]!=="default"&&zo(e,t,n[r]);return _m(e,t),e}function Sh(t){return t&&t.__esModule?t:{default:t}}function _h(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Lh(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n}function Eh(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Ah(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function Th(t){function e(o){t.error=t.hasError?new Lm(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function a(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(a);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(a,function(i){return e(i),a()})}else r|=1}catch(i){e(i)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function Rh(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,a,o,i){return r?e?".jsx":".js":a&&(!o||!i)?n:a+o+"."+i.toLowerCase()+"js"}):t}var Uc,qo,zo,_m,$c,Lm,Em,J=hm(()=>{"use strict";Uc=function(t,e){return Uc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Uc(t,e)};qo=function(){return qo=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qo.apply(this,arguments)};zo=Object.create?function(t,e,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};_m=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},$c=function(t){return $c=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},$c(t)};Lm=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};Em={__extends:uh,__assign:qo,__rest:Mt,__decorate:hh,__param:ph,__esDecorate:fh,__runInitializers:yh,__propKey:gh,__setFunctionName:mh,__metadata:kh,__awaiter:v,__generator:vh,__createBinding:zo,__exportStar:Mh,__values:Bo,__read:Gc,__spread:wh,__spreadArrays:Ch,__spreadArray:Ih,__await:it,__asyncGenerator:Uo,__asyncDelegator:bh,__asyncValues:$o,__makeTemplateObject:xh,__importStar:Dh,__importDefault:Sh,__classPrivateFieldGet:_h,__classPrivateFieldSet:Lh,__classPrivateFieldIn:Eh,__addDisposableResource:Ah,__disposeResources:Th,__rewriteRelativeImportExtension:Rh}});var su=sn(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});var ou=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};iu.default=ou});var lu=sn(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});var g6=(J(),Jn(ln)),m6=g6.__importDefault(su()),cu=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>f(this,null,function*(){var i,s,c,d;let l=null,u=null,p=null,h=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){let _=yield o.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?u=_:u=JSON.parse(_))}let m=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),k=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&k&&k.length>1&&(p=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,p=null,h=406,y="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let m=yield o.text();try{l=JSON.parse(m),Array.isArray(l)&&o.status===404&&(u=[],l=null,h=200,y="OK")}catch{o.status===404&&m===""?(h=204,y="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((d=l?.details)===null||d===void 0)&&d.includes("0 rows"))&&(l=null,h=200,y="OK"),l&&this.shouldThrowOnError)throw new m6.default(l)}return{error:l,data:u,count:p,status:h,statusText:y}}));return this.shouldThrowOnError||(a=a.catch(o=>{var i,s,c,d,l,u;let p="",h=o?.cause;if(h){let y=(i=h?.message)!==null&&i!==void 0?i:"",g=(s=h?.code)!==null&&s!==void 0?s:"";p=`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,p+=`

Caused by: ${(d=h?.name)!==null&&d!==void 0?d:"Error"}: ${y}`,g&&(p+=` (${g})`),h?.stack&&(p+=`
${h.stack}`)}else p=(l=o?.stack)!==null&&l!==void 0?l:"";return{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,n)}returns(){return this}overrideTypes(){return this}};du.default=cu});var pu=sn(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});var k6=(J(),Jn(ln)),v6=k6.__importDefault(lu()),uu=class extends v6.default{select(e){let n=!1,r=(e??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){let i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:a=r}={}){let o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var s;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};hu.default=uu});var zs=sn(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});var M6=(J(),Jn(ln)),w6=M6.__importDefault(pu()),C6=new RegExp("[,()]"),fu=class extends w6.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}regexMatch(e,n){return this.url.searchParams.append(e,`match.${n}`),this}regexIMatch(e,n){return this.url.searchParams.append(e,`imatch.${n}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}isDistinct(e,n){return this.url.searchParams.append(e,`isdistinct.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(a=>typeof a=="string"&&C6.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");let i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${i}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};yu.default=fu});var ku=sn(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});var I6=(J(),Jn(ln)),oo=I6.__importDefault(zs()),gu=class{constructor(e,{headers:n={},schema:r,fetch:a}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(e,n){let{head:r=!1,count:a}=n??{},o=r?"HEAD":"GET",i=!1,s=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",s),a&&this.headers.append("Prefer",`count=${a}`),new oo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var a;let o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let i=e.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(i.length>0){let s=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new oo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){var i;let s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((d,l)=>d.concat(Object.keys(l)),[]);if(c.length>0){let d=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",d.join(","))}}return new oo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:n}={}){var r;let a="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new oo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new oo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};mu.default=gu});var By=sn(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});var qy=(J(),Jn(ln)),b6=qy.__importDefault(ku()),x6=qy.__importDefault(zs()),vu=class t{constructor(e,{headers:n={},schema:r,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");let n=new URL(`${this.url}/${e}`);return new b6.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:a=!1,count:o}={}){var i;let s,c=new URL(`${this.url}/rpc/${e}`),d;r||a?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,p])=>p!==void 0).map(([u,p])=>[u,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([u,p])=>{c.searchParams.append(u,p)})):(s="POST",d=n);let l=new Headers(this.headers);return o&&l.set("Prefer",`count=${o}`),new x6.default({method:s,url:c,headers:l,schema:this.schemaName,body:d,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Mu.default=vu});var Ky=sn(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;var jr=(J(),Jn(ln)),zy=jr.__importDefault(By());De.PostgrestClient=zy.default;var Uy=jr.__importDefault(ku());De.PostgrestQueryBuilder=Uy.default;var $y=jr.__importDefault(zs());De.PostgrestFilterBuilder=$y.default;var Gy=jr.__importDefault(pu());De.PostgrestTransformBuilder=Gy.default;var Wy=jr.__importDefault(lu());De.PostgrestBuilder=Wy.default;var Zy=jr.__importDefault(su());De.PostgrestError=Zy.default;De.default={PostgrestClient:zy.default,PostgrestQueryBuilder:Uy.default,PostgrestFilterBuilder:$y.default,PostgrestTransformBuilder:Gy.default,PostgrestBuilder:Wy.default,PostgrestError:Zy.default}});var Dc;function bo(){return Dc}function ot(t){let e=Dc;return Dc=t,e}var Zu=Symbol("NotFound");function Qn(t){return t===Zu||t?.name==="\u0275NotFound"}var ge=null,xo=!1,Sc=1,ym=null,me=Symbol("SIGNAL");function E(t){let e=ge;return ge=t,e}function Lo(){return ge}var Yn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function er(t){if(xo)throw new Error("");if(ge===null)return;ge.consumerOnSignalRead(t);let e=ge.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=ge.recomputing;if(r&&(n=e!==void 0?e.nextProducer:ge.producers,n!==void 0&&n.producer===t)){ge.producersTail=n,n.lastReadVersion=t.version;return}let a=t.consumersTail;if(a!==void 0&&a.consumer===ge&&(!r||mm(a,ge)))return;let o=nr(ge),i={producer:t,consumer:ge,nextProducer:n,prevConsumer:a,lastReadVersion:t.version,nextConsumer:void 0};ge.producersTail=i,e!==void 0?e.nextProducer=i:ge.producers=i,o&&Qu(t,i)}function Ku(){Sc++}function Eo(t){if(!(nr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Sc)){if(!t.producerMustRecompute(t)&&!Yr(t)){_o(t);return}t.producerRecomputeValue(t),_o(t)}}function _c(t){if(t.consumers===void 0)return;let e=xo;xo=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||gm(r)}}finally{xo=e}}function Lc(){return ge?.consumerAllowSignalWrites!==!1}function gm(t){t.dirty=!0,_c(t),t.consumerMarkedDirty?.(t)}function _o(t){t.dirty=!1,t.lastCleanEpoch=Sc}function tr(t){return t&&Xu(t),E(t)}function Xu(t){t.producersTail=void 0,t.recomputing=!0}function Qr(t,e){E(e),t&&Ju(t)}function Ju(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(nr(t))do n=Ec(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Yr(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Eo(n),r!==n.version))return!0}return!1}function ea(t){if(nr(t)){let e=t.producers;for(;e!==void 0;)e=Ec(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Qu(t,e){let n=t.consumersTail,r=nr(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let a=t.producers;a!==void 0;a=a.nextProducer)Qu(a.producer,a)}function Ec(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,a=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=a:e.consumersTail=a,a!==void 0)a.nextConsumer=r;else if(e.consumers=r,!nr(e)){let o=e.producers;for(;o!==void 0;)o=Ec(o)}return n}function nr(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Ao(t){ym?.(t)}function mm(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function To(t,e){return Object.is(t,e)}function Ro(t,e){let n=Object.create(km);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Eo(n),er(n),n.value===Jr)throw n.error;return n.value};return r[me]=n,Ao(n),r}var Do=Symbol("UNSET"),So=Symbol("COMPUTING"),Jr=Symbol("ERRORED"),km=W(F({},Yn),{value:Do,dirty:!0,error:null,equal:To,kind:"computed",producerMustRecompute(t){return t.value===Do||t.value===So},producerRecomputeValue(t){if(t.value===So)throw new Error("");let e=t.value;t.value=So;let n=tr(t),r,a=!1;try{r=t.computation(),E(null),a=e!==Do&&e!==Jr&&r!==Jr&&t.equal(e,r)}catch(o){r=Jr,t.error=o}finally{Qr(t,n)}if(a){t.value=e;return}t.value=r,t.version++}});function vm(){throw new Error}var Yu=vm;function eh(t){Yu(t)}function Ac(t){Yu=t}var Mm=null;function Tc(t,e){let n=Object.create(Po);n.value=t,e!==void 0&&(n.equal=e);let r=()=>th(n);return r[me]=n,Ao(n),[r,i=>rr(n,i),i=>Rc(n,i)]}function th(t){return er(t),t.value}function rr(t,e){Lc()||eh(t),t.equal(t.value,e)||(t.value=e,wm(t))}function Rc(t,e){Lc()||eh(t),rr(t,e(t.value))}var Po=W(F({},Yn),{equal:To,value:void 0,kind:"signal"});function wm(t){t.version++,Ku(),_c(t),Mm?.(t)}function T(t){return typeof t=="function"}function ar(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oo=ar(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,a)=>`${a+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ta(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var he=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(T(r))try{r()}catch(o){e=o instanceof Oo?o.errors:[o]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let o of a)try{nh(o)}catch(i){e=e??[],i instanceof Oo?e=[...e,...i.errors]:e.push(i)}}if(e)throw new Oo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ta(n,e)}remove(e){let{_finalizers:n}=this;n&&ta(n,e),e instanceof t&&e._removeParent(this)}};he.EMPTY=(()=>{let t=new he;return t.closed=!0,t})();var Pc=he.EMPTY;function Fo(t){return t instanceof he||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function nh(t){T(t)?t():t.unsubscribe()}var Xe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var or={setTimeout(t,e,...n){let{delegate:r}=or;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=or;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function No(t){or.setTimeout(()=>{let{onUnhandledError:e}=Xe;if(e)e(t);else throw t})}function na(){}var rh=Oc("C",void 0,void 0);function ah(t){return Oc("E",void 0,t)}function oh(t){return Oc("N",t,void 0)}function Oc(t,e,n){return{kind:t,value:e,error:n}}var cn=null;function ir(t){if(Xe.useDeprecatedSynchronousErrorHandling){let e=!cn;if(e&&(cn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=cn;if(cn=null,n)throw r}}else t()}function ih(t){Xe.useDeprecatedSynchronousErrorHandling&&cn&&(cn.errorThrown=!0,cn.error=t)}var dn=class extends he{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fo(e)&&e.add(this)):this.destination=bm}static create(e,n,r){return new sr(e,n,r)}next(e){this.isStopped?Nc(oh(e),this):this._next(e)}error(e){this.isStopped?Nc(ah(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nc(rh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Cm=Function.prototype.bind;function Fc(t,e){return Cm.call(t,e)}var jc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){jo(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){jo(r)}else jo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jo(n)}}},sr=class extends dn{constructor(e,n,r){super();let a;if(T(e)||!e)a={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Xe.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),a={next:e.next&&Fc(e.next,o),error:e.error&&Fc(e.error,o),complete:e.complete&&Fc(e.complete,o)}):a=e}this.destination=new jc(a)}};function jo(t){Xe.useDeprecatedSynchronousErrorHandling?ih(t):No(t)}function Im(t){throw t}function Nc(t,e){let{onStoppedNotification:n}=Xe;n&&or.setTimeout(()=>n(t,e))}var bm={closed:!0,next:na,error:Im,complete:na};var cr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Oe(t){return t}function xm(...t){return Vc(t)}function Vc(t){return t.length===0?Oe:t.length===1?t[0]:function(n){return t.reduce((r,a)=>a(r),n)}}var V=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,a){let o=Sm(n)?n:new sr(n,r,a);return ir(()=>{let{operator:i,source:s}=this;o.add(i?i.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=sh(r),new r((a,o)=>{let i=new sr({next:s=>{try{n(s)}catch(c){o(c),i.unsubscribe()}},error:o,complete:a});this.subscribe(i)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[cr](){return this}pipe(...n){return Vc(n)(this)}toPromise(n){return n=sh(n),new n((r,a)=>{let o;this.subscribe(i=>o=i,i=>a(i),()=>r(o))})}}return t.create=e=>new t(e),t})();function sh(t){var e;return(e=t??Xe.Promise)!==null&&e!==void 0?e:Promise}function Dm(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}function Sm(t){return t&&t instanceof dn||Dm(t)&&Fo(t)}function Hc(t){return T(t?.lift)}function N(t){return e=>{if(Hc(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(t,e,n,r,a){return new qc(t,e,n,r,a)}var qc=class extends dn{constructor(e,n,r,a,o,i){super(e),this.onFinalize=o,this.shouldUnsubscribe=i,this._next=n?function(s){try{n(s)}catch(c){e.error(c)}}:super._next,this._error=a?function(s){try{a(s)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bc(){return N((t,e)=>{let n=null;t._refCount++;let r=O(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let a=t._connection,o=n;n=null,a&&(!o||a===o)&&a.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var zc=class extends V{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new he;let n=this.getSubject();e.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=he.EMPTY)}return e}refCount(){return Bc()(this)}};var ch=ar(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Vo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ch}next(n){ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:a,observers:o}=this;return r||a?Pc:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,ta(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:a,isStopped:o}=this;r?n.error(a):o&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return t.create=(e,n)=>new Vo(e,n),t})(),Vo=class extends He{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Pc}};var ra=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var aa=new V(t=>t.complete());function dh(t){return t&&T(t.schedule)}function lh(t){return t[t.length-1]}function Ho(t){return T(lh(t))?t.pop():void 0}function Ft(t){return dh(lh(t))?t.pop():void 0}J();var Go=t=>t&&typeof t.length=="number"&&typeof t!="function";function Wo(t){return T(t?.then)}function Zo(t){return T(t[cr])}function Ko(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function Xo(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Am(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jo=Am();function Qo(t){return T(t?.[Jo])}J();function Yo(t){return Uo(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:a}=yield it(n.read());if(a)return yield it(void 0);yield yield it(r)}}finally{n.releaseLock()}})}function ei(t){return T(t?.getReader)}function ae(t){if(t instanceof V)return t;if(t!=null){if(Zo(t))return Tm(t);if(Go(t))return Rm(t);if(Wo(t))return Pm(t);if(Ko(t))return Ph(t);if(Qo(t))return Om(t);if(ei(t))return Fm(t)}throw Xo(t)}function Tm(t){return new V(e=>{let n=t[cr]();if(T(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Rm(t){return new V(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Pm(t){return new V(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,No)})}function Om(t){return new V(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ph(t){return new V(e=>{Nm(t,e).catch(n=>e.error(n))})}function Fm(t){return Ph(Yo(t))}function Nm(t,e){var n,r,a,o;return v(this,void 0,void 0,function*(){try{for(n=$o(t);r=yield n.next(),!r.done;){let i=r.value;if(e.next(i),e.closed)return}}catch(i){a={error:i}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(a)throw a.error}}e.complete()})}function Se(t,e,n,r=0,a=!1){let o=e.schedule(function(){n(),a?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!a)return o}function ti(t,e=0){return N((n,r)=>{n.subscribe(O(r,a=>Se(r,t,()=>r.next(a),e),()=>Se(r,t,()=>r.complete(),e),a=>Se(r,t,()=>r.error(a),e)))})}function ni(t,e=0){return N((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Oh(t,e){return ae(t).pipe(ni(e),ti(e))}function Fh(t,e){return ae(t).pipe(ni(e),ti(e))}function Nh(t,e){return new V(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function jh(t,e){return new V(n=>{let r;return Se(n,e,()=>{r=t[Jo](),Se(n,e,()=>{let a,o;try{({value:a,done:o}=r.next())}catch(i){n.error(i);return}o?n.complete():n.next(a)},0,!0)}),()=>T(r?.return)&&r.return()})}function ri(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(n=>{Se(n,e,()=>{let r=t[Symbol.asyncIterator]();Se(n,e,()=>{r.next().then(a=>{a.done?n.complete():n.next(a.value)})},0,!0)})})}function Vh(t,e){return ri(Yo(t),e)}function Hh(t,e){if(t!=null){if(Zo(t))return Oh(t,e);if(Go(t))return Nh(t,e);if(Wo(t))return Fh(t,e);if(Ko(t))return ri(t,e);if(Qo(t))return jh(t,e);if(ei(t))return Vh(t,e)}throw Xo(t)}function st(t,e){return e?Hh(t,e):ae(t)}function jm(...t){let e=Ft(t);return st(t,e)}function Vm(t,e){let n=T(t)?t:()=>t,r=a=>a.error(n());return new V(e?a=>e.schedule(r,0,a):r)}function Hm(t){return!!t&&(t instanceof V||T(t.lift)&&T(t.subscribe))}var un=ar(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function wt(t,e){return N((n,r)=>{let a=0;n.subscribe(O(r,o=>{r.next(t.call(e,o,a++))}))})}var{isArray:qm}=Array;function Bm(t,e){return qm(e)?t(...e):t(e)}function ai(t){return wt(e=>Bm(t,e))}var{isArray:zm}=Array,{getPrototypeOf:Um,prototype:$m,keys:Gm}=Object;function oi(t){if(t.length===1){let e=t[0];if(zm(e))return{args:e,keys:null};if(Wm(e)){let n=Gm(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Wm(t){return t&&typeof t=="object"&&Um(t)===$m}function ii(t,e){return t.reduce((n,r,a)=>(n[r]=e[a],n),{})}function Zm(...t){let e=Ft(t),n=Ho(t),{args:r,keys:a}=oi(t);if(r.length===0)return st([],e);let o=new V(Km(r,e,a?i=>ii(a,i):Oe));return n?o.pipe(ai(n)):o}function Km(t,e,n=Oe){return r=>{qh(e,()=>{let{length:a}=t,o=new Array(a),i=a,s=a;for(let c=0;c<a;c++)qh(e,()=>{let d=st(t[c],e),l=!1;d.subscribe(O(r,u=>{o[c]=u,l||(l=!0,s--),s||r.next(n(o.slice()))},()=>{--i||r.complete()}))},r)},r)}}function qh(t,e,n){t?Se(n,t,e):e()}function Bh(t,e,n,r,a,o,i,s){let c=[],d=0,l=0,u=!1,p=()=>{u&&!c.length&&!d&&e.complete()},h=g=>d<r?y(g):c.push(g),y=g=>{o&&e.next(g),d++;let m=!1;ae(n(g,l++)).subscribe(O(e,k=>{a?.(k),o?h(k):e.next(k)},()=>{m=!0},void 0,()=>{if(m)try{for(d--;c.length&&d<r;){let k=c.shift();i?Se(e,i,()=>y(k)):y(k)}p()}catch(k){e.error(k)}}))};return t.subscribe(O(e,h,()=>{u=!0,p()})),()=>{s?.()}}function hn(t,e,n=1/0){return T(e)?hn((r,a)=>wt((o,i)=>e(r,o,a,i))(ae(t(r,a))),n):(typeof e=="number"&&(n=e),N((r,a)=>Bh(r,a,t,n)))}function Wc(t=1/0){return hn(Oe,t)}function zh(){return Wc(1)}function si(...t){return zh()(st(t,Ft(t)))}function Xm(t){return new V(e=>{ae(t()).subscribe(e)})}function Zc(...t){let e=Ho(t),{args:n,keys:r}=oi(t),a=new V(o=>{let{length:i}=n;if(!i){o.complete();return}let s=new Array(i),c=i,d=i;for(let l=0;l<i;l++){let u=!1;ae(n[l]).subscribe(O(o,p=>{u||(u=!0,d--),s[l]=p},()=>c--,void 0,()=>{(!c||!u)&&(d||o.next(r?ii(r,s):s),o.complete())}))}});return e?a.pipe(ai(e)):a}function oa(t,e){return N((n,r)=>{let a=0;n.subscribe(O(r,o=>t.call(e,o,a++)&&r.next(o)))})}function Uh(t){return N((e,n)=>{let r=null,a=!1,o;r=e.subscribe(O(n,void 0,void 0,i=>{o=ae(t(i,Uh(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):a=!0})),a&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $h(t,e,n,r,a){return(o,i)=>{let s=n,c=e,d=0;o.subscribe(O(i,l=>{let u=d++;c=s?t(c,l,u):(s=!0,l),r&&i.next(c)},a&&(()=>{s&&i.next(c),i.complete()})))}}function Jm(t,e){return T(e)?hn(t,e,1):hn(t,1)}function ia(t){return N((e,n)=>{let r=!1;e.subscribe(O(n,a=>{r=!0,n.next(a)},()=>{r||n.next(t),n.complete()}))})}function Kc(t){return t<=0?()=>aa:N((e,n)=>{let r=0;e.subscribe(O(n,a=>{++r<=t&&(n.next(a),t<=r&&n.complete())}))})}function ci(t=Qm){return N((e,n)=>{let r=!1;e.subscribe(O(n,a=>{r=!0,n.next(a)},()=>r?n.complete():n.error(t())))})}function Qm(){return new un}function Ym(t){return N((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ek(t,e){let n=arguments.length>=2;return r=>r.pipe(t?oa((a,o)=>t(a,o,r)):Oe,Kc(1),n?ia(e):ci(()=>new un))}function Xc(t){return t<=0?()=>aa:N((e,n)=>{let r=[];e.subscribe(O(n,a=>{r.push(a),t<r.length&&r.shift()},()=>{for(let a of r)n.next(a);n.complete()},void 0,()=>{r=null}))})}function tk(t,e){let n=arguments.length>=2;return r=>r.pipe(t?oa((a,o)=>t(a,o,r)):Oe,Xc(1),n?ia(e):ci(()=>new un))}function nk(t,e){return N($h(t,e,arguments.length>=2,!0))}function rk(...t){let e=Ft(t);return N((n,r)=>{(e?si(t,n,e):si(t,n)).subscribe(r)})}function ak(t,e){return N((n,r)=>{let a=null,o=0,i=!1,s=()=>i&&!a&&r.complete();n.subscribe(O(r,c=>{a?.unsubscribe();let d=0,l=o++;ae(t(c,l)).subscribe(a=O(r,u=>r.next(e?e(c,u,l,d++):u),()=>{a=null,s()}))},()=>{i=!0,s()}))})}function ok(t){return N((e,n)=>{ae(t).subscribe(O(n,()=>n.complete(),na)),!n.closed&&e.subscribe(n)})}function ik(t,e,n){let r=T(t)||e||n?{next:t,error:e,complete:n}:t;return r?N((a,o)=>{var i;(i=r.subscribe)===null||i===void 0||i.call(r);let s=!0;a.subscribe(O(o,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var d;s=!1,(d=r.error)===null||d===void 0||d.call(r,c),o.error(c)},()=>{var c,d;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Oe}function Gh(t){let e=E(null);try{return t()}finally{E(e)}}var hi="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(e,n){super(pi(e,n)),this.code=e}};function sk(t){return`NG0${Math.abs(t)}`}function pi(t,e){return`${sk(t)}${e?": "+e:""}`}var qt=globalThis;function q(t){for(let e in t)if(t[e]===q)return e;throw Error("")}function Kh(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function It(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(It).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function d1(t,e){return t?e?`${t} ${e}`:t:e||""}var ck=q({__forward_ref__:q});function ke(t){return t.__forward_ref__=ke,t.toString=function(){return It(this())},t}function pe(t){return l1(t)?t():t}function l1(t){return typeof t=="function"&&t.hasOwnProperty(ck)&&t.__forward_ref__===ke}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function la(t){return lk(t,fi)}function dk(t){return la(t)!==null}function lk(t,e){return t.hasOwnProperty(e)&&t[e]||null}function uk(t){let e=t?.[fi]??null;return e||null}function Qc(t){return t&&t.hasOwnProperty(li)?t[li]:null}var fi=q({\u0275prov:q}),li=q({\u0275inj:q}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function u1(t){return t&&!!t.\u0275providers}var h1=q({\u0275cmp:q}),p1=q({\u0275dir:q}),f1=q({\u0275pipe:q}),y1=q({\u0275mod:q}),ca=q({\u0275fac:q}),mn=q({__NG_ELEMENT_ID__:q}),Wh=q({__NG_ENV_ID__:q});function Je(t){return typeof t=="string"?t:t==null?"":String(t)}function Xh(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Je(t)}var Jh=q({ngErrorCode:q}),hk=q({ngErrorMessage:q}),pk=q({ngTokenPath:q});function g1(t,e){return Qh("",-200,e)}function yi(t,e){throw new I(-201,!1)}function Qh(t,e,n){let r=new I(e,t);return r[Jh]=e,r[hk]=t,n&&(r[pk]=n),r}function fk(t){return t[Jh]}var Yc;function Yh(){return Yc}function Ie(t){let e=Yc;return Yc=t,e}function m1(t,e,n){let r=la(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;yi(t,"Injector")}var yk={},pn=yk,e1="__NG_DI_FLAG__",t1=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=fn(n)||0;try{return this.injector.get(e,r&8?null:pn,r)}catch(a){if(Qn(a))return a;throw a}}};function gk(t,e=0){let n=bo();if(n===void 0)throw new I(-203,!1);if(n===null)return m1(t,void 0,e);{let r=mk(e),a=n.retrieve(t,r);if(Qn(a)){if(r.optional)return null;throw a}return a}}function ce(t,e=0){return(Yh()||gk)(pe(t),e)}function S(t,e){return ce(t,fn(e))}function fn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mk(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function n1(t){let e=[];for(let n=0;n<t.length;n++){let r=pe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let a,o=0;for(let i=0;i<r.length;i++){let s=r[i],c=kk(s);typeof c=="number"?c===-1?a=s.token:o|=c:a=s}e.push(ce(a,o))}else e.push(ce(r))}return e}function e2(t,e){return t[e1]=e,t.prototype[e1]=e,t}function kk(t){return t[e1]}function Nt(t,e){let n=t.hasOwnProperty(ca);return n?t[ca]:null}function t2(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let a=t[r],o=e[r];if(n&&(a=n(a),o=n(o)),o!==a)return!1}return!0}function n2(t){return t.flat(Number.POSITIVE_INFINITY)}function gi(t,e){t.forEach(n=>Array.isArray(n)?gi(n,e):e(n))}function k1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ua(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function r2(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function a2(t,e,n,r){let a=t.length;if(a==e)t.push(n,r);else if(a===1)t.push(r,t[0]),t[0]=n;else{for(a--,t.push(t[a-1],t[a]);a>e;){let o=a-2;t[a]=t[o],a--}t[e]=n,t[e+1]=r}}function o2(t,e,n){let r=lr(t,e);return r>=0?t[r|1]=n:(r=~r,a2(t,r,e,n)),r}function mi(t,e){let n=lr(t,e);if(n>=0)return t[n|1]}function lr(t,e){return vk(t,e,1)}function vk(t,e,n){let r=0,a=t.length>>n;for(;a!==r;){let o=r+(a-r>>1),i=t[o<<n];if(e===i)return o<<n;i>e?a=o:r=o+1}return~(a<<n)}var Bt={},Fe=[],kn=new P(""),v1=new P("",-1),M1=new P(""),da=class{get(e,n=pn){if(n===pn){let a=Qh("",-201);throw a.name="\u0275NotFound",a}return n}};function w1(t){return t[y1]||null}function zt(t){return t[h1]||null}function C1(t){return t[p1]||null}function i2(t){return t[f1]||null}function s2(t){return{\u0275providers:t}}function c2(...t){return{\u0275providers:I1(!0,t),\u0275fromNgModule:!0}}function I1(t,...e){let n=[],r=new Set,a,o=i=>{n.push(i)};return gi(e,i=>{let s=i;ui(s,o,[],r)&&(a||=[],a.push(s))}),a!==void 0&&d2(a,o),n}function d2(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:a}=t[n];b1(a,o=>{e(o,r)})}}function ui(t,e,n,r){if(t=pe(t),!t)return!1;let a=null,o=Qc(t),i=!o&&zt(t);if(!o&&!i){let c=t.ngModule;if(o=Qc(c),o)a=c;else return!1}else{if(i&&!i.standalone)return!1;a=t}let s=r.has(a);if(i){if(s)return!1;if(r.add(a),i.dependencies){let c=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let d of c)ui(d,e,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(a);let d;try{gi(o.imports,l=>{ui(l,e,n,r)&&(d||=[],d.push(l))})}finally{}d!==void 0&&d2(d,e)}if(!s){let d=Nt(a)||(()=>new a);e({provide:a,useFactory:d,deps:Fe},a),e({provide:M1,useValue:a,multi:!0},a),e({provide:kn,useValue:()=>ce(a),multi:!0},a)}let c=o.providers;if(c!=null&&!s){let d=t;b1(c,l=>{e(l,d)})}}else return!1;return a!==t&&t.providers!==void 0}function b1(t,e){for(let n of t)u1(n)&&(n=n.\u0275providers),Array.isArray(n)?b1(n,e):e(n)}var Mk=q({provide:String,useValue:q});function l2(t){return t!==null&&typeof t=="object"&&Mk in t}function wk(t){return!!(t&&t.useExisting)}function Ck(t){return!!(t&&t.useFactory)}function yn(t){return typeof t=="function"}function u2(t){return!!t.useClass}var x1=new P(""),di={},Zh={},Jc;function ha(){return Jc===void 0&&(Jc=new da),Jc}var qe=class{},gn=class extends qe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,a1(e,i=>this.processProvider(i)),this.records.set(v1,dr(void 0,this)),a.has("environment")&&this.records.set(qe,dr(void 0,this));let o=this.records.get(x1);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(M1,Fe,{self:!0}))}retrieve(e,n){let r=fn(n)||0;try{return this.get(e,pn,r)}catch(a){if(Qn(a))return a;throw a}}destroy(){sa(this),this._destroyed=!0;let e=E(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),E(e)}}onDestroy(e){return sa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){sa(this);let n=ot(this),r=Ie(void 0),a;try{return e()}finally{ot(n),Ie(r)}}get(e,n=pn,r){if(sa(this),e.hasOwnProperty(Wh))return e[Wh](this);let a=fn(r),o,i=ot(this),s=Ie(void 0);try{if(!(a&4)){let d=this.records.get(e);if(d===void 0){let l=Sk(e)&&la(e);l&&this.injectableDefInScope(l)?d=dr(r1(e),di):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,a)}let c=a&2?ha():this.parent;return n=a&8&&n===pn?null:n,c.get(e,n)}catch(c){let d=fk(c);throw d===-200||d===-201?new I(d,null):c}finally{Ie(s),ot(i)}}resolveInjectorInitializers(){let e=E(null),n=ot(this),r=Ie(void 0),a;try{let o=this.get(kn,Fe,{self:!0});for(let i of o)i()}finally{ot(n),Ie(r),E(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=pe(e);let n=yn(e)?e:pe(e&&e.provide),r=bk(e);if(!yn(e)&&e.multi===!0){let a=this.records.get(n);a||(a=dr(void 0,di,!0),a.factory=()=>n1(a.multi),this.records.set(n,a)),n=e,a.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let a=E(null);try{if(n.value===Zh)throw g1(It(e));return n.value===di&&(n.value=Zh,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Dk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{E(a)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=pe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function r1(t){let e=la(t),n=e!==null?e.factory:Nt(t);if(n!==null)return n;if(t instanceof P)throw new I(204,!1);if(t instanceof Function)return Ik(t);throw new I(204,!1)}function Ik(t){if(t.length>0)throw new I(204,!1);let n=uk(t);return n!==null?()=>n.factory(t):()=>new t}function bk(t){if(l2(t))return dr(void 0,t.useValue);{let e=D1(t);return dr(e,di)}}function D1(t,e,n){let r;if(yn(t)){let a=pe(t);return Nt(a)||r1(a)}else if(l2(t))r=()=>pe(t.useValue);else if(Ck(t))r=()=>t.useFactory(...n1(t.deps||[]));else if(wk(t))r=(a,o)=>ce(pe(t.useExisting),o!==void 0&&o&8?8:void 0);else{let a=pe(t&&(t.useClass||t.provide));if(xk(t))r=()=>new a(...n1(t.deps));else return Nt(a)||r1(a)}return r}function sa(t){if(t.destroyed)throw new I(205,!1)}function dr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xk(t){return!!t.deps}function Dk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Sk(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function a1(t,e){for(let n of t)Array.isArray(n)?a1(n,e):n&&u1(n)?a1(n.\u0275providers,e):e(n)}function ki(t,e){let n;t instanceof gn?(sa(t),n=t):n=new t1(t);let r,a=ot(n),o=Ie(void 0);try{return e()}finally{ot(a),Ie(o)}}function h2(){return Yh()!==void 0||bo()!=null}var Qe=0,b=1,A=2,de=3,Be=4,be=5,vn=6,ur=7,re=8,Dt=9,ct=10,$=11,hr=12,S1=13,Mn=14,xe=15,Ut=16,wn=17,dt=18,pa=19,_1=20,Ct=21,vi=22,fa=23,Ne=24,Cn=25,In=26,Q=27,p2=1,L1=6,$t=7,ya=8,bn=9,te=10;function lt(t){return Array.isArray(t)&&typeof t[p2]=="object"}function Ye(t){return Array.isArray(t)&&t[p2]===!0}function E1(t){return(t.flags&4)!==0}function Gt(t){return t.componentOffset>-1}function pr(t){return(t.flags&1)===1}function ut(t){return!!t.template}function fr(t){return(t[A]&512)!==0}function xn(t){return(t[A]&256)===256}var A1="svg",f2="math";function ze(t){for(;Array.isArray(t);)t=t[Qe];return t}function T1(t,e){return ze(e[t])}function et(t,e){return ze(e[t.index])}function ga(t,e){return t.data[e]}function R1(t,e){return t[e]}function P1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ue(t,e){let n=e[t];return lt(n)?n:n[Qe]}function y2(t){return(t[A]&4)===4}function Mi(t){return(t[A]&128)===128}function g2(t){return Ye(t[de])}function $e(t,e){return e==null?null:t[e]}function O1(t){t[wn]=0}function F1(t){t[A]&1024||(t[A]|=1024,Mi(t)&&yr(t))}function m2(t,e){for(;t>0;)e=e[Mn],t--;return e}function ma(t){return!!(t[A]&9216||t[Ne]?.dirty)}function wi(t){t[ct].changeDetectionScheduler?.notify(8),t[A]&64&&(t[A]|=1024),ma(t)&&yr(t)}function yr(t){t[ct].changeDetectionScheduler?.notify(0);let e=jt(t);for(;e!==null&&!(e[A]&8192||(e[A]|=8192,!Mi(e)));)e=jt(e)}function N1(t,e){if(xn(t))throw new I(911,!1);t[Ct]===null&&(t[Ct]=[]),t[Ct].push(e)}function k2(t,e){if(t[Ct]===null)return;let n=t[Ct].indexOf(e);n!==-1&&t[Ct].splice(n,1)}function jt(t){let e=t[de];return Ye(e)?e[de]:e}function j1(t){return t[ur]??=[]}function V1(t){return t.cleanup??=[]}function v2(t,e,n,r){let a=j1(e);a.push(n),t.firstCreatePass&&V1(t).push(r,a.length-1)}var R={lFrame:T2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var o1=!1;function M2(){return R.lFrame.elementDepthCount}function w2(){R.lFrame.elementDepthCount++}function H1(){R.lFrame.elementDepthCount--}function Ci(){return R.bindingsEnabled}function q1(){return R.skipHydrationRootTNode!==null}function B1(t){return R.skipHydrationRootTNode===t}function z1(){R.skipHydrationRootTNode=null}function D(){return R.lFrame.lView}function Y(){return R.lFrame.tView}function C2(t){return R.lFrame.contextLView=t,t[re]}function I2(t){return R.lFrame.contextLView=null,t}function oe(){let t=U1();for(;t!==null&&t.type===64;)t=t.parent;return t}function U1(){return R.lFrame.currentTNode}function b2(){let t=R.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function gr(t,e){let n=R.lFrame;n.currentTNode=t,n.isParent=e}function $1(){return R.lFrame.isParent}function G1(){R.lFrame.isParent=!1}function x2(){return R.lFrame.contextLView}function W1(){return o1}function Z1(t){let e=o1;return o1=t,e}function ka(){let t=R.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function K1(){return R.lFrame.bindingIndex}function D2(t){return R.lFrame.bindingIndex=t}function St(){return R.lFrame.bindingIndex++}function Ii(t){let e=R.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function S2(){return R.lFrame.inI18n}function _2(t,e){let n=R.lFrame;n.bindingIndex=n.bindingRootIndex=t,bi(e)}function L2(){return R.lFrame.currentDirectiveIndex}function bi(t){R.lFrame.currentDirectiveIndex=t}function E2(t){let e=R.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function X1(){return R.lFrame.currentQueryIndex}function xi(t){R.lFrame.currentQueryIndex=t}function _k(t){let e=t[b];return e.type===2?e.declTNode:e.type===1?t[be]:null}function J1(t,e,n){if(n&4){let a=e,o=t;for(;a=a.parent,a===null&&!(n&1);)if(a=_k(o),a===null||(o=o[Mn],a.type&10))break;if(a===null)return!1;e=a,t=o}let r=R.lFrame=A2();return r.currentTNode=e,r.lView=t,!0}function Di(t){let e=A2(),n=t[b];R.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function A2(){let t=R.lFrame,e=t===null?null:t.child;return e===null?T2(t):e}function T2(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function R2(){let t=R.lFrame;return R.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Q1=R2;function Si(){let t=R2();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function P2(t){return(R.lFrame.contextLView=m2(t,R.lFrame.contextLView))[re]}function ht(){return R.lFrame.selectedIndex}function Wt(t){R.lFrame.selectedIndex=t}function va(){let t=R.lFrame;return ga(t.tView,t.selectedIndex)}function O2(){R.lFrame.currentNamespace=A1}function F2(){Lk()}function Lk(){R.lFrame.currentNamespace=null}function N2(){return R.lFrame.currentNamespace}var j2=!0;function _i(){return j2}function Ma(t){j2=t}function i1(t,e=null,n=null,r){let a=Y1(t,e,n,r);return a.resolveInjectorInitializers(),a}function Y1(t,e=null,n=null,r,a=new Set){let o=[n||Fe,c2(t)];return r=r||(typeof t=="object"?void 0:It(t)),new gn(o,e||ha(),r||null,a)}var bt=class t{static THROW_IF_NOT_FOUND=pn;static NULL=new da;static create(e,n){if(Array.isArray(e))return i1({name:""},n,e,"");{let r=e.name??"";return i1({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:t,providedIn:"any",factory:()=>ce(v1)});static __NG_ELEMENT_ID__=-1},wa=new P(""),Dn=(()=>{class t{static __NG_ELEMENT_ID__=Ek;static __NG_ENV_ID__=n=>n}return t})(),s1=class extends Dn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return xn(this._lView)}onDestroy(e){let n=this._lView;return N1(n,e),()=>k2(n,e)}};function Ek(){return new s1(D())}var Vt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},_t=new P("",{providedIn:"root",factory:()=>{let t=S(qe),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Vt),e.handleError(n))}}}),V2={provide:kn,useValue:()=>void S(Vt),multi:!0};function ed(t){return typeof t=="function"&&t[me]!==void 0}function Sn(t,e){let[n,r,a]=Tc(t,e?.equal),o=n,i=o[me];return o.set=r,o.update=a,o.asReadonly=H2.bind(o),o}function H2(){let t=this[me];if(t.readonlyFn===void 0){let e=()=>this();e[me]=t,t.readonlyFn=e}return t.readonlyFn}function td(t){return ed(t)&&typeof t.set=="function"}var Li=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Ak}return t})();function Ak(){return new Li(D(),oe())}var Ht=class{},Ei=new P("",{providedIn:"root",factory:()=>!1});var nd=new P(""),rd=new P(""),_n=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ra(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new V(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ca(...t){}var ad=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>new c1})}return t})(),c1=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function xr(t){return{toString:t}.toString()}var Ai="__parameters__";function Vk(t){return function(...n){if(t){let r=t(...n);for(let a in r)this[a]=r[a]}}}function Hk(t,e,n){return xr(()=>{let r=Vk(e);function a(...o){if(this instanceof a)return r.apply(this,o),this;let i=new a(...o);return s.annotation=i,s;function s(c,d,l){let u=c.hasOwnProperty(Ai)?c[Ai]:Object.defineProperty(c,Ai,{value:[]})[Ai];for(;u.length<=l;)u.push(null);return(u[l]=u[l]||[]).push(i),c}}return a.prototype.ngMetadataName=t,a.annotationCls=a,a})}var $d=e2(Hk("Optional"),8);function qk(t){return typeof t=="function"}var Hi=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function m0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Xt=(()=>{let t=()=>k0;return t.ngInherit=!0,t})();function k0(t){return t.type.prototype.ngOnChanges&&(t.setInput=zk),Bk}function Bk(){let t=M0(this),e=t?.current;if(e){let n=t.previous;if(n===Bt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zk(t,e,n,r,a){let o=this.declaredInputs[r],i=M0(t)||Uk(t,{previous:Bt,current:null}),s=i.current||(i.current={}),c=i.previous,d=c[o];s[o]=new Hi(d&&d.currentValue,n,c===Bt),m0(t,e,a,n)}var v0="__ngSimpleChanges__";function M0(t){return t[v0]||null}function Uk(t,e){return t[v0]=e}var q2=[];var B=function(t,e=null,n){for(let r=0;r<q2.length;r++){let a=q2[r];a(t,e,n)}};function $k(t,e,n){let{ngOnChanges:r,ngOnInit:a,ngDoCheck:o}=e.type.prototype;if(r){let i=k0(e);(n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i)}a&&(n.preOrderHooks??=[]).push(0-t,a),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function w0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:l}=o;i&&(t.contentHooks??=[]).push(-n,i),s&&((t.contentHooks??=[]).push(n,s),(t.contentCheckHooks??=[]).push(n,s)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Oi(t,e,n){C0(t,e,3,n)}function Fi(t,e,n,r){(t[A]&3)===n&&C0(t,e,n,r)}function od(t,e){let n=t[A];(n&3)===e&&(n&=16383,n+=1,t[A]=n)}function C0(t,e,n,r){let a=r!==void 0?t[wn]&65535:0,o=r??-1,i=e.length-1,s=0;for(let c=a;c<i;c++)if(typeof e[c+1]=="number"){if(s=e[c],r!=null&&s>=r)break}else e[c]<0&&(t[wn]+=65536),(s<o||o==-1)&&(Gk(t,n,e,c),t[wn]=(t[wn]&4294901760)+c+2),c++}function B2(t,e){B(4,t,e);let n=E(null);try{e.call(t)}finally{E(n),B(5,t,e)}}function Gk(t,e,n,r){let a=n[r]<0,o=n[r+1],i=a?-n[r]:n[r],s=t[i];a?t[A]>>14<t[wn]>>16&&(t[A]&3)===e&&(t[A]+=16384,B2(s,o)):B2(s,o)}var kr=-1,En=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,a){this.factory=e,this.name=a,this.canSeeViewProviders=n,this.injectImpl=r}};function Wk(t){return(t.flags&8)!==0}function Zk(t){return(t.flags&16)!==0}function Kk(t,e,n){let r=0;for(;r<n.length;){let a=n[r];if(typeof a=="number"){if(a!==0)break;r++;let o=n[r++],i=n[r++],s=n[r++];t.setAttribute(e,i,s,o)}else{let o=a,i=n[++r];Xk(o)?t.setProperty(e,o,i):t.setAttribute(e,o,i),r++}}return r}function I0(t){return t===3||t===4||t===6}function Xk(t){return t.charCodeAt(0)===64}function vr(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let a=e[r];typeof a=="number"?n=a:n===0||(n===-1||n===2?z2(t,n,a,null,e[++r]):z2(t,n,a,null,null))}}return t}function z2(t,e,n,r,a){let o=0,i=t.length;if(e===-1)i=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===e){i=-1;break}else if(s>e){i=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===n){a!==null&&(t[o+1]=a);return}o++,a!==null&&o++}i!==-1&&(t.splice(i,0,e),o=i+1),t.splice(o++,0,n),a!==null&&t.splice(o++,0,a)}function b0(t){return t!==kr}function qi(t){return t&32767}function Jk(t){return t>>16}function Bi(t,e){let n=Jk(t),r=e;for(;n>0;)r=r[Mn],n--;return r}var gd=!0;function zi(t){let e=gd;return gd=t,e}var Qk=256,x0=Qk-1,D0=5,Yk=0,pt={};function e4(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(mn)&&(r=n[mn]),r==null&&(r=n[mn]=Yk++);let a=r&x0,o=1<<a;e.data[t+(a>>D0)]|=o}function Ui(t,e){let n=S0(t,e);if(n!==-1)return n;let r=e[b];r.firstCreatePass&&(t.injectorIndex=e.length,id(r.data,t),id(e,null),id(r.blueprint,null));let a=Gd(t,e),o=t.injectorIndex;if(b0(a)){let i=qi(a),s=Bi(a,e),c=s[b].data;for(let d=0;d<8;d++)e[o+d]=s[i+d]|c[i+d]}return e[o+8]=a,o}function id(t,e){t.push(0,0,0,0,0,0,0,0,e)}function S0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Gd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,a=e;for(;a!==null;){if(r=T0(a),r===null)return kr;if(n++,a=a[Mn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return kr}function md(t,e,n){e4(t,e,n)}function t4(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,a=0;for(;a<r;){let o=n[a];if(I0(o))break;if(o===0)a=a+2;else if(typeof o=="number")for(a++;a<r&&typeof n[a]=="string";)a++;else{if(o===e)return n[a+1];a=a+2}}}return null}function _0(t,e,n){if(n&8||t!==void 0)return t;yi(e,"NodeInjector")}function L0(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let a=t[Dt],o=Ie(void 0);try{return a?a.get(e,r,n&8):m1(e,r,n&8)}finally{Ie(o)}}return _0(r,e,n)}function E0(t,e,n,r=0,a){if(t!==null){if(e[A]&2048&&!(r&2)){let i=o4(t,e,n,r,pt);if(i!==pt)return i}let o=A0(t,e,n,r,pt);if(o!==pt)return o}return L0(e,n,r,a)}function A0(t,e,n,r,a){let o=r4(n);if(typeof o=="function"){if(!J1(e,t,r))return r&1?_0(a,n,r):L0(e,n,r,a);try{let i;if(i=o(r),i==null&&!(r&8))yi(n);else return i}finally{Q1()}}else if(typeof o=="number"){let i=null,s=S0(t,e),c=kr,d=r&1?e[xe][be]:null;for((s===-1||r&4)&&(c=s===-1?Gd(t,e):e[s+8],c===kr||!$2(r,!1)?s=-1:(i=e[b],s=qi(c),e=Bi(c,e)));s!==-1;){let l=e[b];if(U2(o,s,l.data)){let u=n4(s,e,n,i,r,d);if(u!==pt)return u}c=e[s+8],c!==kr&&$2(r,e[b].data[s+8]===d)&&U2(o,s,e)?(i=l,s=qi(c),e=Bi(c,e)):s=-1}}return a}function n4(t,e,n,r,a,o){let i=e[b],s=i.data[t+8],c=r==null?Gt(s)&&gd:r!=i&&(s.type&3)!==0,d=a&1&&o===s,l=Ni(s,i,n,c,d);return l!==null?xa(e,i,l,s,a):pt}function Ni(t,e,n,r,a){let o=t.providerIndexes,i=e.data,s=o&1048575,c=t.directiveStart,d=t.directiveEnd,l=o>>20,u=r?s:s+l,p=a?s+l:d;for(let h=u;h<p;h++){let y=i[h];if(h<c&&n===y||h>=c&&y.type===n)return h}if(a){let h=i[c];if(h&&ut(h)&&h.type===n)return c}return null}function xa(t,e,n,r,a){let o=t[n],i=e.data;if(o instanceof En){let s=o;if(s.resolving){let h=Xh(i[n]);throw g1(h)}let c=zi(s.canSeeViewProviders);s.resolving=!0;let d=i[n].type||i[n],l,u=s.injectImpl?Ie(s.injectImpl):null,p=J1(t,r,0);try{o=t[n]=s.factory(void 0,a,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&$k(n,i[n],e)}finally{u!==null&&Ie(u),zi(c),s.resolving=!1,Q1()}}return o}function r4(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(mn)?t[mn]:void 0;return typeof e=="number"?e>=0?e&x0:a4:e}function U2(t,e,n){let r=1<<t;return!!(n[e+(t>>D0)]&r)}function $2(t,e){return!(t&2)&&!(t&1&&e)}var Ln=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return E0(this._tNode,this._lView,e,fn(r),n)}};function a4(){return new Ln(oe(),D())}function nt(t){return xr(()=>{let e=t.prototype.constructor,n=e[ca]||kd(e),r=Object.prototype,a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==r;){let o=a[ca]||kd(a);if(o&&o!==n)return o;a=Object.getPrototypeOf(a)}return o=>new o})}function kd(t){return l1(t)?()=>{let e=kd(pe(t));return e&&e()}:Nt(t)}function o4(t,e,n,r,a){let o=t,i=e;for(;o!==null&&i!==null&&i[A]&2048&&!fr(i);){let s=A0(o,i,n,r|2,pt);if(s!==pt)return s;let c=o.parent;if(!c){let d=i[_1];if(d){let l=d.get(n,pt,r);if(l!==pt)return l}c=T0(i),i=i[Mn]}o=c}return a}function T0(t){let e=t[b],n=e.type;return n===2?e.declTNode:n===1?t[be]:null}function Wd(t){return t4(oe(),t)}function i4(){return Dr(oe(),D())}function Dr(t,e){return new Ee(et(t,e))}var Ee=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=i4}return t})();function s4(t){return t instanceof Ee?t.nativeElement:t}function c4(){return this._results[Symbol.iterator]()}var $i=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new He}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=n2(e);(this._changesDetected=!t2(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=c4};function R0(t){return(t.flags&128)===128}var Zd=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Zd||{}),P0=new Map,d4=0;function l4(){return d4++}function u4(t){P0.set(t[pa],t)}function vd(t){P0.delete(t[pa])}var G2="__ngContext__";function Mr(t,e){lt(e)?(t[G2]=e[pa],u4(e)):t[G2]=e}function O0(t){return N0(t[hr])}function F0(t){return N0(t[Be])}function N0(t){for(;t!==null&&!Ye(t);)t=t[Be];return t}var Md;function h4(t){Md=t}function j0(){if(Md!==void 0)return Md;if(typeof document<"u")return document;throw new I(210,!1)}var p4=new P("",{providedIn:"root",factory:()=>f4}),f4="ng",V0=new P(""),y4=new P("",{providedIn:"platform",factory:()=>"unknown"});var g4=new P("",{providedIn:"root",factory:()=>j0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var m4="h",k4="b";var H0="r";var q0="di";var B0=!1,z0=new P("",{providedIn:"root",factory:()=>B0});var v4=(t,e,n,r)=>{};function M4(t,e,n,r){v4(t,e,n,r)}function cs(t){return(t.flags&32)===32}var w4=()=>null;function U0(t,e,n=!1){return w4(t,e,n)}function $0(t,e){let n=t.contentQueries;if(n!==null){let r=E(null);try{for(let a=0;a<n.length;a+=2){let o=n[a],i=n[a+1];if(i!==-1){let s=t.data[i];xi(o),s.contentQueries(2,e[i],i)}}}finally{E(r)}}}function wd(t,e,n){xi(0);let r=E(null);try{e(t,n)}finally{E(r)}}function Kd(t,e,n){if(E1(e)){let r=E(null);try{let a=e.directiveStart,o=e.directiveEnd;for(let i=a;i<o;i++){let s=t.data[i];if(s.contentQueries){let c=n[i];s.contentQueries(1,c,i)}}}finally{E(r)}}}var wr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(wr||{});var Ti;function C4(){if(Ti===void 0&&(Ti=null,qt.trustedTypes))try{Ti=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ti}function W2(t){return C4()?.createScriptURL(t)||t}var Gi=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hi})`}};function ds(t){return t instanceof Gi?t.changingThisBreaksApplicationSecurity:t}function Xd(t,e){let n=G0(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${hi})`)}return n===e}function G0(t){return t instanceof Gi&&t.getTypeName()||null}var I4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function W0(t){return t=String(t),t.match(I4)?t:"unsafe:"+t}var ls=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(ls||{});function Z0(t){let e=X0();return e?e.sanitize(ls.URL,t)||"":Xd(t,"URL")?ds(t):W0(Je(t))}function K0(t){let e=X0();if(e)return W2(e.sanitize(ls.RESOURCE_URL,t)||"");if(Xd(t,"ResourceURL"))return W2(ds(t));throw new I(904,!1)}function b4(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?K0:Z0}function x4(t,e,n){return b4(e,n)(t)}function X0(){let t=D();return t&&t[ct].sanitizer}var D4=/^>|^->|<!--|-->|--!>|<!-$/g,S4=/(<|>)/g,_4="\u200B$1\u200B";function L4(t){return t.replace(D4,e=>e.replace(S4,_4))}function E4(t){return t.ownerDocument}function J0(t){return t instanceof Function?t():t}function A4(t,e,n){let r=t.length;for(;;){let a=t.indexOf(e,n);if(a===-1)return a;if(a===0||t.charCodeAt(a-1)<=32){let o=e.length;if(a+o===r||t.charCodeAt(a+o)<=32)return a}n=a+1}}var Q0="ng-template";function T4(t,e,n,r){let a=0;if(r){for(;a<e.length&&typeof e[a]=="string";a+=2)if(e[a]==="class"&&A4(e[a+1].toLowerCase(),n,0)!==-1)return!0}else if(Jd(t))return!1;if(a=e.indexOf(1,a),a>-1){let o;for(;++a<e.length&&typeof(o=e[a])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Jd(t){return t.type===4&&t.value!==Q0}function R4(t,e,n){let r=t.type===4&&!n?Q0:t.value;return e===r}function P4(t,e,n){let r=4,a=t.attrs,o=a!==null?N4(a):0,i=!1;for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number"){if(!i&&!tt(r)&&!tt(c))return!1;if(i&&tt(c))continue;i=!1,r=c|r&1;continue}if(!i)if(r&4){if(r=2|r&1,c!==""&&!R4(t,c,n)||c===""&&e.length===1){if(tt(r))return!1;i=!0}}else if(r&8){if(a===null||!T4(t,a,c,n)){if(tt(r))return!1;i=!0}}else{let d=e[++s],l=O4(c,a,Jd(t),n);if(l===-1){if(tt(r))return!1;i=!0;continue}if(d!==""){let u;if(l>o?u="":u=a[l+1].toLowerCase(),r&2&&d!==u){if(tt(r))return!1;i=!0}}}}return tt(r)||i}function tt(t){return(t&1)===0}function O4(t,e,n,r){if(e===null)return-1;let a=0;if(r||!n){let o=!1;for(;a<e.length;){let i=e[a];if(i===t)return a;if(i===3||i===6)o=!0;else if(i===1||i===2){let s=e[++a];for(;typeof s=="string";)s=e[++a];continue}else{if(i===4)break;if(i===0){a+=4;continue}}a+=o?1:2}return-1}else return j4(e,t)}function Y0(t,e,n=!1){for(let r=0;r<e.length;r++)if(P4(t,e[r],n))return!0;return!1}function F4(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function N4(t){for(let e=0;e<t.length;e++){let n=t[e];if(I0(n))return e}return t.length}function j4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function V4(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let a=0;a<t.length;a++)if(t[a]!==r[a])continue e;return!0}}return!1}function Z2(t,e){return t?":not("+e.trim()+")":e}function H4(t){let e=t[0],n=1,r=2,a="",o=!1;for(;n<t.length;){let i=t[n];if(typeof i=="string")if(r&2){let s=t[++n];a+="["+i+(s.length>0?'="'+s+'"':"")+"]"}else r&8?a+="."+i:r&4&&(a+=" "+i);else a!==""&&!tt(i)&&(e+=Z2(o,a),a=""),r=i,o=o||!tt(r);n++}return a!==""&&(e+=Z2(o,a)),e}function q4(t){return t.map(H4).join(",")}function B4(t){let e=[],n=[],r=1,a=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")a===2?o!==""&&e.push(o,t[++r]):a===8&&n.push(o);else{if(!tt(a))break;a=o}r++}return n.length&&e.push(1,...n),e}var ve={};function z4(t,e){return t.createText(e)}function U4(t,e,n){t.setValue(e,n)}function $4(t,e){return t.createComment(L4(e))}function ep(t,e,n){return t.createElement(e,n)}function Wi(t,e,n,r,a){t.insertBefore(e,n,r,a)}function tp(t,e,n){t.appendChild(e,n)}function K2(t,e,n,r,a){r!==null?Wi(t,e,n,r,a):tp(t,e,n)}function np(t,e,n,r){t.removeChild(null,e,n,r)}function G4(t,e,n){t.setAttribute(e,"style",n)}function W4(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rp(t,e,n){let{mergedAttrs:r,classes:a,styles:o}=n;r!==null&&Kk(t,e,r),a!==null&&W4(t,e,a),o!==null&&G4(t,e,o)}function Qd(t,e,n,r,a,o,i,s,c,d,l){let u=Q+r,p=u+a,h=Z4(u,p),y=typeof d=="function"?d():d;return h[b]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function Z4(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ve);return n}function K4(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Yd(t,e,n,r,a,o,i,s,c,d,l){let u=e.blueprint.slice();return u[Qe]=a,u[A]=r|4|128|8|64|1024,(d!==null||t&&t[A]&2048)&&(u[A]|=2048),O1(u),u[de]=u[Mn]=t,u[re]=n,u[ct]=i||t&&t[ct],u[$]=s||t&&t[$],u[Dt]=c||t&&t[Dt]||null,u[be]=o,u[pa]=l4(),u[vn]=l,u[_1]=d,u[xe]=e.type==2?t[xe]:u,u}function X4(t,e,n){let r=et(e,t),a=K4(n),o=t[ct].rendererFactory,i=el(t,Yd(t,a,null,ap(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=i}function ap(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function op(t,e,n,r){if(n===0)return-1;let a=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return a}function el(t,e){return t[hr]?t[S1][Be]=e:t[hr]=e,t[S1]=e,e}function J4(t=1){ip(Y(),D(),ht()+t,!1)}function ip(t,e,n,r){if(!r)if((e[A]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Oi(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fi(e,o,0,n)}Wt(n)}var us=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(us||{});function Cd(t,e,n,r){let a=E(null);try{let[o,i,s]=t.inputs[n],c=null;(i&us.SignalBased)!==0&&(c=e[o][me]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):m0(e,c,o,r)}finally{E(a)}}var Da=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Da||{}),Q4;function tl(t,e){return Q4(t,e)}var Sa=new Set,hs=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(hs||{}),Pa=new P(""),X2=new Set;function Rn(t){X2.has(t)||(X2.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var sp=!1,Id=class extends He{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,h2()&&(this.destroyRef=S(Dn,{optional:!0})??void 0,this.pendingTasks=S(_n,{optional:!0})??void 0)}emit(e){let n=E(null);try{super.next(e)}finally{E(n)}}subscribe(e,n,r){let a=e,o=n||(()=>null),i=r;if(e&&typeof e=="object"){let c=e;a=c.next?.bind(c),o=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),a&&(a=this.wrapInTimeout(a)),i&&(i=this.wrapInTimeout(i)));let s=super.subscribe({next:a,error:o,complete:i});return e instanceof he&&e.add(s),s}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_e=Id;function cp(t){let e,n;function r(){t=Ca;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function J2(t){return queueMicrotask(()=>t()),()=>{t=Ca}}var nl="isAngularZone",Zi=nl+"_ID",Y4=0,Le=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _e(!1);onMicrotaskEmpty=new _e(!1);onStable=new _e(!1);onError=new _e(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:o=sp}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!a&&r,i.shouldCoalesceRunChangeDetection=a,i.callbackScheduled=!1,i.scheduleInRootZone=o,nv(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(nl)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,a){let o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+a,e,ev,Ca,Ca);try{return o.runTask(i,n,r)}finally{o.cancelTask(i)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ev={};function rl(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tv(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){cp(()=>{t.callbackScheduled=!1,bd(t),t.isCheckStableRunning=!0,rl(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bd(t)}function nv(t){let e=()=>{tv(t)},n=Y4++;t._inner=t._inner.fork({name:"angular",properties:{[nl]:!0,[Zi]:n,[Zi+n]:!0},onInvokeTask:(r,a,o,i,s,c)=>{if(rv(c))return r.invokeTask(o,i,s,c);try{return Q2(t),r.invokeTask(o,i,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Y2(t)}},onInvoke:(r,a,o,i,s,c,d)=>{try{return Q2(t),r.invoke(o,i,s,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!av(c)&&e(),Y2(t)}},onHasTask:(r,a,o,i)=>{r.hasTask(o,i),a===o&&(i.change=="microTask"?(t._hasPendingMicrotasks=i.microTask,bd(t),rl(t)):i.change=="macroTask"&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,a,o,i)=>(r.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}function bd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Q2(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Y2(t){t._nesting--,rl(t)}var Ki=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _e;onMicrotaskEmpty=new _e;onStable=new _e;onError=new _e;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,a){return e.apply(n,r)}};function rv(t){return dp(t,"__ignore_ng_zone__")}function av(t){return dp(t,"__scheduler_tick__")}function dp(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var al=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),lp=[0,1,2,3],up=(()=>{class t{ngZone=S(Le);scheduler=S(Ht);errorHandler=S(Vt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(Pa,{optional:!0})}execute(){let n=this.sequences.size>0;n&&B(16),this.executing=!0;for(let r of lp)for(let a of this.sequences)if(!(a.erroredOrDestroyed||!a.hooks[r]))try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=a.hooks[r];return o(a.pipelinedValue)},a.snapshot))}catch(o){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&B(17)}register(n){let{view:r}=n;r!==void 0?((r[Cn]??=[]).push(n),yr(r),r[A]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(hs.AFTER_NEXT_RENDER,n):n()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),Xi=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,a,o,i=null){this.impl=e,this.hooks=n,this.view=r,this.once=a,this.snapshot=i,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Cn];e&&(this.view[Cn]=e.filter(n=>n!==this))}};function ol(t,e){let n=e?.injector??S(bt);return Rn("NgAfterNextRender"),iv(t,n,e,!0)}function ov(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function iv(t,e,n,r){let a=e.get(al);a.impl??=e.get(up);let o=e.get(Pa,null,{optional:!0}),i=n?.manualCleanup!==!0?e.get(Dn):null,s=e.get(Li,null,{optional:!0}),c=new Xi(a.impl,ov(t),s?.view,r,i,o?.snapshot(null));return a.impl.register(c),c}var hp=new P("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function pp(t,e,n){let r=t.get(hp);if(Array.isArray(e))for(let a of e)r.queue.add(a),n?.detachedLeaveAnimationFns?.push(a);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function sv(t,e){let n=t.get(hp);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function cv(t,e){for(let[n,r]of e)pp(t,r.animateFns)}function e0(t,e,n,r){let a=t?.[In]?.enter;e!==null&&a&&a.has(n.index)&&cv(r,a)}function mr(t,e,n,r,a,o,i,s){if(a!=null){let c,d=!1;Ye(a)?c=a:lt(a)&&(d=!0,a=a[Qe]);let l=ze(a);t===0&&r!==null?(e0(s,r,o,n),i==null?tp(e,r,l):Wi(e,r,l,i||null,!0)):t===1&&r!==null?(e0(s,r,o,n),Wi(e,r,l,i||null,!0)):t===2?t0(s,o,n,u=>{np(e,l,d,u)}):t===3&&t0(s,o,n,()=>{e.destroyNode(l)}),c!=null&&vv(e,t,n,c,o,r,i)}}function dv(t,e){fp(t,e),e[Qe]=null,e[be]=null}function lv(t,e,n,r,a,o){r[Qe]=a,r[be]=e,fs(t,r,n,1,a,o)}function fp(t,e){e[ct].changeDetectionScheduler?.notify(9),fs(t,e,e[$],2,null,null)}function uv(t){let e=t[hr];if(!e)return sd(t[b],t);for(;e;){let n=null;if(lt(e))n=e[hr];else{let r=e[te];r&&(n=r)}if(!n){for(;e&&!e[Be]&&e!==t;)lt(e)&&sd(e[b],e),e=e[de];e===null&&(e=t),lt(e)&&sd(e[b],e),n=e&&e[Be]}e=n}}function il(t,e){let n=t[bn],r=n.indexOf(e);n.splice(r,1)}function ps(t,e){if(xn(e))return;let n=e[$];n.destroyNode&&fs(t,e,n,3,null,null),uv(e)}function sd(t,e){if(xn(e))return;let n=E(null);try{e[A]&=-129,e[A]|=256,e[Ne]&&ea(e[Ne]),fv(t,e),pv(t,e),e[b].type===1&&e[$].destroy();let r=e[Ut];if(r!==null&&Ye(e[de])){r!==e[de]&&il(r,e);let a=e[dt];a!==null&&a.detachView(t)}vd(e)}finally{E(n)}}function t0(t,e,n,r){let a=t?.[In];if(a==null||a.leave==null||!a.leave.has(e.index))return r(!1);t&&Sa.add(t),pp(n,()=>{if(a.leave&&a.leave.has(e.index)){let i=a.leave.get(e.index),s=[];if(i){for(let c=0;c<i.animateFns.length;c++){let d=i.animateFns[c],{promise:l}=d();s.push(l)}a.detachedLeaveAnimationFns=void 0}a.running=Promise.allSettled(s),hv(t,r)}else t&&Sa.delete(t),r(!1)},a)}function hv(t,e){let n=t[In]?.running;if(n){n.then(()=>{t[In].running=void 0,Sa.delete(t),e(!0)});return}e(!1)}function pv(t,e){let n=t.cleanup,r=e[ur];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(e[ur]=null);let a=e[Ct];if(a!==null){e[Ct]=null;for(let i=0;i<a.length;i++){let s=a[i];s()}}let o=e[fa];if(o!==null){e[fa]=null;for(let i of o)i.destroy()}}function fv(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let a=e[n[r]];if(!(a instanceof En)){let o=n[r+1];if(Array.isArray(o))for(let i=0;i<o.length;i+=2){let s=a[o[i]],c=o[i+1];B(4,s,c);try{c.call(s)}finally{B(5,s,c)}}else{B(4,a,o);try{o.call(a)}finally{B(5,a,o)}}}}}function yp(t,e,n){return yv(t,e.parent,n)}function yv(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Qe];if(Gt(r)){let{encapsulation:a}=t.data[r.directiveStart+r.componentOffset];if(a===wr.None||a===wr.Emulated)return null}return et(r,n)}function gp(t,e,n){return mv(t,e,n)}function gv(t,e,n){return t.type&40?et(t,n):null}var mv=gv,n0;function sl(t,e,n,r){let a=yp(t,r,e),o=e[$],i=r.parent||e[be],s=gp(i,r,e);if(a!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)K2(o,a,n[c],s,!1);else K2(o,a,n,s,!1);n0!==void 0&&n0(o,r,e,n,a)}function Ia(t,e){if(e!==null){let n=e.type;if(n&3)return et(e,t);if(n&4)return xd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ia(t,r);{let a=t[e.index];return Ye(a)?xd(-1,a):ze(a)}}else{if(n&128)return Ia(t,e.next);if(n&32)return tl(e,t)()||ze(t[e.index]);{let r=mp(t,e);if(r!==null){if(Array.isArray(r))return r[0];let a=jt(t[xe]);return Ia(a,r)}else return Ia(t,e.next)}}}return null}function mp(t,e){if(e!==null){let r=t[xe][be],a=e.projection;return r.projection[a]}return null}function xd(t,e){let n=te+t+1;if(n<e.length){let r=e[n],a=r[b].firstChild;if(a!==null)return Ia(r,a)}return e[$t]}function cl(t,e,n,r,a,o,i){for(;n!=null;){let s=r[Dt];if(n.type===128){n=n.next;continue}let c=r[n.index],d=n.type;if(i&&e===0&&(c&&Mr(ze(c),r),n.flags|=2),!cs(n))if(d&8)cl(t,e,n.child,r,a,o,!1),mr(e,t,s,a,c,n,o,r);else if(d&32){let l=tl(n,r),u;for(;u=l();)mr(e,t,s,a,u,n,o,r);mr(e,t,s,a,c,n,o,r)}else d&16?kp(t,e,r,n,a,o):mr(e,t,s,a,c,n,o,r);n=i?n.projectionNext:n.next}}function fs(t,e,n,r,a,o){cl(n,r,t.firstChild,e,a,o,!1)}function kv(t,e,n){let r=e[$],a=yp(t,n,e),o=n.parent||e[be],i=gp(o,n,e);kp(r,0,e,n,a,i)}function kp(t,e,n,r,a,o){let i=n[xe],c=i[be].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let l=c[d];mr(e,t,n[Dt],a,l,r,o,n)}else{let d=c,l=i[de];R0(r)&&(d.flags|=128),cl(t,e,d,l,a,o,!0)}}function vv(t,e,n,r,a,o,i){let s=r[$t],c=ze(r);s!==c&&mr(e,t,n,o,s,a,i);for(let d=te;d<r.length;d++){let l=r[d];fs(l[b],l,t,e,o,s)}}function Mv(t,e,n,r,a){if(e)a?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Da.DashCase;a==null?t.removeStyle(n,r,o):(typeof a=="string"&&a.endsWith("!important")&&(a=a.slice(0,-10),o|=Da.Important),t.setStyle(n,r,a,o))}}function vp(t,e,n,r,a){let o=ht(),i=r&2;try{Wt(-1),i&&e.length>Q&&ip(t,e,Q,!1),B(i?2:0,a,n),n(r,a)}finally{Wt(o),B(i?3:1,a,n)}}function ys(t,e,n){Dv(t,e,n),(n.flags&64)===64&&Sv(t,e,n)}function Oa(t,e,n=et){let r=e.localNames;if(r!==null){let a=e.index+1;for(let o=0;o<r.length;o+=2){let i=r[o+1],s=i===-1?n(e,t):t[i];t[a++]=s}}}function wv(t,e,n,r){let o=r.get(z0,B0)||n===wr.ShadowDom,i=t.selectRootElement(e,o);return Cv(i),i}function Cv(t){Iv(t)}var Iv=()=>null;function bv(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Mp(t,e,n,r,a,o){let i=e[b];if(hl(t,i,e,n,r)){Gt(t)&&xv(e,t.index);return}t.type&3&&(n=bv(n)),wp(t,e,n,r,a,o)}function wp(t,e,n,r,a,o){if(t.type&3){let i=et(t,e);r=o!=null?o(r,t.value||"",n):r,a.setProperty(i,n,r)}else t.type&12}function xv(t,e){let n=Ue(e,t);n[A]&16||(n[A]|=64)}function Dv(t,e,n){let r=n.directiveStart,a=n.directiveEnd;Gt(n)&&X4(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ui(n,e);let o=n.initialInputs;for(let i=r;i<a;i++){let s=t.data[i],c=xa(e,t,i,n);if(Mr(c,e),o!==null&&Av(e,i-r,c,s,n,o),ut(s)){let d=Ue(n.index,e);d[re]=xa(e,t,i,n)}}}function Sv(t,e,n){let r=n.directiveStart,a=n.directiveEnd,o=n.index,i=L2();try{Wt(o);for(let s=r;s<a;s++){let c=t.data[s],d=e[s];bi(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&_v(c,d)}}finally{Wt(-1),bi(i)}}function _v(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function dl(t,e){let n=t.directiveRegistry,r=null;if(n)for(let a=0;a<n.length;a++){let o=n[a];Y0(e,o.selectors,!1)&&(r??=[],ut(o)?r.unshift(o):r.push(o))}return r}function Lv(t,e,n,r,a,o){let i=et(t,e);Ev(e[$],i,o,t.value,n,r,a)}function Ev(t,e,n,r,a,o,i){if(o==null)t.removeAttribute(e,a,n);else{let s=i==null?Je(o):i(o,r||"",a);t.setAttribute(e,a,s,n)}}function Av(t,e,n,r,a,o){let i=o[e];if(i!==null)for(let s=0;s<i.length;s+=2){let c=i[s],d=i[s+1];Cd(r,n,c,d)}}function ll(t,e,n,r,a){let o=Q+n,i=e[b],s=a(i,e,t,r,n);e[o]=s,gr(t,!0);let c=t.type===2;return c?(rp(e[$],s,t),(M2()===0||pr(t))&&Mr(s,e),w2()):Mr(s,e),_i()&&(!c||!cs(t))&&sl(i,e,s,t),t}function ul(t){let e=t;return $1()?G1():(e=e.parent,gr(e,!1)),e}function Tv(t,e){let n=t[Dt];if(!n)return;let r;try{r=n.get(_t,null)}catch{r=null}r?.(e)}function hl(t,e,n,r,a){let o=t.inputs?.[r],i=t.hostDirectiveInputs?.[r],s=!1;if(i)for(let c=0;c<i.length;c+=2){let d=i[c],l=i[c+1],u=e.data[d];Cd(u,n[d],l,a),s=!0}if(o)for(let c of o){let d=n[c],l=e.data[c];Cd(l,d,r,a),s=!0}return s}function Rv(t,e){let n=Ue(e,t),r=n[b];Pv(r,n);let a=n[Qe];a!==null&&n[vn]===null&&(n[vn]=U0(a,n[Dt])),B(18),pl(r,n,n[re]),B(19,n[re])}function Pv(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function pl(t,e,n){Di(e);try{let r=t.viewQuery;r!==null&&wd(1,r,n);let a=t.template;a!==null&&vp(t,e,a,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[dt]?.finishViewCreation(t),t.staticContentQueries&&$0(t,e),t.staticViewQueries&&wd(2,t.viewQuery,n);let o=t.components;o!==null&&Ov(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[A]&=-5,Si()}}function Ov(t,e){for(let n=0;n<e.length;n++)Rv(t,e[n])}function Fa(t,e,n,r){let a=E(null);try{let o=e.tView,s=t[A]&4096?4096:16,c=Yd(t,o,n,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];c[Ut]=d;let l=t[dt];return l!==null&&(c[dt]=l.createEmbeddedView(o)),pl(o,c,n),c}finally{E(a)}}function Cr(t,e){return!e||e.firstChild===null||R0(t)}function _a(t,e,n,r,a=!1){for(;n!==null;){if(n.type===128){n=a?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(ze(o)),Ye(o)&&Cp(o,r);let i=n.type;if(i&8)_a(t,e,n.child,r);else if(i&32){let s=tl(n,e),c;for(;c=s();)r.push(c)}else if(i&16){let s=mp(e,n);if(Array.isArray(s))r.push(...s);else{let c=jt(e[xe]);_a(c[b],c,s,r,!0)}}n=a?n.projectionNext:n.next}return r}function Cp(t,e){for(let n=te;n<t.length;n++){let r=t[n],a=r[b].firstChild;a!==null&&_a(r[b],r,a,e)}t[$t]!==t[Qe]&&e.push(t[$t])}function Ip(t){if(t[Cn]!==null){for(let e of t[Cn])e.impl.addSequence(e);t[Cn].length=0}}var bp=[];function Fv(t){return t[Ne]??Nv(t)}function Nv(t){let e=bp.pop()??Object.create(Vv);return e.lView=t,e}function jv(t){t.lView[Ne]!==t&&(t.lView=null,bp.push(t))}var Vv=W(F({},Yn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{yr(t.lView)},consumerOnSignalRead(){this.lView[Ne]=this}});function Hv(t){let e=t[Ne]??Object.create(qv);return e.lView=t,e}var qv=W(F({},Yn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=jt(t.lView);for(;e&&!xp(e[b]);)e=jt(e);e&&F1(e)},consumerOnSignalRead(){this.lView[Ne]=this}});function xp(t){return t.type!==2}function Dp(t){if(t[fa]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[fa])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[A]&8192)}}var Bv=100;function Sp(t,e=0){let r=t[ct].rendererFactory,a=!1;a||r.begin?.();try{zv(t,e)}finally{a||r.end?.()}}function zv(t,e){let n=W1();try{Z1(!0),Dd(t,e);let r=0;for(;ma(t);){if(r===Bv)throw new I(103,!1);r++,Dd(t,1)}}finally{Z1(n)}}function Uv(t,e,n,r){if(xn(e))return;let a=e[A],o=!1,i=!1;Di(e);let s=!0,c=null,d=null;o||(xp(t)?(d=Fv(e),c=tr(d)):Lo()===null?(s=!1,d=Hv(e),c=tr(d)):e[Ne]&&(ea(e[Ne]),e[Ne]=null));try{O1(e),D2(t.bindingStartIndex),n!==null&&vp(t,e,n,2,r);let l=(a&3)===3;if(!o)if(l){let h=t.preOrderCheckHooks;h!==null&&Oi(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Fi(e,h,0,null),od(e,0)}if(i||$v(e),Dp(e),_p(e,0),t.contentQueries!==null&&$0(t,e),!o)if(l){let h=t.contentCheckHooks;h!==null&&Oi(e,h)}else{let h=t.contentHooks;h!==null&&Fi(e,h,1),od(e,1)}Wv(t,e);let u=t.components;u!==null&&Ep(e,u,0);let p=t.viewQuery;if(p!==null&&wd(2,p,r),!o)if(l){let h=t.viewCheckHooks;h!==null&&Oi(e,h)}else{let h=t.viewHooks;h!==null&&Fi(e,h,2),od(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[vi]){for(let h of e[vi])h();e[vi]=null}o||(Ip(e),e[A]&=-73)}catch(l){throw o||yr(e),l}finally{d!==null&&(Qr(d,c),s&&jv(d)),Si()}}function _p(t,e){for(let n=O0(t);n!==null;n=F0(n))for(let r=te;r<n.length;r++){let a=n[r];Lp(a,e)}}function $v(t){for(let e=O0(t);e!==null;e=F0(e)){if(!(e[A]&2))continue;let n=e[bn];for(let r=0;r<n.length;r++){let a=n[r];F1(a)}}}function Gv(t,e,n){B(18);let r=Ue(e,t);Lp(r,n),B(19,r[re])}function Lp(t,e){Mi(t)&&Dd(t,e)}function Dd(t,e){let r=t[b],a=t[A],o=t[Ne],i=!!(e===0&&a&16);if(i||=!!(a&64&&e===0),i||=!!(a&1024),i||=!!(o?.dirty&&Yr(o)),i||=!1,o&&(o.dirty=!1),t[A]&=-9217,i)Uv(r,t,r.template,t[re]);else if(a&8192){let s=E(null);try{Dp(t),_p(t,1);let c=r.components;c!==null&&Ep(t,c,1),Ip(t)}finally{E(s)}}}function Ep(t,e,n){for(let r=0;r<e.length;r++)Gv(t,e[r],n)}function Wv(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let a=n[r];if(a<0)Wt(~a);else{let o=a,i=n[++r],s=n[++r];_2(i,o);let c=e[o];B(24,c),s(2,c),B(25,c)}}}finally{Wt(-1)}}function fl(t,e){let n=W1()?64:1088;for(t[ct].changeDetectionScheduler?.notify(e);t;){t[A]|=n;let r=jt(t);if(fr(t)&&!r)return t;t=r}return null}function Ap(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Tp(t,e){let n=te+e;if(n<t.length)return t[n]}function Na(t,e,n,r=!0){let a=e[b];if(Zv(a,e,t,n),r){let i=xd(n,t),s=e[$],c=s.parentNode(t[$t]);c!==null&&lv(a,t[be],s,e,c,i)}let o=e[vn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Rp(t,e){let n=La(t,e);return n!==void 0&&ps(n[b],n),n}function La(t,e){if(t.length<=te)return;let n=te+e,r=t[n];if(r){let a=r[Ut];a!==null&&a!==t&&il(a,r),e>0&&(t[n-1][Be]=r[Be]);let o=ua(t,te+e);dv(r[b],r);let i=o[dt];i!==null&&i.detachView(o[b]),r[de]=null,r[Be]=null,r[A]&=-129}return r}function Zv(t,e,n,r){let a=te+r,o=n.length;r>0&&(n[a-1][Be]=e),r<o-te?(e[Be]=n[a],k1(n,te+r,e)):(n.push(e),e[Be]=null),e[de]=n;let i=e[Ut];i!==null&&n!==i&&Pp(i,e);let s=e[dt];s!==null&&s.insertView(t),wi(e),e[A]|=128}function Pp(t,e){let n=t[bn],r=e[de];if(lt(r))t[A]|=2;else{let a=r[de][xe];e[xe]!==a&&(t[A]|=2)}n===null?t[bn]=[e]:n.push(e)}var Zt=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[b];return _a(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[re]}set context(e){this._lView[re]=e}get destroyed(){return xn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[de];if(Ye(e)){let n=e[ya],r=n?n.indexOf(this):-1;r>-1&&(La(e,r),ua(n,r))}this._attachedToViewContainer=!1}ps(this._lView[b],this._lView)}onDestroy(e){N1(this._lView,e)}markForCheck(){fl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[A]&=-129}reattach(){wi(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,Sp(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fr(this._lView),n=this._lView[Ut];n!==null&&!e&&il(n,this._lView),fp(this._lView[b],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let n=fr(this._lView),r=this._lView[Ut];r!==null&&!n&&Pp(r,this._lView),wi(this._lView)}};var Kt=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Kv;constructor(n,r,a){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,a){let o=Fa(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:a});return new Zt(o)}}return t})();function Kv(){return gs(oe(),D())}function gs(t,e){return t.type&4?new Kt(e,t,Dr(t,e)):null}function Sr(t,e,n,r,a){let o=t.data[e];if(o===null)o=Xv(t,e,n,r,a),S2()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=a;let i=b2();o.injectorIndex=i===null?-1:i.injectorIndex}return gr(o,!0),o}function Xv(t,e,n,r,a){let o=U1(),i=$1(),s=i?o:o&&o.parent,c=t.data[e]=Qv(t,s,n,e,r,a);return Jv(t,c,o,i),c}function Jv(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Qv(t,e,n,r,a,o){let i=e?e.injectorIndex:-1,s=0;return q1()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:a,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var jD=new RegExp(`^(\\d+)*(${k4}|${m4})*(.*)`);function Yv(t){let e=t[L1]??[],r=t[de][$],a=[];for(let o of e)o.data[q0]!==void 0?a.push(o):e5(o,r);t[L1]=a}function e5(t,e){let n=0,r=t.firstChild;if(r){let a=t.data[H0];for(;n<a;){let o=r.nextSibling;np(e,r,!1),r=o,n++}}}var t5=()=>null,n5=()=>null;function Ji(t,e){return t5(t,e)}function Op(t,e,n){return n5(t,e,n)}var Fp=class{},ms=class{},Sd=class{resolveComponentFactory(e){throw new I(917,!1)}},ja=class{static NULL=new Sd},Ea=class{},ft=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>r5()}return t})();function r5(){let t=D(),e=oe(),n=Ue(e.index,t);return(lt(n)?n:t)[$]}var Np=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();var ji={},_d=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let a=this.injector.get(e,ji,r);return a!==ji||n===ji?a:this.parentInjector.get(e,n,r)}};function Qi(t,e,n){let r=n?t.styles:null,a=n?t.classes:null,o=0;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")o=s;else if(o==1)a=d1(a,s);else if(o==2){let c=s,d=e[++i];r=d1(r,c+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=a:t.classesWithoutHost=a}function L(t,e=0){let n=D();if(n===null)return ce(t,e);let r=oe();return E0(r,n,pe(t),e)}function jp(t,e,n,r,a){let o=r===null?null:{"":-1},i=a(t,n);if(i!==null){let s=i,c=null,d=null;for(let l of i)if(l.resolveHostDirectives!==null){[s,c,d]=l.resolveHostDirectives(i);break}i5(t,e,n,s,o,c,d)}o!==null&&r!==null&&a5(n,r,o)}function a5(t,e,n){let r=t.localNames=[];for(let a=0;a<e.length;a+=2){let o=n[e[a+1]];if(o==null)throw new I(-301,!1);r.push(e[a],o)}}function o5(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function i5(t,e,n,r,a,o,i){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&ut(h)&&(c=!0,o5(t,n,p)),md(Ui(n,e),t,h.type)}h5(n,t.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let d=!1,l=!1,u=op(t,e,s,null);s>0&&(n.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(n.mergedAttrs=vr(n.mergedAttrs,h.hostAttrs),c5(t,n,e,u,h),u5(u,h,a),i!==null&&i.has(h)){let[g,m]=i.get(h);n.directiveToIndex.set(h.type,[u,g+n.directiveStart,m+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let y=h.type.prototype;!d&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),u++}s5(t,n,o)}function s5(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let a=t.data[r];if(n===null||!n.has(a))r0(0,e,a,r),r0(1,e,a,r),o0(e,r,!1);else{let o=n.get(a);a0(0,e,o,r),a0(1,e,o,r),o0(e,r,!0)}}}function r0(t,e,n,r){let a=t===0?n.inputs:n.outputs;for(let o in a)if(a.hasOwnProperty(o)){let i;t===0?i=e.inputs??={}:i=e.outputs??={},i[o]??=[],i[o].push(r),Vp(e,o)}}function a0(t,e,n,r){let a=t===0?n.inputs:n.outputs;for(let o in a)if(a.hasOwnProperty(o)){let i=a[o],s;t===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[i]??=[],s[i].push(r,o),Vp(e,i)}}function Vp(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function o0(t,e,n){let{attrs:r,inputs:a,hostDirectiveInputs:o}=t;if(r===null||!n&&a===null||n&&o===null||Jd(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let i=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&a.hasOwnProperty(c)){let d=a[c];for(let l of d)if(l===e){i??=[],i.push(c,r[s+1]);break}}else if(n&&o.hasOwnProperty(c)){let d=o[c];for(let l=0;l<d.length;l+=2)if(d[l]===e){i??=[],i.push(d[l+1],r[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(i)}function c5(t,e,n,r,a){t.data[r]=a;let o=a.factory||(a.factory=Nt(a.type,!0)),i=new En(o,ut(a),L,null);t.blueprint[r]=i,n[r]=i,d5(t,e,r,op(t,n,a.hostVars,ve),a)}function d5(t,e,n,r,a){let o=a.hostBindings;if(o){let i=t.hostBindingOpCodes;i===null&&(i=t.hostBindingOpCodes=[]);let s=~e.index;l5(i)!=s&&i.push(s),i.push(n,r,o)}}function l5(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function u5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ut(e)&&(n[""]=t)}}function h5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function yl(t,e,n,r,a,o,i,s){let c=e[b],d=c.consts,l=$e(d,i),u=Sr(c,t,n,r,l);return o&&jp(c,e,u,$e(d,s),a),u.mergedAttrs=vr(u.mergedAttrs,u.attrs),u.attrs!==null&&Qi(u,u.attrs,!1),u.mergedAttrs!==null&&Qi(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function gl(t,e){w0(t,e),E1(e)&&t.queries.elementEnd(e)}function p5(t,e,n,r,a,o){let i=e.consts,s=$e(i,a),c=Sr(e,t,n,r,s);if(c.mergedAttrs=vr(c.mergedAttrs,c.attrs),o!=null){let d=$e(i,o);c.localNames=[];for(let l=0;l<d.length;l+=2)c.localNames.push(d[l],-1)}return c.attrs!==null&&Qi(c,c.attrs,!1),c.mergedAttrs!==null&&Qi(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ml(t){return qp(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Hp(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function qp(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ks(t,e,n){return t[e]=n}function f5(t,e){return t[e]}function je(t,e,n){if(n===ve)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function kl(t,e,n,r){let a=je(t,e,n);return je(t,e+1,r)||a}function Bp(t,e,n,r,a){let o=kl(t,e,n,r);return je(t,e+2,a)||o}function Vi(t,e,n){return function r(a){let o=Gt(t)?Ue(t.index,e):e;fl(o,5);let i=e[re],s=i0(e,i,n,a),c=r.__ngNextListenerFn__;for(;c;)s=i0(e,i,c,a)&&s,c=c.__ngNextListenerFn__;return s}}function i0(t,e,n,r){let a=E(null);try{return B(6,e,n),n(r)!==!1}catch(o){return Tv(t,o),!1}finally{B(7,e,n),E(a)}}function zp(t,e,n,r,a,o,i,s){let c=pr(t),d=!1,l=null;if(!r&&c&&(l=g5(e,n,o,t.index)),l!==null){let u=l.__ngLastListenerFn__||l;u.__ngNextListenerFn__=i,l.__ngLastListenerFn__=i,d=!0}else{let u=et(t,n),p=r?r(u):u;M4(n,p,o,s);let h=a.listen(p,o,s);if(!y5(o)){let y=r?g=>r(ze(g[t.index])):t.index;Up(y,e,n,o,s,h,!1)}}return d}function y5(t){return t.startsWith("animation")||t.startsWith("transition")}function g5(t,e,n,r){let a=t.cleanup;if(a!=null)for(let o=0;o<a.length-1;o+=2){let i=a[o];if(i===n&&a[o+1]===r){let s=e[ur],c=a[o+2];return s&&s.length>c?s[c]:null}typeof i=="string"&&(o+=2)}return null}function Up(t,e,n,r,a,o,i){let s=e.firstCreatePass?V1(e):null,c=j1(n),d=c.length;c.push(a,o),s&&s.push(r,t,d,(d+1)*(i?-1:1))}function s0(t,e,n,r,a,o){let i=e[n],s=e[b],d=s.data[n].outputs[r],u=i[d].subscribe(o);Up(t.index,s,e,a,o,u,!0)}var Ld=Symbol("BINDING");var Yi=class extends ja{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=zt(e);return new Ir(n,this.ngModule)}};function m5(t){return Object.keys(t).map(e=>{let[n,r,a]=t[e],o={propName:n,templateName:e,isSignal:(r&us.SignalBased)!==0};return a&&(o.transform=a),o})}function k5(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function v5(t,e,n){let r=e instanceof qe?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new _d(n,r):n}function M5(t){let e=t.get(Ea,null);if(e===null)throw new I(407,!1);let n=t.get(Np,null),r=t.get(Ht,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function w5(t,e){let n=$p(t);return ep(e,n,n==="svg"?A1:n==="math"?f2:null)}function $p(t){return(t.selectors[0][0]||"div").toLowerCase()}var Ir=class extends ms{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=m5(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=k5(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=q4(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,a,o,i){B(22);let s=E(null);try{let c=this.componentDef,d=C5(r,c,i,o),l=v5(c,a||this.ngModule,e),u=M5(l),p=u.rendererFactory.createRenderer(null,c),h=r?wv(p,r,c.encapsulation,l):w5(c,p),y=i?.some(c0)||o?.some(k=>typeof k!="function"&&k.bindings.some(c0)),g=Yd(null,d,null,512|ap(c),null,null,u,p,l,null,U0(h,l,!0));g[Q]=h,Di(g);let m=null;try{let k=yl(Q,g,2,"#host",()=>d.directiveRegistry,!0,0);rp(p,h,k),Mr(h,g),ys(d,g,k),Kd(d,k,g),gl(d,k),n!==void 0&&b5(k,this.ngContentSelectors,n),m=Ue(k.index,g),g[re]=m[re],pl(d,g,null)}catch(k){throw m!==null&&vd(m),vd(g),k}finally{B(23),Si()}return new es(this.componentType,g,!!y)}finally{E(s)}}};function C5(t,e,n,r){let a=t?["ng-version","20.3.14"]:B4(e.selectors[0]),o=null,i=null,s=0;if(n)for(let l of n)s+=l[Ld].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(i??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let u=r[l];if(typeof u!="function")for(let p of u.bindings){s+=p[Ld].requiredVars;let h=l+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(i??=[]).push(p))}}let c=[e];if(r)for(let l of r){let u=typeof l=="function"?l:l.type,p=C1(u);c.push(p)}return Qd(0,null,I5(o,i),1,s,c,null,null,null,[a],null)}function I5(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function c0(t){let e=t[Ld].kind;return e==="input"||e==="twoWay"}var es=class extends Fp{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ga(n[b],Q),this.location=Dr(this._tNode,n),this.instance=Ue(this._tNode.index,n)[re],this.hostView=this.changeDetectorRef=new Zt(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let a=this._rootLView,o=hl(r,a[b],a,e,n);this.previousInputValues.set(e,n);let i=Ue(r.index,a);fl(i,1)}get injector(){return new Ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function b5(t,e,n){let r=t.projection=[];for(let a=0;a<e.length;a++){let o=n[a];r.push(o!=null&&o.length?Array.from(o):null)}}var Jt=(()=>{class t{static __NG_ELEMENT_ID__=x5}return t})();function x5(){let t=oe();return Wp(t,D())}var D5=Jt,Gp=class extends D5{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Dr(this._hostTNode,this._hostLView)}get injector(){return new Ln(this._hostTNode,this._hostLView)}get parentInjector(){let e=Gd(this._hostTNode,this._hostLView);if(b0(e)){let n=Bi(e,this._hostLView),r=qi(e),a=n[b].data[r+8];return new Ln(a,n)}else return new Ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=d0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-te}createEmbeddedView(e,n,r){let a,o;typeof r=="number"?a=r:r!=null&&(a=r.index,o=r.injector);let i=Ji(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(n||{},o,i);return this.insertImpl(s,a,Cr(this._hostTNode,i)),s}createComponent(e,n,r,a,o,i,s){let c=e&&!qk(e),d;if(c)d=n;else{let m=n||{};d=m.index,r=m.injector,a=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,i=m.directives,s=m.bindings}let l=c?e:new Ir(zt(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let k=(c?u:this.parentInjector).get(qe,null);k&&(o=k)}let p=zt(l.componentType??{}),h=Ji(this._lContainer,p?.id??null),y=h?.firstChild??null,g=l.create(u,a,y,o,i,s);return this.insertImpl(g.hostView,d,Cr(this._hostTNode,h)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let a=e._lView;if(g2(a)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let c=a[de],d=new Gp(c,c[be],c[de]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),i=this._lContainer;return Na(i,a,o,r),e.attachToViewContainerRef(),k1(cd(i),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=d0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=La(this._lContainer,n);r&&(ua(cd(this._lContainer),n),ps(r[b],r))}detach(e){let n=this._adjustIndex(e,-1),r=La(this._lContainer,n);return r&&ua(cd(this._lContainer),n)!=null?new Zt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function d0(t){return t[ya]}function cd(t){return t[ya]||(t[ya]=[])}function Wp(t,e){let n,r=e[t.index];return Ye(r)?n=r:(n=Ap(r,e,null,t),e[t.index]=n,el(e,n)),_5(n,e,t,r),new Gp(n,t,e)}function S5(t,e){let n=t[$],r=n.createComment(""),a=et(e,t),o=n.parentNode(a);return Wi(n,o,r,n.nextSibling(a),!1),r}var _5=A5,L5=()=>!1;function E5(t,e,n){return L5(t,e,n)}function A5(t,e,n,r){if(t[$t])return;let a;n.type&8?a=ze(r):a=S5(e,n),t[$t]=a}var Ed=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ad=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,a=[];for(let o=0;o<r;o++){let i=n.getByIndex(o),s=this.queries[i.indexInDeclarationView];a.push(s.clone())}return new t(a)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)vl(e,n).matches!==null&&this.queries[n].setDirty()}},ts=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=V5(e):this.predicate=e}},Td=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let a=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,a);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Rd=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){let o=r[a];this.matchTNodeWithReadOption(e,n,T5(n,o)),this.matchTNodeWithReadOption(e,n,Ni(n,e,o,!1,!1))}else r===Kt?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ni(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let a=this.metadata.read;if(a!==null)if(a===Ee||a===Jt||a===Kt&&n.type&4)this.addMatch(n.index,-2);else{let o=Ni(n,e,a,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function T5(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function R5(t,e){return t.type&11?Dr(t,e):t.type&4?gs(t,e):null}function P5(t,e,n,r){return n===-1?R5(e,t):n===-2?O5(t,e,r):xa(t,t[b],n,e)}function O5(t,e,n){if(n===Ee)return Dr(e,t);if(n===Kt)return gs(e,t);if(n===Jt)return Wp(e,t)}function Zp(t,e,n,r){let a=e[dt].queries[r];if(a.matches===null){let o=t.data,i=n.matches,s=[];for(let c=0;i!==null&&c<i.length;c+=2){let d=i[c];if(d<0)s.push(null);else{let l=o[d];s.push(P5(e,l,i[c+1],n.metadata.read))}}a.matches=s}return a.matches}function Pd(t,e,n,r){let a=t.queries.getByIndex(n),o=a.matches;if(o!==null){let i=Zp(t,e,a,n);for(let s=0;s<o.length;s+=2){let c=o[s];if(c>0)r.push(i[s/2]);else{let d=o[s+1],l=e[-c];for(let u=te;u<l.length;u++){let p=l[u];p[Ut]===p[de]&&Pd(p[b],p,d,r)}if(l[bn]!==null){let u=l[bn];for(let p=0;p<u.length;p++){let h=u[p];Pd(h[b],h,d,r)}}}}}return r}function F5(t,e){return t[dt].queries[e].queryList}function Kp(t,e,n){let r=new $i((n&4)===4);return v2(t,e,r,r.destroy),(e[dt]??=new Ad).queries.push(new Ed(r))-1}function N5(t,e,n){let r=Y();return r.firstCreatePass&&(Xp(r,new ts(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Kp(r,D(),e)}function j5(t,e,n,r){let a=Y();if(a.firstCreatePass){let o=oe();Xp(a,new ts(e,n,r),o.index),H5(a,t),(n&2)===2&&(a.staticContentQueries=!0)}return Kp(a,D(),n)}function V5(t){return t.split(",").map(e=>e.trim())}function Xp(t,e,n){t.queries===null&&(t.queries=new Td),t.queries.track(new Rd(e,n))}function H5(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function vl(t,e){return t.queries.getByIndex(e)}function q5(t,e){let n=t[b],r=vl(n,e);return r.crossesNgTemplate?Pd(n,t,e,[]):Zp(n,t,r,e)}var An=class{},Jp=class{};var ns=class extends An{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Yi(this);constructor(e,n,r,a=!0){super(),this.ngModuleType=e,this._parent=n;let o=w1(e);this._bootstrapComponents=J0(o.bootstrap),this._r3Injector=Y1(e,n,[{provide:An,useValue:this},{provide:ja,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},rs=class extends Jp{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ns(this.moduleType,e,[])}};var Aa=class extends An{injector;componentFactoryResolver=new Yi(this);instance=null;constructor(e){super();let n=new gn([...e.providers,{provide:An,useValue:this},{provide:ja,useValue:this.componentFactoryResolver}],e.parent||ha(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qp(t,e,n=null){return new Aa({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var B5=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=I1(!1,n.type),a=r.length>0?Qp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(ce(qe))})}return t})();function Ml(t){return xr(()=>{let e=Yp(t),n=W(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Zd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?a=>a.get(B5).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wr.Emulated,styles:t.styles||Fe,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Rn("NgStandalone"),ef(n);let r=t.dependencies;return n.directiveDefs=l0(r,z5),n.pipeDefs=l0(r,i2),n.id=G5(n),n})}function z5(t){return zt(t)||C1(t)}function Qt(t){return xr(()=>({type:t.type,bootstrap:t.bootstrap||Fe,declarations:t.declarations||Fe,imports:t.imports||Fe,exports:t.exports||Fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function U5(t,e){if(t==null)return Bt;let n={};for(let r in t)if(t.hasOwnProperty(r)){let a=t[r],o,i,s,c;Array.isArray(a)?(s=a[0],o=a[1],i=a[2]??o,c=a[3]||null):(o=a,i=a,s=us.None,c=null),n[o]=[r,s,c],e[o]=i}return n}function $5(t){if(t==null)return Bt;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Z(t){return xr(()=>{let e=Yp(t);return ef(e),e})}function vs(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yp(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Bt,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:U5(t.inputs,e),outputs:$5(t.outputs),debugInfo:null}}function ef(t){t.features?.forEach(e=>e(t))}function l0(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let a of n){let o=e(a);o!==null&&r.push(o)}return r}:null}function G5(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function W5(t){return Object.getPrototypeOf(t.prototype).constructor}function fe(t){let e=W5(t.type),n=!0,r=[t];for(;e;){let a;if(ut(t))a=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);a=e.\u0275dir}if(a){if(n){r.push(a);let i=t;i.inputs=dd(t.inputs),i.declaredInputs=dd(t.declaredInputs),i.outputs=dd(t.outputs);let s=a.hostBindings;s&&Q5(t,s);let c=a.viewQuery,d=a.contentQueries;if(c&&X5(t,c),d&&J5(t,d),Z5(t,a),Kh(t.outputs,a.outputs),ut(a)&&a.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(a.data.animation)}}let o=a.features;if(o)for(let i=0;i<o.length;i++){let s=o[i];s&&s.ngInherit&&s(t),s===fe&&(n=!1)}}e=Object.getPrototypeOf(e)}K5(r)}function Z5(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function K5(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let a=t[r];a.hostVars=e+=a.hostVars,a.hostAttrs=vr(a.hostAttrs,n=vr(n,a.hostAttrs))}}function dd(t){return t===Bt?{}:t===Fe?[]:t}function X5(t,e){let n=t.viewQuery;n?t.viewQuery=(r,a)=>{e(r,a),n(r,a)}:t.viewQuery=e}function J5(t,e){let n=t.contentQueries;n?t.contentQueries=(r,a,o)=>{e(r,a,o),n(r,a,o)}:t.contentQueries=e}function Q5(t,e){let n=t.hostBindings;n?t.hostBindings=(r,a)=>{e(r,a),n(r,a)}:t.hostBindings=e}function tf(t,e,n,r,a,o,i,s){if(n.firstCreatePass){t.mergedAttrs=vr(t.mergedAttrs,t.attrs);let l=t.tView=Qd(2,t,a,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}s&&(t.flags|=s),gr(t,!1);let c=e3(n,e,t,r);_i()&&sl(n,e,c,t),Mr(c,e);let d=Ap(c,e,c,t);e[r+Q]=d,el(e,d),E5(d,t,e)}function Y5(t,e,n,r,a,o,i,s,c,d,l){let u=n+Q,p;return e.firstCreatePass?(p=Sr(e,u,4,i||null,s||null),Ci()&&jp(e,t,p,$e(e.consts,d),dl),w0(e,p)):p=e.data[u],tf(p,t,e,n,r,a,o,c),pr(p)&&ys(e,t,p),d!=null&&Oa(t,p,l),p}function Ta(t,e,n,r,a,o,i,s,c,d,l){let u=n+Q,p;if(e.firstCreatePass){if(p=Sr(e,u,4,i||null,s||null),d!=null){let h=$e(e.consts,d);p.localNames=[];for(let y=0;y<h.length;y+=2)p.localNames.push(h[y],-1)}}else p=e.data[u];return tf(p,t,e,n,r,a,o,c),d!=null&&Oa(t,p,l),p}function nf(t,e,n,r,a,o,i,s){let c=D(),d=Y(),l=$e(d.consts,o);return Y5(c,d,t,e,n,r,a,l,void 0,i,s),nf}var e3=t3;function t3(t,e,n,r){return Ma(!0),e[$].createComment("")}var n3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var rf=new P("");function _r(t){return!!t&&typeof t.then=="function"}function wl(t){return!!t&&typeof t.subscribe=="function"}var af=new P("");var Cl=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=S(af,{optional:!0})??[];injector=S(bt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let a of this.appInits){let o=ki(this.injector,a);if(_r(o))n.push(o);else if(wl(o)){let i=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});n.push(i)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),of=new P("");function sf(){Ac(()=>{let t="";throw new I(600,t)})}function cf(t){return t.isBoundToModule}var r3=10;var Pn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(_t);afterRenderManager=S(al);zonelessEnabled=S(Ei);rootEffectScheduler=S(ad);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new He;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(_n);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(wt(n=>!n))}constructor(){S(Pa,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:a=>{a&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=S(qe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,a=bt.NULL){return this._injector.get(Le).run(()=>{B(10);let i=n instanceof ms;if(!this._injector.get(Cl).done){let y="";throw new I(405,y)}let c;i?c=n:c=this._injector.get(ja).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=cf(c)?void 0:this._injector.get(An),l=r||c.selector,u=c.create(a,[],l,d),p=u.location.nativeElement,h=u.injector.get(rf,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),ba(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),B(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){B(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(hs.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new I(101,!1);let n=E(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,E(n),this.afterTick.next(),B(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ea,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<r3;)B(14),this.synchronizeOnce(),B(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:a}of this.allViews){if(!r&&!ma(a))continue;let o=r&&!this.zonelessEnabled?0:1;Sp(a,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ma(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ba(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(a){this.internalErrorHandler(a)}this.components.push(n),this._injector.get(of,[]).forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ba(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ba(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function On(t,e,n,r){let a=D(),o=St();if(je(a,o,e)){let i=Y(),s=va();Lv(s,a,t,e,n,r)}return On}var $D=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Od=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),a=Math.max(e,n),o=this.detach(a);if(a-r>1){let i=this.detach(r);this.attach(r,o),this.attach(a,i)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function ld(t,e,n,r,a){return t===n&&Object.is(e,r)?1:Object.is(a(t,e),a(n,r))?-1:0}function a3(t,e,n){let r,a,o=0,i=t.length-1,s=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=i&&o<=c;){let d=t.at(o),l=e[o],u=ld(o,d,o,l,n);if(u!==0){u<0&&t.updateValue(o,l),o++;continue}let p=t.at(i),h=e[c],y=ld(i,p,c,h,n);if(y!==0){y<0&&t.updateValue(i,h),i--,c--;continue}let g=n(o,d),m=n(i,p),k=n(o,l);if(Object.is(k,m)){let _=n(c,h);Object.is(_,g)?(t.swap(o,i),t.updateValue(i,h),c--,i--):t.move(i,o),t.updateValue(o,l),o++;continue}if(r??=new as,a??=h0(t,o,i,n),Fd(t,r,o,k))t.updateValue(o,l),o++,i++;else if(a.has(k))r.set(g,t.detach(o)),i--;else{let _=t.create(o,e[o]);t.attach(o,_),o++,i++}}for(;o<=c;)u0(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),d=c.next();for(;!d.done&&o<=i;){let l=t.at(o),u=d.value,p=ld(o,l,o,u,n);if(p!==0)p<0&&t.updateValue(o,u),o++,d=c.next();else{r??=new as,a??=h0(t,o,i,n);let h=n(o,u);if(Fd(t,r,o,h))t.updateValue(o,u),o++,i++,d=c.next();else if(!a.has(h))t.attach(o,t.create(o,u)),o++,i++,d=c.next();else{let y=n(o,l);r.set(y,t.detach(o)),i--}}}for(;!d.done;)u0(t,r,n,t.length,d.value),d=c.next()}for(;o<=i;)t.destroy(t.detach(i--));r?.forEach(c=>{t.destroy(c)})}function Fd(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function u0(t,e,n,r,a){if(Fd(t,e,r,n(r,a)))t.updateValue(r,a);else{let o=t.create(r,a);t.attach(r,o)}}function h0(t,e,n,r){let a=new Set;for(let o=e;o<=n;o++)a.add(r(o,t.at(o)));return a}var as=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let a=this._vMap;for(;a.has(r);)r=a.get(r);a.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let a=this._vMap;for(;a.has(r);)r=a.get(r),e(r,n)}}};function o3(t,e,n,r,a,o,i,s){Rn("NgControlFlow");let c=D(),d=Y(),l=$e(d.consts,o);return Ta(c,d,t,e,n,r,a,l,256,i,s),Il}function Il(t,e,n,r,a,o,i,s){Rn("NgControlFlow");let c=D(),d=Y(),l=$e(d.consts,o);return Ta(c,d,t,e,n,r,a,l,512,i,s),Il}function i3(t,e){Rn("NgControlFlow");let n=D(),r=St(),a=n[r]!==ve?n[r]:-1,o=a!==-1?os(n,Q+a):void 0,i=0;if(je(n,r,t)){let s=E(null);try{if(o!==void 0&&Rp(o,i),t!==-1){let c=Q+t,d=os(n,c),l=Hd(n[b],c),u=Op(d,l,n),p=Fa(n,l,e,{dehydratedView:u});Na(d,p,i,Cr(l,u))}}finally{E(s)}}else if(o!==void 0){let s=Tp(o,i);s!==void 0&&(s[re]=e)}}var Nd=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-te}};function s3(t,e){return e}var jd=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function c3(t,e,n,r,a,o,i,s,c,d,l,u,p){Rn("NgControlFlow");let h=D(),y=Y(),g=c!==void 0,m=D(),k=s?i.bind(m[xe][re]):i,_=new jd(g,k);m[Q+t]=_,Ta(h,y,t+1,e,n,r,a,$e(y.consts,o),256),g&&Ta(h,y,t+2,c,d,l,u,$e(y.consts,p),512)}var Vd=class extends Od{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-te}at(e){return this.getLView(e)[re].$implicit}attach(e,n){let r=n[vn];this.needsIndexUpdate||=e!==this.length,Na(this.lContainer,n,e,Cr(this.templateTNode,r)),l3(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,u3(this.lContainer,e),h3(this.lContainer,e)}create(e,n){let r=Ji(this.lContainer,this.templateTNode.tView.ssrId),a=Fa(this.hostLView,this.templateTNode,new Nd(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),a}destroy(e){ps(e[b],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[re].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[re].$index=e}getLView(e){return p3(this.lContainer,e)}};function d3(t){let e=E(null),n=ht();try{let r=D(),a=r[b],o=r[n],i=n+1,s=os(r,i);if(o.liveCollection===void 0){let d=Hd(a,i);o.liveCollection=new Vd(s,r,d)}else o.liveCollection.reset();let c=o.liveCollection;if(a3(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let d=St(),l=c.length===0;if(je(r,d,l)){let u=n+2,p=os(r,u);if(l){let h=Hd(a,u),y=Op(p,h,r),g=Fa(r,h,void 0,{dehydratedView:y});Na(p,g,0,Cr(h,y))}else a.firstUpdatePass&&Yv(p),Rp(p,0)}}}finally{E(e)}}function os(t,e){return t[e]}function l3(t,e){if(t.length<=te)return;let n=te+e,r=t[n],a=r?r[In]:void 0;if(r&&a&&a.detachedLeaveAnimationFns&&a.detachedLeaveAnimationFns.length>0){let o=r[Dt];sv(o,a),Sa.delete(r),a.detachedLeaveAnimationFns=void 0}}function u3(t,e){if(t.length<=te)return;let n=te+e,r=t[n],a=r?r[In]:void 0;a&&a.leave&&a.leave.size>0&&(a.detachedLeaveAnimationFns=[])}function h3(t,e){return La(t,e)}function p3(t,e){return Tp(t,e)}function Hd(t,e){return ga(t,e)}function df(t,e,n){let r=D(),a=St();if(je(r,a,e)){let o=Y(),i=va();Mp(i,r,t,e,r[$],n)}return df}function p0(t,e,n,r,a){hl(e,t,n,a?"class":"style",r)}function bl(t,e,n,r){let a=D(),o=a[b],i=t+Q,s=o.firstCreatePass?yl(i,a,2,e,dl,Ci(),n,r):o.data[i];if(ll(s,a,t,e,pf),pr(s)){let c=a[b];ys(c,a,s),Kd(c,s,a)}return r!=null&&Oa(a,s),bl}function xl(){let t=Y(),e=oe(),n=ul(e);return t.firstCreatePass&&gl(t,n),B1(n)&&z1(),H1(),n.classesWithoutHost!=null&&Wk(n)&&p0(t,n,D(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Zk(n)&&p0(t,n,D(),n.stylesWithoutHost,!1),xl}function lf(t,e,n,r){return bl(t,e,n,r),xl(),lf}function uf(t,e,n,r){let a=D(),o=a[b],i=t+Q,s=o.firstCreatePass?p5(i,o,2,e,n,r):o.data[i];return ll(s,a,t,e,pf),r!=null&&Oa(a,s),uf}function hf(){let t=oe(),e=ul(t);return B1(e)&&z1(),H1(),hf}var pf=(t,e,n,r,a)=>(Ma(!0),ep(e[$],r,N2()));function Dl(t,e,n){let r=D(),a=r[b],o=t+Q,i=a.firstCreatePass?yl(o,r,8,"ng-container",dl,Ci(),e,n):a.data[o];if(ll(i,r,t,"ng-container",f3),pr(i)){let s=r[b];ys(s,r,i),Kd(s,i,r)}return n!=null&&Oa(r,i),Dl}function Sl(){let t=Y(),e=oe(),n=ul(e);return t.firstCreatePass&&gl(t,n),Sl}function ff(t,e,n){return Dl(t,e,n),Sl(),ff}var f3=(t,e,n,r,a)=>(Ma(!0),$4(e[$],""));function y3(){return D()}function yf(t,e,n){let r=D(),a=St();if(je(r,a,e)){let o=Y(),i=va();wp(i,r,t,e,r[$],n)}return yf}var Ri=void 0;function g3(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var m3=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ri,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ri,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ri,"{1} 'at' {0}",Ri],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",g3],ud={};function Ae(t){let e=k3(t),n=f0(e);if(n)return n;let r=e.split("-")[0];if(n=f0(r),n)return n;if(r==="en")return m3;throw new I(701,!1)}function f0(t){return t in ud||(ud[t]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[t]),ud[t]}var ne=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(ne||{});function k3(t){return t.toLowerCase().replace(/_/g,"-")}var Va="en-US";var v3=Va;function gf(t){typeof t=="string"&&(v3=t.toLowerCase().replace(/_/g,"-"))}function Lt(t,e,n){let r=D(),a=Y(),o=oe();return kf(a,r,r[$],o,t,e,n),Lt}function mf(t,e,n){let r=D(),a=Y(),o=oe();return(o.type&3||n)&&zp(o,a,r,n,r[$],t,e,Vi(o,r,e)),mf}function kf(t,e,n,r,a,o,i){let s=!0,c=null;if((r.type&3||i)&&(c??=Vi(r,e,o),zp(r,t,e,i,n,a,o,c)&&(s=!1)),s){let d=r.outputs?.[a],l=r.hostDirectiveOutputs?.[a];if(l&&l.length)for(let u=0;u<l.length;u+=2){let p=l[u],h=l[u+1];c??=Vi(r,e,o),s0(r,e,p,h,a,c)}if(d&&d.length)for(let u of d)c??=Vi(r,e,o),s0(r,e,u,a,a,c)}}function M3(t=1){return P2(t)}function w3(t,e){let n=null,r=F4(t);for(let a=0;a<e.length;a++){let o=e[a];if(o==="*"){n=a;continue}if(r===null?Y0(t,o,!0):V4(r,o))return a}return n}function _l(t){let e=D()[xe][be];if(!e.projection){let n=t?t.length:1,r=e.projection=r2(n,null),a=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let i=t?w3(o,t):0;i!==null&&(a[i]?a[i].projectionNext=o:r[i]=o,a[i]=o)}o=o.next}}}function Ll(t,e=0,n,r,a,o){let i=D(),s=Y(),c=r?t+1:null;c!==null&&Ta(i,s,c,r,a,o,null,n);let d=Sr(s,Q+t,16,null,n||null);d.projection===null&&(d.projection=e),G1();let u=!i[vn]||q1();i[xe][be].projection[d.projection]===null&&c!==null?C3(i,s,c):u&&!cs(d)&&kv(s,i,d)}function C3(t,e,n){let r=Q+n,a=e.data[r],o=t[r],i=Ji(o,a.tView.ssrId),s=Fa(t,a,void 0,{dehydratedView:i});Na(o,s,0,Cr(a,i))}function I3(t,e,n,r){j5(t,e,n,r)}function b3(t,e,n){N5(t,e,n)}function x3(t){let e=D(),n=Y(),r=X1();xi(r+1);let a=vl(n,r);if(t.dirty&&y2(e)===((a.metadata.flags&2)===2)){if(a.matches===null)t.reset([]);else{let o=q5(e,r);t.reset(o,s4),t.notifyOnChanges()}return!0}return!1}function D3(){return F5(D(),X1())}function S3(t){let e=x2();return R1(e,Q+t)}function Pi(t,e){return t<<17|e<<2}function Tn(t){return t>>17&32767}function _3(t){return(t&2)==2}function L3(t,e){return t&131071|e<<17}function qd(t){return t|2}function br(t){return(t&131068)>>2}function hd(t,e){return t&-131069|e<<2}function E3(t){return(t&1)===1}function Bd(t){return t|1}function A3(t,e,n,r,a,o){let i=o?e.classBindings:e.styleBindings,s=Tn(i),c=br(i);t[r]=n;let d=!1,l;if(Array.isArray(n)){let u=n;l=u[1],(l===null||lr(u,l)>0)&&(d=!0)}else l=n;if(a)if(c!==0){let p=Tn(t[s+1]);t[r+1]=Pi(p,s),p!==0&&(t[p+1]=hd(t[p+1],r)),t[s+1]=L3(t[s+1],r)}else t[r+1]=Pi(s,0),s!==0&&(t[s+1]=hd(t[s+1],r)),s=r;else t[r+1]=Pi(c,0),s===0?s=r:t[c+1]=hd(t[c+1],r),c=r;d&&(t[r+1]=qd(t[r+1])),y0(t,l,r,!0),y0(t,l,r,!1),T3(e,l,t,r,o),i=Pi(s,c),o?e.classBindings=i:e.styleBindings=i}function T3(t,e,n,r,a){let o=a?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&lr(o,e)>=0&&(n[r+1]=Bd(n[r+1]))}function y0(t,e,n,r){let a=t[n+1],o=e===null,i=r?Tn(a):br(a),s=!1;for(;i!==0&&(s===!1||o);){let c=t[i],d=t[i+1];R3(c,e)&&(s=!0,t[i+1]=r?Bd(d):qd(d)),i=r?Tn(d):br(d)}s&&(t[n+1]=r?qd(a):Bd(a))}function R3(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?lr(t,e)>=0:!1}function vf(t,e,n){return Mf(t,e,n,!1),vf}function Ha(t,e){return Mf(t,e,null,!0),Ha}function Mf(t,e,n,r){let a=D(),o=Y(),i=Ii(2);if(o.firstUpdatePass&&O3(o,t,i,r),e!==ve&&je(a,i,e)){let s=o.data[ht()];H3(o,s,a,a[$],t,a[i+1]=q3(e,n),r,i)}}function P3(t,e){return e>=t.expandoStartIndex}function O3(t,e,n,r){let a=t.data;if(a[n+1]===null){let o=a[ht()],i=P3(t,n);B3(o,r)&&e===null&&!i&&(e=!1),e=F3(a,o,e,r),A3(a,o,e,n,i,r)}}function F3(t,e,n,r){let a=E2(t),o=r?e.residualClasses:e.residualStyles;if(a===null)(r?e.classBindings:e.styleBindings)===0&&(n=pd(null,t,e,n,r),n=Ra(n,e.attrs,r),o=null);else{let i=e.directiveStylingLast;if(i===-1||t[i]!==a)if(n=pd(a,t,e,n,r),o===null){let c=N3(t,e,r);c!==void 0&&Array.isArray(c)&&(c=pd(null,t,e,c[1],r),c=Ra(c,e.attrs,r),j3(t,e,r,c))}else o=V3(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function N3(t,e,n){let r=n?e.classBindings:e.styleBindings;if(br(r)!==0)return t[Tn(r)]}function j3(t,e,n,r){let a=n?e.classBindings:e.styleBindings;t[Tn(a)]=r}function V3(t,e,n){let r,a=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<a;o++){let i=t[o].hostAttrs;r=Ra(r,i,n)}return Ra(r,e.attrs,n)}function pd(t,e,n,r,a){let o=null,i=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<i&&(o=e[s],r=Ra(r,o.hostAttrs,a),o!==t);)s++;return t!==null&&(n.directiveStylingLast=s),r}function Ra(t,e,n){let r=n?1:2,a=-1;if(e!==null)for(let o=0;o<e.length;o++){let i=e[o];typeof i=="number"?a=i:a===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),o2(t,i,n?!0:e[++o]))}return t===void 0?null:t}function H3(t,e,n,r,a,o,i,s){if(!(e.type&3))return;let c=t.data,d=c[s+1],l=E3(d)?g0(c,e,n,a,br(d),i):void 0;if(!is(l)){is(o)||_3(d)&&(o=g0(c,null,n,a,s,i));let u=T1(ht(),n);Mv(r,i,u,a,o)}}function g0(t,e,n,r,a,o){let i=e===null,s;for(;a>0;){let c=t[a],d=Array.isArray(c),l=d?c[1]:c,u=l===null,p=n[a+1];p===ve&&(p=u?Fe:void 0);let h=u?mi(p,r):l===r?p:void 0;if(d&&!is(h)&&(h=mi(c,r)),is(h)&&(s=h,i))return s;let y=t[a+1];a=i?Tn(y):br(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(s=mi(c,r))}return s}function is(t){return t!==void 0}function q3(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=It(ds(t)))),t}function B3(t,e){return(t.flags&(e?8:16))!==0}function z3(t,e=""){let n=D(),r=Y(),a=t+Q,o=r.firstCreatePass?Sr(r,a,1,e,null):r.data[a],i=U3(r,n,o,e,t);n[a]=i,_i()&&sl(r,n,i,o),gr(o,!1)}var U3=(t,e,n,r,a)=>(Ma(!0),z4(e[$],r));function $3(t,e,n,r=""){return je(t,St(),n)?e+Je(n)+r:ve}function G3(t,e,n,r,a,o=""){let i=K1(),s=kl(t,i,n,a);return Ii(2),s?e+Je(n)+r+Je(a)+o:ve}function W3(t,e,n,r,a,o,i,s=""){let c=K1(),d=Bp(t,c,n,a,i);return Ii(3),d?e+Je(n)+r+Je(a)+o+Je(i)+s:ve}function wf(t){return El("",t),wf}function El(t,e,n){let r=D(),a=$3(r,t,e,n);return a!==ve&&Al(r,ht(),a),El}function Cf(t,e,n,r,a){let o=D(),i=G3(o,t,e,n,r,a);return i!==ve&&Al(o,ht(),i),Cf}function If(t,e,n,r,a,o,i){let s=D(),c=W3(s,t,e,n,r,a,o,i);return c!==ve&&Al(s,ht(),c),If}function Al(t,e,n){let r=T1(e,t);U4(t[$],r,n)}function bf(t,e,n){td(e)&&(e=e());let r=D(),a=St();if(je(r,a,e)){let o=Y(),i=va();Mp(i,r,t,e,r[$],n)}return bf}function Z3(t,e){let n=td(t);return n&&t.set(e),n}function xf(t,e){let n=D(),r=Y(),a=oe();return kf(r,n,n[$],a,t,e),xf}function K3(t){return je(D(),St(),t)?Je(t):ve}function X3(t,e,n){let r=Y();if(r.firstCreatePass){let a=ut(t);zd(n,r.data,r.blueprint,a,!0),zd(e,r.data,r.blueprint,a,!1)}}function zd(t,e,n,r,a){if(t=pe(t),Array.isArray(t))for(let o=0;o<t.length;o++)zd(t[o],e,n,r,a);else{let o=Y(),i=D(),s=oe(),c=yn(t)?t:pe(t.provide),d=D1(t),l=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(yn(t)||!t.multi){let h=new En(d,a,L,null),y=yd(c,e,a?l:l+p,u);y===-1?(md(Ui(s,i),o,c),fd(o,t,e.length),e.push(c),s.directiveStart++,s.directiveEnd++,a&&(s.providerIndexes+=1048576),n.push(h),i.push(h)):(n[y]=h,i[y]=h)}else{let h=yd(c,e,l+p,u),y=yd(c,e,l,l+p),g=h>=0&&n[h],m=y>=0&&n[y];if(a&&!m||!a&&!g){md(Ui(s,i),o,c);let k=Y3(a?Q3:J3,n.length,a,r,d,t);!a&&m&&(n[y].providerFactory=k),fd(o,t,e.length,0),e.push(c),s.directiveStart++,s.directiveEnd++,a&&(s.providerIndexes+=1048576),n.push(k),i.push(k)}else{let k=Df(n[a?y:h],d,!a&&r);fd(o,t,h>-1?h:y,k)}!a&&r&&m&&n[y].componentProviders++}}}function fd(t,e,n,r){let a=yn(e),o=u2(e);if(a||o){let c=(o?pe(e.useClass):e).prototype.ngOnDestroy;if(c){let d=t.destroyHooks||(t.destroyHooks=[]);if(!a&&e.multi){let l=d.indexOf(n);l===-1?d.push(n,[r,c]):d[l+1].push(r,c)}else d.push(n,c)}}}function Df(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function yd(t,e,n,r){for(let a=n;a<r;a++)if(e[a]===t)return a;return-1}function J3(t,e,n,r,a){return Ud(this.multi,[])}function Q3(t,e,n,r,a){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=xa(r,r[b],this.providerFactory.index,a);i=c.slice(0,s),Ud(o,i);for(let d=s;d<c.length;d++)i.push(c[d])}else i=[],Ud(o,i);return i}function Ud(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Y3(t,e,n,r,a,o){let i=new En(t,n,L,null);return i.multi=[],i.index=e,i.componentProviders=0,Df(i,a,r&&!n),i}function Ve(t,e=[]){return n=>{n.providersResolver=(r,a)=>X3(r,a?a(t):t,e)}}function eM(t,e,n){let r=ka()+t,a=D();return a[r]===ve?ks(a,r,n?e.call(n):e()):f5(a,r)}function tM(t,e,n,r){return rM(D(),ka(),t,e,n,r)}function nM(t,e,n,r,a,o){return oM(D(),ka(),t,e,n,r,a,o)}function Tl(t,e){let n=t[e];return n===ve?void 0:n}function rM(t,e,n,r,a,o){let i=e+n;return je(t,i,a)?ks(t,i+1,o?r.call(o,a):r(a)):Tl(t,i+1)}function aM(t,e,n,r,a,o,i){let s=e+n;return kl(t,s,a,o)?ks(t,s+2,i?r.call(i,a,o):r(a,o)):Tl(t,s+2)}function oM(t,e,n,r,a,o,i,s){let c=e+n;return Bp(t,c,a,o,i)?ks(t,c+3,s?r.call(s,a,o,i):r(a,o,i)):Tl(t,c+3)}function iM(t,e){let n=Y(),r,a=t+Q;n.firstCreatePass?(r=sM(e,n.pipeRegistry),n.data[a]=r,r.onDestroy&&(n.destroyHooks??=[]).push(a,r.onDestroy)):r=n.data[a];let o=r.factory||(r.factory=Nt(r.type,!0)),i,s=Ie(L);try{let c=zi(!1),d=o();return zi(c),P1(n,D(),a,d),d}finally{Ie(s)}}function sM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function cM(t,e,n,r){let a=t+Q,o=D(),i=R1(o,a);return dM(o,a)?aM(o,ka(),e,i.transform,n,r,i):i.transform(n,r)}function dM(t,e){return t[b].data[e].pure}function lM(t,e){return gs(t,e)}var ss=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},uM=(()=>{class t{compileModuleSync(n){return new rs(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),a=w1(n),o=J0(a.declarations).reduce((i,s)=>{let c=zt(s);return c&&i.push(new Ir(c)),i},[]);return new ss(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hM=(()=>{class t{zone=S(Le);changeDetectionScheduler=S(Ht);applicationRef=S(Pn);applicationErrorHandler=S(_t);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sf({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Le(W(F({},_f()),{scheduleInRootZone:n})),[{provide:Le,useFactory:t},{provide:kn,multi:!0,useFactory:()=>{let r=S(hM,{optional:!0});return()=>r.initialize()}},{provide:kn,multi:!0,useFactory:()=>{let r=S(pM);return()=>{r.initialize()}}},e===!0?{provide:nd,useValue:!0}:[],{provide:rd,useValue:n??sp},{provide:_t,useFactory:()=>{let r=S(Le),a=S(qe),o;return i=>{r.runOutsideAngular(()=>{a.destroyed&&!o?setTimeout(()=>{throw i}):(o??=a.get(Vt),o.handleError(i))})}}}]}function _f(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var pM=(()=>{class t{subscription=new he;initialized=!1;zone=S(Le);pendingTasks=S(_n);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lf=(()=>{class t{applicationErrorHandler=S(_t);appRef=S(Pn);taskService=S(_n);ngZone=S(Le);zonelessEnabled=S(Ei);tracing=S(Pa,{optional:!0});disableScheduling=S(nd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(rd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ki||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let a=this.useMicrotaskScheduler?J2:cp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>a(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,J2(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fM(){return typeof $localize<"u"&&$localize.locale||Va}var Lr=new P("",{providedIn:"root",factory:()=>S(Lr,{optional:!0,skipSelf:!0})||fM()});function yt(t){return Gh(t)}function Er(t,e){return Ro(t,e?.equal)}var Ef=class{[me];constructor(e){this[me]=e}destroy(){this[me].destroy()}};var Of=Symbol("InputSignalNode#UNSET"),CM=W(F({},Po),{transformFn:void 0,applyValueToInputSignal(t,e){rr(t,e)}});function Ff(t,e){let n=Object.create(CM);n.value=t,n.transformFn=e?.transform;function r(){if(er(n),n.value===Of){let a=null;throw new I(-950,a)}return n.value}return r[me]=n,r}var Af=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Wd(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},IM=new P("");IM.__NG_ELEMENT_ID__=t=>{let e=oe();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new I(204,!1)};function Tf(t,e){return Ff(t,e)}function bM(t){return Ff(Of,t)}var rR=(Tf.required=bM,Tf);var Rl=new P(""),xM=new P("");function qa(t){return!t.moduleRef}function DM(t){let e=qa(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Le);return n.run(()=>{qa(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(_t),a;if(n.runOutsideAngular(()=>{a=n.onError.subscribe({next:r})}),qa(t)){let o=()=>e.destroy(),i=t.platformInjector.get(Rl);i.add(o),e.onDestroy(()=>{a.unsubscribe(),i.delete(o)})}else{let o=()=>t.moduleRef.destroy(),i=t.platformInjector.get(Rl);i.add(o),t.moduleRef.onDestroy(()=>{ba(t.allPlatformModules,t.moduleRef),a.unsubscribe(),i.delete(o)})}return _M(r,n,()=>{let o=e.get(_n),i=o.add(),s=e.get(Cl);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(Lr,Va);if(gf(c||Va),!e.get(xM,!0))return qa(t)?e.get(Pn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(qa(t)){let l=e.get(Pn);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return SM?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(i))})})}var SM;function _M(t,e,n){try{let r=n();return _r(r)?r.catch(a=>{throw e.runOutsideAngular(()=>t(a)),a}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ms=null;function LM(t=[],e){return bt.create({name:e,providers:[{provide:x1,useValue:"platform"},{provide:Rl,useValue:new Set([()=>Ms=null])},...t]})}function EM(t=[]){if(Ms)return Ms;let e=LM(t);return Ms=e,sf(),AM(e),e}function AM(t){let e=t.get(V0,null);ki(t,()=>{e?.forEach(n=>n())})}var Ar=(()=>{class t{static __NG_ELEMENT_ID__=TM}return t})();function TM(t){return RM(oe(),D(),(t&16)===16)}function RM(t,e,n){if(Gt(t)&&!n){let r=Ue(t.index,e);return new Zt(r,r)}else if(t.type&175){let r=e[xe];return new Zt(r,e)}return null}var Pl=class{constructor(){}supports(e){return ml(e)}create(e){return new Ol(e)}},PM=(t,e)=>e,Ol=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||PM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,a=0,o=null;for(;n||r;){let i=!r||n&&n.currentIndex<Rf(r,a,o)?n:r,s=Rf(i,a,o),c=i.currentIndex;if(i===r)a--,r=r._nextRemoved;else if(n=n._next,i.previousIndex==null)a++;else{o||(o=[]);let d=s-a,l=c-a;if(d!=l){for(let p=0;p<d;p++){let h=p<o.length?o[p]:o[p]=0,y=h+p;l<=y&&y<d&&(o[p]=h+1)}let u=i.previousIndex;o[u]=l-d}}s!==c&&e(i,s,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ml(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,a,o,i;if(Array.isArray(e)){this.length=e.length;for(let s=0;s<this.length;s++)o=e[s],i=this._trackByFn(s,o),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,o,i,s),r=!0):(r&&(n=this._verifyReinsertion(n,o,i,s)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else a=0,Hp(e,s=>{i=this._trackByFn(a,s),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,s,i,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,i,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,a){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,a)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,a),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,a)):e=this._addAfter(new Fl(n,r),o,a)),e}_verifyReinsertion(e,n,r,a){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let a=e._prevRemoved,o=e._nextRemoved;return a===null?this._removalsHead=o:a._nextRemoved=o,o===null?this._removalsTail=a:o._prevRemoved=a,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let a=n===null?this._itHead:n._next;return e._next=a,e._prev=n,a===null?this._itTail=e:a._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ws),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ws),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Fl=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Nl=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ws=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Nl,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,a=this.map.get(r);return a?a.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rf(t,e,n){let r=t.previousIndex;if(r===null)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+e+a}function Pf(){return new jl([new Pl])}var jl=(()=>{class t{factories;static \u0275prov=H({token:t,providedIn:"root",factory:Pf});constructor(n){this.factories=n}static create(n,r){if(r!=null){let a=r.factories.slice();n=n.concat(a)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=S(t,{optional:!0,skipSelf:!0});return t.create(n,r||Pf())}}}find(n){let r=this.factories.find(a=>a.supports(n));if(r!=null)return r;throw new I(901,!1)}}return t})();function aR(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:a}=t;B(8);try{let o=a?.injector??EM(r),i=[Sf({}),{provide:Ht,useExisting:Lf},V2,...n||[]],s=new Aa({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return DM({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{B(9)}}function Vl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Vf=null;function Fn(){return Vf}function OM(t){Vf??=t}var Hl=class{},ql=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>S(Hf),providedIn:"platform"})}return t})();var Hf=(()=>{class t extends ql{_location;_history;_doc=S(wa);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(n){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,a){this._history.pushState(n,r,a)}replaceState(n,r,a){this._history.replaceState(n,r,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function qf(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Nf(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Yt(t){return t&&t[0]!=="?"?`?${t}`:t}var Cs=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>S(zf),providedIn:"root"})}return t})(),Bf=new P(""),zf=(()=>{class t extends Cs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(wa).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qf(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Yt(this._platformLocation.search),a=this._platformLocation.hash;return a&&n?`${r}${a}`:r}pushState(n,r,a,o){let i=this.prepareExternalUrl(a+Yt(o));this._platformLocation.pushState(n,r,i)}replaceState(n,r,a,o){let i=this.prepareExternalUrl(a+Yt(o));this._platformLocation.replaceState(n,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ce(ql),ce(Bf,8))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Uf=(()=>{class t{_subject=new He;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=jM(Nf(jf(r))),this._locationStrategy.onPopState(a=>{this._subject.next({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yt(r))}normalize(n){return t.stripTrailingSlash(NM(this._basePath,jf(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",a=null){this._locationStrategy.pushState(a,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yt(r)),a)}replaceState(n,r="",a=null){this._locationStrategy.replaceState(a,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yt(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(a=>a(n,r))}subscribe(n,r,a){return this._subject.subscribe({next:n,error:r??void 0,complete:a??void 0})}static normalizeQueryParams=Yt;static joinWithSlash=qf;static stripTrailingSlash=Nf;static \u0275fac=function(r){return new(r||t)(ce(Cs))};static \u0275prov=H({token:t,factory:()=>FM(),providedIn:"root"})}return t})();function FM(){return new Uf(ce(Cs))}function NM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function jf(t){return t.replace(/\/index.html$/,"")}function jM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Zl=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(Zl||{});var Me=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(Me||{}),z=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(z||{}),Te=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Te||{}),Re={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Xf(t){return Ae(t)[ne.LocaleId]}function Jf(t,e,n){let r=Ae(t),a=[r[ne.DayPeriodsFormat],r[ne.DayPeriodsStandalone]],o=Ge(a,e);return Ge(o,n)}function Qf(t,e,n){let r=Ae(t),a=[r[ne.DaysFormat],r[ne.DaysStandalone]],o=Ge(a,e);return Ge(o,n)}function Yf(t,e,n){let r=Ae(t),a=[r[ne.MonthsFormat],r[ne.MonthsStandalone]],o=Ge(a,e);return Ge(o,n)}function ey(t,e){let r=Ae(t)[ne.Eras];return Ge(r,e)}function Ba(t,e){let n=Ae(t);return Ge(n[ne.DateFormat],e)}function za(t,e){let n=Ae(t);return Ge(n[ne.TimeFormat],e)}function Ua(t,e){let r=Ae(t)[ne.DateTimeFormat];return Ge(r,e)}function gt(t,e){let n=Ae(t),r=n[ne.NumberSymbols][e];if(typeof r>"u"){if(e===Re.CurrencyDecimal)return n[ne.NumberSymbols][Re.Decimal];if(e===Re.CurrencyGroup)return n[ne.NumberSymbols][Re.Group]}return r}function ty(t,e){return Ae(t)[ne.NumberFormats][e]}function ny(t){if(!t[ne.ExtraData])throw new I(2303,!1)}function ry(t){let e=Ae(t);return ny(e),(e[ne.ExtraData][2]||[]).map(r=>typeof r=="string"?Bl(r):[Bl(r[0]),Bl(r[1])])}function ay(t,e,n){let r=Ae(t);ny(r);let a=[r[ne.ExtraData][0],r[ne.ExtraData][1]],o=Ge(a,e)||[];return Ge(o,n)||[]}function Ge(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new I(2304,!1)}function Bl(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var VM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Is={},HM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function oy(t,e,n,r){let a=KM(t);e=Et(n,e)||e;let i=[],s;for(;e;)if(s=HM.exec(e),s){i=i.concat(s.slice(1));let l=i.pop();if(!l)break;e=l}else{i.push(e);break}let c=a.getTimezoneOffset();r&&(c=sy(r,c),a=ZM(a,r));let d="";return i.forEach(l=>{let u=GM(l);d+=u?u(a,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function _s(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Et(t,e){let n=Xf(t);if(Is[n]??={},Is[n][e])return Is[n][e];let r="";switch(e){case"shortDate":r=Ba(t,Te.Short);break;case"mediumDate":r=Ba(t,Te.Medium);break;case"longDate":r=Ba(t,Te.Long);break;case"fullDate":r=Ba(t,Te.Full);break;case"shortTime":r=za(t,Te.Short);break;case"mediumTime":r=za(t,Te.Medium);break;case"longTime":r=za(t,Te.Long);break;case"fullTime":r=za(t,Te.Full);break;case"short":let a=Et(t,"shortTime"),o=Et(t,"shortDate");r=bs(Ua(t,Te.Short),[a,o]);break;case"medium":let i=Et(t,"mediumTime"),s=Et(t,"mediumDate");r=bs(Ua(t,Te.Medium),[i,s]);break;case"long":let c=Et(t,"longTime"),d=Et(t,"longDate");r=bs(Ua(t,Te.Long),[c,d]);break;case"full":let l=Et(t,"fullTime"),u=Et(t,"fullDate");r=bs(Ua(t,Te.Full),[l,u]);break}return r&&(Is[n][e]=r),r}function bs(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function rt(t,e,n="-",r,a){let o="";(t<0||a&&t<=0)&&(a?t=-t+1:(t=-t,o=n));let i=String(t);for(;i.length<e;)i="0"+i;return r&&(i=i.slice(i.length-e)),o+i}function qM(t,e){return rt(t,3).substring(0,e)}function ie(t,e,n=0,r=!1,a=!1){return function(o,i){let s=BM(t,o);if((n>0||s>-n)&&(s+=n),t===3)s===0&&n===-12&&(s=12);else if(t===6)return qM(s,e);let c=gt(i,Re.MinusSign);return rt(s,e,c,r,a)}}function BM(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new I(2301,!1)}}function K(t,e,n=Me.Format,r=!1){return function(a,o){return zM(a,o,t,e,n,r)}}function zM(t,e,n,r,a,o){switch(n){case 2:return Yf(e,a,r)[t.getMonth()];case 1:return Qf(e,a,r)[t.getDay()];case 0:let i=t.getHours(),s=t.getMinutes();if(o){let d=ry(e),l=ay(e,a,r),u=d.findIndex(p=>{if(Array.isArray(p)){let[h,y]=p,g=i>=h.hours&&s>=h.minutes,m=i<y.hours||i===y.hours&&s<y.minutes;if(h.hours<y.hours){if(g&&m)return!0}else if(g||m)return!0}else if(p.hours===i&&p.minutes===s)return!0;return!1});if(u!==-1)return l[u]}return Jf(e,a,r)[i<12?0:1];case 3:return ey(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new I(2302,!1)}}function xs(t){return function(e,n,r){let a=-1*r,o=gt(n,Re.MinusSign),i=a>0?Math.floor(a/60):Math.ceil(a/60);switch(t){case 0:return(a>=0?"+":"")+rt(i,2,o)+rt(Math.abs(a%60),2,o);case 1:return"GMT"+(a>=0?"+":"")+rt(i,1,o);case 2:return"GMT"+(a>=0?"+":"")+rt(i,2,o)+":"+rt(Math.abs(a%60),2,o);case 3:return r===0?"Z":(a>=0?"+":"")+rt(i,2,o)+":"+rt(Math.abs(a%60),2,o);default:throw new I(2310,!1)}}}var UM=0,Ss=4;function $M(t){let e=_s(t,UM,1).getDay();return _s(t,0,1+(e<=Ss?Ss:Ss+7)-e)}function iy(t){let e=t.getDay(),n=e===0?-3:Ss-e;return _s(t.getFullYear(),t.getMonth(),t.getDate()+n)}function zl(t,e=!1){return function(n,r){let a;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,i=n.getDate();a=1+Math.floor((i+o)/7)}else{let o=iy(n),i=$M(o.getFullYear()),s=o.getTime()-i.getTime();a=1+Math.round(s/6048e5)}return rt(a,t,gt(r,Re.MinusSign))}}function Ds(t,e=!1){return function(n,r){let o=iy(n).getFullYear();return rt(o,t,gt(r,Re.MinusSign),e)}}var Ul={};function GM(t){if(Ul[t])return Ul[t];let e;switch(t){case"G":case"GG":case"GGG":e=K(3,z.Abbreviated);break;case"GGGG":e=K(3,z.Wide);break;case"GGGGG":e=K(3,z.Narrow);break;case"y":e=ie(0,1,0,!1,!0);break;case"yy":e=ie(0,2,0,!0,!0);break;case"yyy":e=ie(0,3,0,!1,!0);break;case"yyyy":e=ie(0,4,0,!1,!0);break;case"Y":e=Ds(1);break;case"YY":e=Ds(2,!0);break;case"YYY":e=Ds(3);break;case"YYYY":e=Ds(4);break;case"M":case"L":e=ie(1,1,1);break;case"MM":case"LL":e=ie(1,2,1);break;case"MMM":e=K(2,z.Abbreviated);break;case"MMMM":e=K(2,z.Wide);break;case"MMMMM":e=K(2,z.Narrow);break;case"LLL":e=K(2,z.Abbreviated,Me.Standalone);break;case"LLLL":e=K(2,z.Wide,Me.Standalone);break;case"LLLLL":e=K(2,z.Narrow,Me.Standalone);break;case"w":e=zl(1);break;case"ww":e=zl(2);break;case"W":e=zl(1,!0);break;case"d":e=ie(2,1);break;case"dd":e=ie(2,2);break;case"c":case"cc":e=ie(7,1);break;case"ccc":e=K(1,z.Abbreviated,Me.Standalone);break;case"cccc":e=K(1,z.Wide,Me.Standalone);break;case"ccccc":e=K(1,z.Narrow,Me.Standalone);break;case"cccccc":e=K(1,z.Short,Me.Standalone);break;case"E":case"EE":case"EEE":e=K(1,z.Abbreviated);break;case"EEEE":e=K(1,z.Wide);break;case"EEEEE":e=K(1,z.Narrow);break;case"EEEEEE":e=K(1,z.Short);break;case"a":case"aa":case"aaa":e=K(0,z.Abbreviated);break;case"aaaa":e=K(0,z.Wide);break;case"aaaaa":e=K(0,z.Narrow);break;case"b":case"bb":case"bbb":e=K(0,z.Abbreviated,Me.Standalone,!0);break;case"bbbb":e=K(0,z.Wide,Me.Standalone,!0);break;case"bbbbb":e=K(0,z.Narrow,Me.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(0,z.Abbreviated,Me.Format,!0);break;case"BBBB":e=K(0,z.Wide,Me.Format,!0);break;case"BBBBB":e=K(0,z.Narrow,Me.Format,!0);break;case"h":e=ie(3,1,-12);break;case"hh":e=ie(3,2,-12);break;case"H":e=ie(3,1);break;case"HH":e=ie(3,2);break;case"m":e=ie(4,1);break;case"mm":e=ie(4,2);break;case"s":e=ie(5,1);break;case"ss":e=ie(5,2);break;case"S":e=ie(6,1);break;case"SS":e=ie(6,2);break;case"SSS":e=ie(6,3);break;case"Z":case"ZZ":case"ZZZ":e=xs(0);break;case"ZZZZZ":e=xs(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xs(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=xs(2);break;default:return null}return Ul[t]=e,e}function sy(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function WM(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function ZM(t,e,n){let a=t.getTimezoneOffset(),o=sy(e,a);return WM(t,-1*(o-a))}function KM(t){if($f(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[a,o=1,i=1]=t.split("-").map(s=>+s);return _s(a,o-1,i)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(VM))return XM(r)}let e=new Date(t);if(!$f(e))throw new I(2311,!1);return e}function XM(t){let e=new Date(0),n=0,r=0,a=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),a.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let i=Number(t[4]||0)-n,s=Number(t[5]||0)-r,c=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,i,s,c,d),e}function $f(t){return t instanceof Date&&!isNaN(t.valueOf())}var JM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Gf=22,Ls=".",$a="0",QM=";",YM=",",$l="#";function e8(t,e,n,r,a,o,i=!1){let s="",c=!1;if(!isFinite(t))s=gt(n,Re.Infinity);else{let d=r8(t);i&&(d=n8(d));let l=e.minInt,u=e.minFrac,p=e.maxFrac;if(o){let _=o.match(JM);if(_===null)throw new I(2306,!1);let w=_[1],M=_[3],j=_[5];w!=null&&(l=Gl(w)),M!=null&&(u=Gl(M)),j!=null?p=Gl(j):M!=null&&u>p&&(p=u)}a8(d,u,p);let h=d.digits,y=d.integerLen,g=d.exponent,m=[];for(c=h.every(_=>!_);y<l;y++)h.unshift(0);for(;y<0;y++)h.unshift(0);y>0?m=h.splice(y,h.length):(m=h,h=[0]);let k=[];for(h.length>=e.lgSize&&k.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)k.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&k.unshift(h.join("")),s=k.join(gt(n,r)),m.length&&(s+=gt(n,a)+m.join("")),g&&(s+=gt(n,Re.Exponential)+"+"+g)}return t<0&&!c?s=e.negPre+s+e.negSuf:s=e.posPre+s+e.posSuf,s}function cy(t,e,n){let r=ty(e,Zl.Decimal),a=t8(r,gt(e,Re.MinusSign));return e8(t,a,e,Re.Group,Re.Decimal,n)}function t8(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(QM),a=r[0],o=r[1],i=a.indexOf(Ls)!==-1?a.split(Ls):[a.substring(0,a.lastIndexOf($a)+1),a.substring(a.lastIndexOf($a)+1)],s=i[0],c=i[1]||"";n.posPre=s.substring(0,s.indexOf($l));for(let l=0;l<c.length;l++){let u=c.charAt(l);u===$a?n.minFrac=n.maxFrac=l+1:u===$l?n.maxFrac=l+1:n.posSuf+=u}let d=s.split(YM);if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){let l=a.length-n.posPre.length-n.posSuf.length,u=o.indexOf($l);n.negPre=o.substring(0,u).replace(/'/g,""),n.negSuf=o.slice(u+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function n8(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function r8(t){let e=Math.abs(t)+"",n=0,r,a,o,i,s;for((a=e.indexOf(Ls))>-1&&(e=e.replace(Ls,"")),(o=e.search(/e/i))>0?(a<0&&(a=o),a+=+e.slice(o+1),e=e.substring(0,o)):a<0&&(a=e.length),o=0;e.charAt(o)===$a;o++);if(o===(s=e.length))r=[0],a=1;else{for(s--;e.charAt(s)===$a;)s--;for(a-=o,r=[],i=0;o<=s;o++,i++)r[i]=Number(e.charAt(o))}return a>Gf&&(r=r.splice(0,Gf-1),n=a-1,a=1),{digits:r,exponent:n,integerLen:a}}function a8(t,e,n){if(e>n)throw new I(2307,!1);let r=t.digits,a=r.length-t.integerLen,o=Math.min(Math.max(e,a),n),i=o+t.integerLen,s=r[i];if(i>0){r.splice(Math.max(t.integerLen,i));for(let u=i;u<r.length;u++)r[u]=0}else{a=Math.max(0,a),t.integerLen=1,r.length=Math.max(1,i=o+1),r[0]=0;for(let u=1;u<i;u++)r[u]=0}if(s>=5)if(i-1<0){for(let u=0;u>i;u--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[i-1]++;for(;a<Math.max(0,o);a++)r.push(0);let c=o!==0,d=e+t.integerLen,l=r.reduceRight(function(u,p,h,y){return p=p+u,y[h]=p<10?p:p-10,c&&(y[h]===0&&h>=d?y.pop():c=!1),p>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}function Gl(t){let e=parseInt(t);if(isNaN(e))throw new I(2305,!1);return e}var Wl=/\s+/,Wf=[],o8=(()=>{class t{_ngEl;_renderer;initialClasses=Wf;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Wl):Wf}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Wl):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let a=this.stateMap.get(n);a!==void 0?(a.enabled!==r&&(a.changed=!0,a.enabled=r),a.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],a=n[1];a.changed?(this._toggleClass(r,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),a.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Wl).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}static \u0275fac=function(r){return new(r||t)(L(Ee),L(ft))};static \u0275dir=Z({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Es=class{$implicit;ngForOf;index;count;constructor(e,n,r,a){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=a}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},dy=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,a){this._viewContainer=n,this._template=r,this._differs=a}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((a,o,i)=>{if(a.previousIndex==null)r.createEmbeddedView(this._template,new Es(a.item,this._ngForOf,-1,-1),i===null?void 0:i);else if(i==null)r.remove(o===null?void 0:o);else if(o!==null){let s=r.get(o);r.move(s,i),Zf(s,a)}});for(let a=0,o=r.length;a<o;a++){let s=r.get(a).context;s.index=a,s.count=o,s.ngForOf=this._ngForOf}n.forEachIdentityChange(a=>{let o=r.get(a.currentIndex);Zf(o,a)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(L(Jt),L(Kt),L(jl))};static \u0275dir=Z({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Zf(t,e){t.context.$implicit=e.item}var i8=(()=>{class t{_viewContainer;_context=new As;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Kf(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Kf(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(L(Jt),L(Kt))};static \u0275dir=Z({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),As=class{$implicit=null;ngIf=null};function Kf(t,e){if(t&&!t.createEmbeddedView)throw new I(2020,!1)}var s8=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let a=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,a,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,a)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,a):!1,get:(n,r,a)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,a)}})}static \u0275fac=function(r){return new(r||t)(L(Jt))};static \u0275dir=Z({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Xt]})}return t})();function ly(t,e){return new I(2100,!1)}var c8="mediumDate",uy=new P(""),hy=new P(""),d8=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,a){this.locale=n,this.defaultTimezone=r,this.defaultOptions=a}transform(n,r,a,o){if(n==null||n===""||n!==n)return null;try{let i=r??this.defaultOptions?.dateFormat??c8,s=a??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return oy(n,i,o||this.locale,s)}catch(i){throw ly(t,i.message)}}static \u0275fac=function(r){return new(r||t)(L(Lr,16),L(uy,24),L(hy,24))};static \u0275pipe=vs({name:"date",type:t,pure:!0})}return t})();var l8=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,a){if(!u8(n))return null;a||=this._locale;try{let o=h8(n);return cy(o,a,r)}catch(o){throw ly(t,o.message)}}static \u0275fac=function(r){return new(r||t)(L(Lr,16))};static \u0275pipe=vs({name:"number",type:t,pure:!0})}return t})();function u8(t){return!(t==null||t===""||t!==t)}function h8(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new I(2309,!1);return t}var p8=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qt({type:t});static \u0275inj=xt({})}return t})();function f8(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[a,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(a.trim()===e)return decodeURIComponent(o)}return null}var Kl=class{};var lP="browser";var y8=["*"];var IP=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]];var bP=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]];var xP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]];var DP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var SP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]];var _P=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]];var LP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],EP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]];var AP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]];var TP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]];var RP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]];var PP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var OP=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]];var FP=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]];var NP=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]];var jP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]];var VP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],HP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]];var qP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]];var BP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var zP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]];var UP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var $P=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var GP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]];var WP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var ZP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]];var KP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]];var XP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var Ga={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Xl=new P("LucideIcons",{factory:()=>new Wa({})}),Wa=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},g8=(()=>{class t{constructor(){this.color=Ga.stroke,this.size=Ga.width,this.strokeWidth=Ga["stroke-width"],this.absoluteStrokeWidth=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function m8(t,e=3){return parseFloat(t.toFixed(e)).toString(10)}var JP=(()=>{class t{constructor(n,r,a,o,i){this.elem=n,this.renderer=r,this.changeDetector=a,this.iconProviders=o,this.iconConfig=i,this.absoluteStrokeWidth=!1,this.defaultSize=Ga.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let a=this.getIcon(this.toPascalCase(r));if(a)this.replaceElement(a);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=W(F({},Ga),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?m8(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),a=this.createElement(["svg",r,n]);a.classList.add("lucide"),typeof this.name=="string"&&a.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&a.classList.add(...this.class.split(/ /).map(i=>i.trim()).filter(i=>i.length>0));let o=this.elem.nativeElement.childNodes;for(let i of o)this.renderer.removeChild(this.elem.nativeElement,i);this.renderer.appendChild(this.elem.nativeElement,a)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,a,o)=>a.toUpperCase()+o.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,a=[]]){let o=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(i=>{let s=typeof r[i]=="string"?r[i]:r[i].toString(10);this.renderer.setAttribute(o,i,s)}),a.length&&a.forEach(i=>{let s=this.createElement(i);this.renderer.appendChild(o,s)}),o}}return t.\u0275fac=function(n){return new(n||t)(L(Ee),L(ft),L(Ar),L(Xl),L(g8))},t.\u0275cmp=Ml({type:t,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Xt],ngContentSelectors:y8,decls:1,vars:0,template:function(n,r){n&1&&(_l(),Ll(0))},encapsulation:2}),t})(),Jl=class{constructor(e){this.icons=e}},k8=t=>new Wa(t??{}),QP=(()=>{class t{static pick(n){return{ngModule:t,providers:[{provide:Xl,multi:!0,useValue:new Wa(n)},{provide:Xl,multi:!0,useFactory:k8,deps:[[new $d,Jl]]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=xt({imports:[[]]}),t})();var Cy=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(L(ft),L(Ee))};static \u0275dir=Z({type:t})}return t})(),eo=(()=>{class t extends Cy{static \u0275fac=(()=>{let n;return function(a){return(n||(n=nt(t)))(a||t)}})();static \u0275dir=Z({type:t,features:[fe]})}return t})(),Fr=new P(""),v8={provide:Fr,useExisting:ke(()=>M8),multi:!0},M8=(()=>{class t extends eo{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(a){return(n||(n=nt(t)))(a||t)}})();static \u0275dir=Z({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,a){r&1&&Lt("change",function(i){return a.onChange(i.target.checked)})("blur",function(){return a.onTouched()})},standalone:!1,features:[Ve([v8]),fe]})}return t})(),w8={provide:Fr,useExisting:ke(()=>Iy),multi:!0};function C8(){let t=Fn()?Fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var I8=new P(""),Iy=(()=>{class t extends Cy{_compositionMode;_composing=!1;constructor(n,r,a){super(n,r),this._compositionMode=a,this._compositionMode==null&&(this._compositionMode=!C8())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(L(ft),L(Ee),L(I8,8))};static \u0275dir=Z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){r&1&&Lt("input",function(i){return a._handleInput(i.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(i){return a._compositionEnd(i.target.value)})},standalone:!1,features:[Ve([w8]),fe]})}return t})();function b8(t){return t==null||by(t)===0}function by(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Nr=new P(""),xy=new P("");function x8(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function D8(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function S8(t){return b8(t.value)?{required:!0}:null}function _8(t){return e=>{let n=e.value?.length??by(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function py(t){return null}function Dy(t){return t!=null}function Sy(t){return _r(t)?st(t):t}function _y(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function Ly(t,e){return e.map(n=>n(t))}function L8(t){return!t.validate}function Ey(t){return t.map(e=>L8(e)?e:n=>e.validate(n))}function E8(t){if(!t)return null;let e=t.filter(Dy);return e.length==0?null:function(n){return _y(Ly(n,e))}}function eu(t){return t!=null?E8(Ey(t)):null}function A8(t){if(!t)return null;let e=t.filter(Dy);return e.length==0?null:function(n){let r=Ly(n,e).map(Sy);return Zc(r).pipe(wt(_y))}}function tu(t){return t!=null?A8(Ey(t)):null}function fy(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function T8(t){return t._rawValidators}function R8(t){return t._rawAsyncValidators}function Ql(t){return t?Array.isArray(t)?t:[t]:[]}function Rs(t,e){return Array.isArray(t)?t.includes(e):t===e}function yy(t,e){let n=Ql(e);return Ql(t).forEach(a=>{Rs(n,a)||n.push(a)}),n}function gy(t,e){return Ql(e).filter(n=>!Rs(t,n))}var Ps=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eu(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Or=class extends Ps{name;get formDirective(){return null}get path(){return null}},Ya=class extends Ps{_parent=null;name=null;valueAccessor=null},Os=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},P8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},gO=W(F({},P8),{"[class.ng-submitted]":"isSubmitted"}),mO=(()=>{class t extends Os{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(L(Ya,2))};static \u0275dir=Z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){r&2&&Ha("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},standalone:!1,features:[fe]})}return t})(),kO=(()=>{class t extends Os{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(L(Or,10))};static \u0275dir=Z({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,a){r&2&&Ha("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)("ng-submitted",a.isSubmitted)},standalone:!1,features:[fe]})}return t})();var Za="VALID",Ts="INVALID",Rr="PENDING",Ka="DISABLED",en=class{},Fs=class extends en{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ja=class extends en{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Qa=class extends en{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Pr=class extends en{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Yl=class extends en{source;constructor(e){super(),this.source=e}},Ns=class extends en{source;constructor(e){super(),this.source=e}};function Ay(t){return(Hs(t)?t.validators:t)||null}function O8(t){return Array.isArray(t)?eu(t):t||null}function Ty(t,e){return(Hs(e)?e.asyncValidators:t)||null}function F8(t){return Array.isArray(t)?tu(t):t||null}function Hs(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function N8(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function j8(t,e,n){t._forEachChild((r,a)=>{if(n[a]===void 0)throw new I(1002,"")})}var js=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return yt(this.statusReactive)}set status(e){yt(()=>this.statusReactive.set(e))}_status=Er(()=>this.statusReactive());statusReactive=Sn(void 0);get valid(){return this.status===Za}get invalid(){return this.status===Ts}get pending(){return this.status==Rr}get disabled(){return this.status===Ka}get enabled(){return this.status!==Ka}errors;get pristine(){return yt(this.pristineReactive)}set pristine(e){yt(()=>this.pristineReactive.set(e))}_pristine=Er(()=>this.pristineReactive());pristineReactive=Sn(!0);get dirty(){return!this.pristine}get touched(){return yt(this.touchedReactive)}set touched(e){yt(()=>this.touchedReactive.set(e))}_touched=Er(()=>this.touchedReactive());touchedReactive=Sn(!1);get untouched(){return!this.touched}_events=new He;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gy(e,this._rawAsyncValidators))}hasValidator(e){return Rs(this._rawValidators,e)}hasAsyncValidator(e){return Rs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(W(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qa(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(W(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ja(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(a=>{a.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ja(!0,r))}markAsPending(e={}){this.status=Rr;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pr(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(W(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ka,this.errors=null,this._forEachChild(a=>{a.disable(W(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.value,r)),this._events.next(new Pr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(a=>a(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Za,this._forEachChild(r=>{r.enable(W(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(W(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Za||this.status===Rr)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.value,n)),this._events.next(new Pr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(W(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ka:Za}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Rr,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=Sy(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(a,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,a)=>r&&r._find(a),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Pr(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new _e,this.statusChanges=new _e}_calculateStatus(){return this._allControlsDisabled()?Ka:this.errors?Ts:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rr)?Rr:this._anyControlsHaveStatus(Ts)?Ts:Za}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),a=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),a&&this._events.next(new Ja(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Qa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hs(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=O8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=F8(this._rawAsyncValidators)}},Vs=class extends js{constructor(e,n,r){super(Ay(n),Ty(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){j8(this,!0,e),Object.keys(e).forEach(r=>{N8(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let a=this.controls[r];a&&a.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,a)=>{r.reset(e?e[a]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ns(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((a,o)=>{r=n(r,a,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var nu=new P("",{providedIn:"root",factory:()=>ru}),ru="always";function V8(t,e){return[...e.path,t]}function Ry(t,e,n=ru){Py(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),q8(t,e),z8(t,e),B8(t,e),H8(t,e)}function my(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function H8(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Py(t,e){let n=T8(t);e.validator!==null?t.setValidators(fy(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=R8(t);e.asyncValidator!==null?t.setAsyncValidators(fy(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let a=()=>t.updateValueAndValidity();my(e._rawValidators,a),my(e._rawAsyncValidators,a)}function q8(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Oy(t,e)})}function B8(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Oy(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Oy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function z8(t,e){let n=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function U8(t,e){t==null,Py(t,e)}function $8(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function G8(t){return Object.getPrototypeOf(t.constructor)===eo}function W8(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Z8(t,e){if(!e)return null;Array.isArray(e);let n,r,a;return e.forEach(o=>{o.constructor===Iy?n=o:G8(o)?r=o:a=o}),a||r||n||null}var K8={provide:Or,useExisting:ke(()=>X8)},Xa=Promise.resolve(),X8=(()=>{class t extends Or{callSetDisabledState;get submitted(){return yt(this.submittedReactive)}_submitted=Er(()=>this.submittedReactive());submittedReactive=Sn(!1);_directives=new Set;form;ngSubmit=new _e;options;constructor(n,r,a){super(),this.callSetDisabledState=a,this.form=new Vs({},eu(n),tu(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Xa.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ry(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Xa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Xa.then(()=>{let r=this._findContainer(n.path),a=new Vs({});U8(a,n),r.registerControl(n.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Xa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Xa.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),W8(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Yl(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(L(Nr,10),L(xy,10),L(nu,8))};static \u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,a){r&1&&Lt("submit",function(i){return a.onSubmit(i)})("reset",function(){return a.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ve([K8]),fe]})}return t})();function ky(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vy(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var J8=class extends js{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Ay(n),Ty(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hs(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vy(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Ns(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ky(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ky(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Q8={provide:Ya,useExisting:ke(()=>Y8)},My=Promise.resolve(),Y8=(()=>{class t extends Ya{_changeDetectorRef;callSetDisabledState;control=new J8;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _e;constructor(n,r,a,o,i,s){super(),this._changeDetectorRef=i,this.callSetDisabledState=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=Z8(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),$8(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ry(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){My.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,a=r!==0&&Vl(r);My.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?V8(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(L(Or,9),L(Nr,10),L(xy,10),L(Fr,10),L(Ar,8),L(nu,8))};static \u0275dir=Z({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ve([Q8]),fe,Xt]})}return t})();var MO=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),e6={provide:Fr,useExisting:ke(()=>t6),multi:!0},t6=(()=>{class t extends eo{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(a){return(n||(n=nt(t)))(a||t)}})();static \u0275dir=Z({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,a){r&1&&Lt("input",function(i){return a.onChange(i.target.value)})("blur",function(){return a.onTouched()})},standalone:!1,features:[Ve([e6]),fe]})}return t})();var n6={provide:Fr,useExisting:ke(()=>Ny),multi:!0};function Fy(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function r6(t){return t.split(":")[0]}var Ny=(()=>{class t extends eo{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=S(Pn).injector;destroyRef=S(Dn);cdr=S(Ar);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ol({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),a=Fy(r,n);this.setProperty("value",a)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=r6(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(a){return(n||(n=nt(t)))(a||t)}})();static \u0275dir=Z({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,a){r&1&&Lt("change",function(i){return a.onChange(i.target.value)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ve([n6]),fe]})}return t})(),wO=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,a){this._element=n,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Fy(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(L(Ee),L(ft),L(Ny,9))};static \u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),a6={provide:Fr,useExisting:ke(()=>jy),multi:!0};function wy(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function o6(t){return t.split(":")[0]}var jy=(()=>{class t extends eo{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let a=n.map(o=>this._getOptionId(o));r=(o,i)=>{o._setSelected(a.indexOf(i.toString())>-1)}}else r=(a,o)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let a=[],o=r.selectedOptions;if(o!==void 0){let i=o;for(let s=0;s<i.length;s++){let c=i[s],d=this._getOptionValue(c.value);a.push(d)}}else{let i=r.options;for(let s=0;s<i.length;s++){let c=i[s];if(c.selected){let d=this._getOptionValue(c.value);a.push(d)}}}this.value=a,n(a)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=o6(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(a){return(n||(n=nt(t)))(a||t)}})();static \u0275dir=Z({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,a){r&1&&Lt("change",function(i){return a.onChange(i.target)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ve([a6]),fe]})}return t})(),CO=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,a){this._element=n,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(wy(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(wy(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(L(Ee),L(ft),L(jy,9))};static \u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function i6(t){return typeof t=="number"?t:parseInt(t,10)}function Vy(t){return typeof t=="number"?t:parseFloat(t)}var qs=(()=>{class t{_validator=py;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):py,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Z({type:t,features:[Xt]})}return t})(),s6={provide:Nr,useExisting:ke(()=>c6),multi:!0},c6=(()=>{class t extends qs{max;inputName="max";normalizeInput=n=>Vy(n);createValidator=n=>D8(n);static \u0275fac=(()=>{let n;return function(a){return(n||(n=nt(t)))(a||t)}})();static \u0275dir=Z({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,a){r&2&&On("max",a._enabled?a.max:null)},inputs:{max:"max"},standalone:!1,features:[Ve([s6]),fe]})}return t})(),d6={provide:Nr,useExisting:ke(()=>l6),multi:!0},l6=(()=>{class t extends qs{min;inputName="min";normalizeInput=n=>Vy(n);createValidator=n=>x8(n);static \u0275fac=(()=>{let n;return function(a){return(n||(n=nt(t)))(a||t)}})();static \u0275dir=Z({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,a){r&2&&On("min",a._enabled?a.min:null)},inputs:{min:"min"},standalone:!1,features:[Ve([d6]),fe]})}return t})(),u6={provide:Nr,useExisting:ke(()=>h6),multi:!0};var h6=(()=>{class t extends qs{required;inputName="required";normalizeInput=Vl;createValidator=n=>S8;enabled(n){return n}static \u0275fac=(()=>{let n;return function(a){return(n||(n=nt(t)))(a||t)}})();static \u0275dir=Z({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,a){r&2&&On("required",a._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ve([u6]),fe]})}return t})();var p6={provide:Nr,useExisting:ke(()=>f6),multi:!0},f6=(()=>{class t extends qs{minlength;inputName="minlength";normalizeInput=n=>i6(n);createValidator=n=>_8(n);static \u0275fac=(()=>{let n;return function(a){return(n||(n=nt(t)))(a||t)}})();static \u0275dir=Z({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,a){r&2&&On("minlength",a._enabled?a.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Ve([p6]),fe]})}return t})();var y6=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qt({type:t});static \u0275inj=xt({})}return t})();var IO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:nu,useValue:n.callSetDisabledState??ru}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qt({type:t});static \u0275inj=xt({imports:[y6]})}return t})();J();var Hy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);var to=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Bs=class extends to{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},no=class extends to{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ro=class extends to{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},au=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(au||{});var ao=class{constructor(e,{headers:n={},customFetch:r,region:a=au.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=Hy(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return v(this,arguments,void 0,function*(n,r={}){var a;let o,i;try{let{headers:s,method:c,body:d,signal:l,timeout:u}=r,p={},{region:h}=r;h||(h=this.region);let y=new URL(`${this.url}/${n}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let g;d&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(p["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(p["Content-Type"]="application/json",g=JSON.stringify(d)):g=d;let m=l;u&&(i=new AbortController,o=setTimeout(()=>i.abort(),u),l?(m=i.signal,l.addEventListener("abort",()=>i.abort())):m=i.signal);let k=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:g,signal:m}).catch(j=>{throw new Bs(j)}),_=k.headers.get("x-relay-error");if(_&&_==="true")throw new no(k);if(!k.ok)throw new ro(k);let w=((a=k.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),M;return w==="application/json"?M=yield k.json():w==="application/octet-stream"||w==="application/pdf"?M=yield k.blob():w==="text/event-stream"?M=k:w==="multipart/form-data"?M=yield k.formData():M=yield k.text(),{data:M,error:null,response:k}}catch(s){return{data:null,error:s,response:s instanceof ro||s instanceof no?s.context:void 0}}finally{o&&clearTimeout(o)}})}};var wu=fm(Ky(),1),{PostgrestClient:Xy,PostgrestQueryBuilder:BO,PostgrestFilterBuilder:zO,PostgrestTransformBuilder:UO,PostgrestBuilder:$O,PostgrestError:D6}=wu.default||wu;var Cu=class{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},Iu=Cu;var Jy="2.86.0";var Qy=`realtime-js/${Jy}`,bu="1.0.0",Yy="2.0.0",xu=bu;var io=1e4,eg=1e3,tg=100,Nn=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(Nn||{}),le=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(le||{}),We=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(We||{}),Du=(function(t){return t.websocket="websocket",t})(Du||{}),jn=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(jn||{});var Us=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;let a=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,r;let a=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},i=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,n,r){var a,o;let i=e.topic,s=(a=e.ref)!==null&&a!==void 0?a:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",d=e.payload.event,l=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=Object.keys(l).length===0?"":JSON.stringify(l);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`metadata length ${u.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+i.length+d.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+p),y=new DataView(h),g=0;y.setUint8(g++,this.KINDS.userBroadcastPush),y.setUint8(g++,c.length),y.setUint8(g++,s.length),y.setUint8(g++,i.length),y.setUint8(g++,d.length),y.setUint8(g++,u.length),y.setUint8(g++,n),Array.from(c,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(s,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(i,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(d,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(u,k=>y.setUint8(g++,k.charCodeAt(0)));var m=new Uint8Array(h.byteLength+r.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(r),h.byteLength),m.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){let r=JSON.parse(e),[a,o,i,s,c]=r;return n({join_ref:a,ref:o,topic:i,event:s,payload:c})}return n({})}_binaryDecode(e){let n=new DataView(e),r=n.getUint8(0),a=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,r){let a=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),s=n.getUint8(4),c=this.HEADER_LENGTH+4,d=r.decode(e.slice(c,c+a));c=c+a;let l=r.decode(e.slice(c,c+o));c=c+o;let u=r.decode(e.slice(c,c+i));c=c+i;let p=e.slice(c,e.byteLength),h=s===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,y={type:this.BROADCAST_EVENT,event:l,payload:h};return i>0&&(y.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}};var Vr=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var X=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(X||{}),_u=(t,e,n={})=>{var r;let a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,i)=>(o[i]=S6(i,t,e,a),o),{}):{}},S6=(t,e,n,r)=>{let a=e.find(s=>s.name===t),o=a?.type,i=n[t];return o&&!r.includes(o)?ng(o,i):Su(i)},ng=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return A6(e,n)}switch(t){case X.bool:return _6(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return L6(e);case X.json:case X.jsonb:return E6(e);case X.timestamp:return T6(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Su(e);default:return Su(e)}},Su=t=>t,_6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},L6=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},E6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},A6=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o,i=t.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(s=>ng(e,s))}return t},T6=t=>typeof t=="string"?t.replace(" ","T"):t,$s=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var Hr=class{constructor(e,n,r={},a=io){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var so=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{let{onJoin:o,onLeave:i,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},a=>{let{onJoin:o,onLeave:i,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=t.syncDiff(this.state,a,o,i),s())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){let o=this.cloneDeep(e),i=this.transformState(n),s={},c={};return this.map(o,(d,l)=>{i[d]||(c[d]=l)}),this.map(i,(d,l)=>{let u=o[d];if(u){let p=l.map(m=>m.presence_ref),h=u.map(m=>m.presence_ref),y=l.filter(m=>h.indexOf(m.presence_ref)<0),g=u.filter(m=>p.indexOf(m.presence_ref)<0);y.length>0&&(s[d]=y),g.length>0&&(c[d]=g)}else s[d]=l}),this.syncDiff(o,{joins:s,leaves:c},r,a)}static syncDiff(e,n,r,a){let{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(s,c)=>{var d;let l=(d=e[s])!==null&&d!==void 0?d:[];if(e[s]=this.cloneDeep(c),l.length>0){let u=e[s].map(h=>h.presence_ref),p=l.filter(h=>u.indexOf(h.presence_ref)<0);e[s].unshift(...p)}r(s,l,c)}),this.map(i,(s,c)=>{let d=e[s];if(!d)return;let l=c.map(u=>u.presence_ref);d=d.filter(u=>l.indexOf(u.presence_ref)<0),e[s]=d,a(s,d,c),d.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let a=e[r];return"metas"in a?n[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var co=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})(co||{}),At=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(At||{});var lo=class t{constructor(e,n={config:{}},r){var a,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hr(this,We.join,this.params,this.timeout),this.rejoinTimer=new Vr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new so(this),this.broadcastEndpointURL=$s(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){let{config:{broadcast:i,presence:s,private:c}}=this.params,d=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&a!==void 0?a:[],l=!!this.bindings[co.PRESENCE]&&this.bindings[co.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,u={},p={broadcast:i,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e?.(At.CHANNEL_ERROR,h)),this._onClose(()=>e?.(At.CLOSED)),this.updateJoinPayload(Object.assign({config:p},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",y=>f(this,[y],function*({postgres_changes:h}){var g;if(this.socket.setAuth(),h===void 0){e?.(At.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,k=(g=m?.length)!==null&&g!==void 0?g:0,_=[];for(let w=0;w<k;w++){let M=m[w],{filter:{event:j,schema:at,table:G,filter:se}}=M,Ot=h&&h[w];if(Ot&&Ot.event===j&&Ot.schema===at&&Ot.table===G&&Ot.filter===se)_.push(Object.assign(Object.assign({},M),{id:Ot.id}));else{this.unsubscribe(),this.state=le.errored,e?.(At.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(At.SUBSCRIBED);return}})).receive("error",h=>{this.state=le.errored,e?.(At.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(At.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this.state===le.joined&&e===co.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}httpSend(a,o){return f(this,arguments,function*(e,n,r={}){var i;let s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let l=d.statusText;try{let u=yield d.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))})}send(r){return f(this,arguments,function*(e,n={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let l=yield this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return yield(o=l.body)===null||o===void 0?void 0:o.cancel(),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,c,d;let l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Hr(this,We.leave,{},e),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}_fetchWithTimeout(e,n,r){return f(this,null,function*(){let a=new AbortController,o=setTimeout(()=>a.abort(),r),i=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),i})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Hr(this,e,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tg){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,o;let i=e.toLocaleLowerCase(),{close:s,error:c,leave:d,join:l}=We;if(r&&[s,c,d,l].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var y,g,m;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===i}).map(h=>h.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var y,g,m,k,_,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){let M=h.id,j=(y=h.filter)===null||y===void 0?void 0:y.event;return M&&((g=n.ids)===null||g===void 0?void 0:g.includes(M))&&(j==="*"||j?.toLocaleLowerCase()===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let M=(_=(k=h?.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return M==="*"||M===((w=n?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:g,table:m,commit_timestamp:k,type:_,errors:w}=y;p=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:k,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let a=e.toLocaleLowerCase(),o={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_u(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_u(e.columns,e.old_record)),n}};var Lu=()=>{},Gs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},P6=[1e3,2e3,5e3,1e4],O6=1e4,F6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,uo=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=io,this.transport=null,this.heartbeatIntervalMs=Gs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lu,this.ref=0,this.reconnectTimer=null,this.vsn=xu,this.logger=Lu,this.conn=null,this.sendBuffer=[],this.serializer=new Us,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Du.websocket}`,this.httpEndpoint=$s(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Iu.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return f(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return f(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nn.connecting:return jn.Connecting;case Nn.open:return jn.Open;case Nn.closing:return jn.Closing;default:return jn.Closed}}isConnected(){return this.connectionState()===jn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{let o=new lo(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){let{topic:n,event:r,payload:a,ref:o}=e,i=()=>{this.encode(e,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(e=null){return f(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return f(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(eg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Gs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:a,payload:o,ref:i}=n,s=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${a} ${s}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nn.open||this.conn.readyState===Nn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([F6],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}_performAuth(e=null){return f(this,null,function*(){let n;e?n=e:this.accessToken?n=yield this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let a={access_token:n,version:Qy};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(We.access_token,{access_token:n})}))})}_waitForAuthIfNeeded(){return f(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Vr(()=>f(this,null,function*(){setTimeout(()=>f(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),Gs.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var n,r,a,o,i,s,c,d,l,u,p,h;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:io,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Gs.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e?.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(s=e?.heartbeatCallback)!==null&&s!==void 0?s:Lu,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:xu,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:y=>P6[y-1]||O6,this.vsn){case bu:this.encode=(l=e?.encode)!==null&&l!==void 0?l:(y,g)=>g(JSON.stringify(y)),this.decode=(u=e?.decode)!==null&&u!==void 0?u:(y,g)=>g(JSON.parse(y));break;case Yy:this.encode=(p=e?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=e?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};J();var tn=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function U(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ws=class extends tn{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vn=class extends tn{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};J();var qr=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rg=()=>Response,Zs=t=>{if(Array.isArray(t))return t.map(n=>Zs(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Zs(r)}),e},ag=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},og=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);var Eu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},N6=(t,e,n)=>v(void 0,void 0,void 0,function*(){let r=yield rg();t instanceof r&&!n?.noResolveJson?t.json().then(a=>{let o=t.status||500,i=a?.statusCode||o+"";e(new Ws(Eu(a),o,i))}).catch(a=>{e(new Vn(Eu(a),a))}):e(new Vn(Eu(t),t))}),j6=(t,e,n,r)=>{let a={method:t,headers:e?.headers||{}};return t==="GET"||!r?a:(ag(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(r)):a.body=r,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function ho(t,e,n,r,a,o){return v(this,void 0,void 0,function*(){return new Promise((i,s)=>{t(n,j6(e,r,a,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>N6(c,s,r))})})}function nn(t,e,n,r){return v(this,void 0,void 0,function*(){return ho(t,"GET",e,n,r)})}function Pe(t,e,n,r,a){return v(this,void 0,void 0,function*(){return ho(t,"POST",e,r,a,n)})}function po(t,e,n,r,a){return v(this,void 0,void 0,function*(){return ho(t,"PUT",e,r,a,n)})}function ig(t,e,n,r){return v(this,void 0,void 0,function*(){return ho(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Br(t,e,n,r,a){return v(this,void 0,void 0,function*(){return ho(t,"DELETE",e,r,a,n)})}J();J();var Ks=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return v(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(U(e))return{data:null,error:e};throw e}})}};var sg,Au=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[sg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ks(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return v(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(U(e))return{data:null,error:e};throw e}})}};sg=Symbol.toStringTag;var cg=Au;var V6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Xs=class{constructor(e,n={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=qr(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,a){return v(this,void 0,void 0,function*(){try{let o,i=Object.assign(Object.assign({},dg),a),s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)}),c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(c))):(o=r,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),a?.headers&&(s=Object.assign(Object.assign({},s),a.headers));let d=this._removeEmptyFolders(n),l=this._getFinalPath(d),u=yield(e=="PUT"?po:Pe)(this.fetch,`${this.url}/object/${l}`,o,Object.assign({headers:s},i?.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:u.Id,fullPath:u.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(U(o))return{data:null,error:o};throw o}})}upload(e,n,r){return v(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,a){return v(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),i=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",n);try{let c,d=Object.assign({upsert:dg.upsert},a),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,l["cache-control"]=`max-age=${d.cacheControl}`,l["content-type"]=d.contentType);let u=yield po(this.fetch,s.toString(),c,{headers:l});return{data:{path:o,fullPath:u.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(U(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return v(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");let o=yield Pe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),i=new URL(this.url+o.url),s=i.searchParams.get("token");if(!s)throw new tn("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r))return{data:null,error:r};throw r}})}update(e,n,r){return v(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return v(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(U(a))return{data:null,error:a};throw a}})}copy(e,n,r){return v(this,void 0,void 0,function*(){try{return{data:{path:(yield Pe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(U(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,r){return v(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield Pe(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(U(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,r){return v(this,void 0,void 0,function*(){try{let a=yield Pe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(U(a))return{data:null,error:a};throw a}})}download(e,n){let a=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),i=o?`?${o}`:"",s=this._getFinalPath(e),c=()=>nn(this.fetch,`${this.url}/${a}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new cg(c,this.shouldThrowOnError)}info(e){return v(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield nn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zs(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r))return{data:null,error:r};throw r}})}exists(e){return v(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield ig(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r)&&r instanceof Vn){let a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),a=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);let s=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}remove(e){return v(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}list(e,n,r){return v(this,void 0,void 0,function*(){try{let a=Object.assign(Object.assign(Object.assign({},V6),n),{prefix:e||""});return{data:yield Pe(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(U(a))return{data:null,error:a};throw a}})}listV2(e,n){return v(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield Pe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};J();var Js="2.86.0";var Qs={"X-Client-Info":`storage-js/${Js}`};var Ys=class{constructor(e,n={},r,a){this.shouldThrowOnError=!1;let o=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qs),n),this.fetch=qr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return v(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(e);return{data:yield nn(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}getBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}createBucket(e){return v(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Pe(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(U(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return v(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(U(r))return{data:null,error:r};throw r}})}emptyBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}};J();var fo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function H6(t,e,n){let r=new URL(e,t);if(n)for(let[a,o]of Object.entries(n))o!==void 0&&r.searchParams.set(a,o);return r.toString()}function q6(t){return f(this,null,function*(){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?yield t.getHeaders():{}})}function B6(t){let e=t.fetchImpl??globalThis.fetch;return{request(c){return f(this,arguments,function*({method:r,path:a,query:o,body:i,headers:s}){let d=H6(t.baseUrl,a,o),l=yield q6(t.auth),u=yield e(d,{method:r,headers:F(F(F({},i?{"Content-Type":"application/json"}:{}),l),s),body:i?JSON.stringify(i):void 0}),p=yield u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),y=h&&p?JSON.parse(p):p;if(!u.ok){let g=h?y:void 0,m=g?.error;throw new fo(m?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:m?.type,icebergCode:m?.code,details:g})}return{status:u.status,headers:u.headers,data:y}})}}}function ec(t){return t.join("")}var z6=class{constructor(t,e=""){this.client=t,this.prefix=e}listNamespaces(t){return f(this,null,function*(){let e=t?{parent:ec(t.namespace)}:void 0;return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))})}createNamespace(t,e){return f(this,null,function*(){let n={namespace:t.namespace,properties:e?.properties};return(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data})}dropNamespace(t){return f(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ec(t.namespace)}`})})}loadNamespaceMetadata(t){return f(this,null,function*(){return{properties:(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ec(t.namespace)}`})).data.properties}})}namespaceExists(t){return f(this,null,function*(){try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ec(t.namespace)}`}),!0}catch(e){if(e instanceof fo&&e.status===404)return!1;throw e}})}createNamespaceIfNotExists(t,e){return f(this,null,function*(){try{return yield this.createNamespace(t,e)}catch(n){if(n instanceof fo&&n.status===409)return;throw n}})}};function zr(t){return t.join("")}var U6=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}listTables(t){return f(this,null,function*(){return(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zr(t.namespace)}/tables`})).data.identifiers})}createTable(t,e){return f(this,null,function*(){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zr(t.namespace)}/tables`,body:e,headers:n})).data.metadata})}updateTable(t,e){return f(this,null,function*(){let n=yield this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}})}dropTable(t,e){return f(this,null,function*(){yield this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})})}loadTable(t){return f(this,null,function*(){let e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(yield this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata})}tableExists(t){return f(this,null,function*(){let e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return yield this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof fo&&n.status===404)return!1;throw n}})}createTableIfNotExists(t,e){return f(this,null,function*(){try{return yield this.createTable(t,e)}catch(n){if(n instanceof fo&&n.status===409)return yield this.loadTable({namespace:t.namespace,name:e.name});throw n}})}},lg=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);let n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=B6({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new z6(this.client,e),this.tableOps=new U6(this.client,e,this.accessDelegation)}listNamespaces(t){return f(this,null,function*(){return this.namespaceOps.listNamespaces(t)})}createNamespace(t,e){return f(this,null,function*(){return this.namespaceOps.createNamespace(t,e)})}dropNamespace(t){return f(this,null,function*(){yield this.namespaceOps.dropNamespace(t)})}loadNamespaceMetadata(t){return f(this,null,function*(){return this.namespaceOps.loadNamespaceMetadata(t)})}listTables(t){return f(this,null,function*(){return this.tableOps.listTables(t)})}createTable(t,e){return f(this,null,function*(){return this.tableOps.createTable(t,e)})}updateTable(t,e){return f(this,null,function*(){return this.tableOps.updateTable(t,e)})}dropTable(t,e){return f(this,null,function*(){yield this.tableOps.dropTable(t,e)})}loadTable(t){return f(this,null,function*(){return this.tableOps.loadTable(t)})}namespaceExists(t){return f(this,null,function*(){return this.namespaceOps.namespaceExists(t)})}tableExists(t){return f(this,null,function*(){return this.tableOps.tableExists(t)})}createNamespaceIfNotExists(t,e){return f(this,null,function*(){return this.namespaceOps.createNamespaceIfNotExists(t,e)})}createTableIfNotExists(t,e){return f(this,null,function*(){return this.tableOps.createTableIfNotExists(t,e)})}};var tc=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qs),n),this.fetch=qr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}listBuckets(e){return v(this,void 0,void 0,function*(){try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield nn(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(U(n))return{data:null,error:n};throw n}})}from(e){if(!og(e))throw new tn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new lg({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>v(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}};J();J();var Ur={"X-Client-Info":`storage-js/${Js}`,"Content-Type":"application/json"};var nc=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function we(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var $r=class extends nc{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rc=class extends nc{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}};J();var Gr=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);var ug=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var hg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$6=(t,e,n)=>v(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(i=>{let s=i?.statusCode||i?.code||a+"";e(new $r(hg(i),a,s))}).catch(()=>{let i=a+"",s=o.statusText||`HTTP ${a} error`;e(new $r(s,a,i))});else{let i=a+"",s=o.statusText||`HTTP ${a} error`;e(new $r(s,a,i))}}else e(new rc(hg(t),t))}),G6=(t,e,n,r)=>{let a={method:t,headers:e?.headers||{}};return t==="GET"||!r?a:(ug(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),n))};function W6(t,e,n,r,a,o){return v(this,void 0,void 0,function*(){return new Promise((i,s)=>{t(n,G6(e,r,a,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>$6(c,s,r))})})}function Ce(t,e,n,r,a){return v(this,void 0,void 0,function*(){return W6(t,"POST",e,r,a,n)})}var ac=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ur),n),this.fetch=Gr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return v(this,void 0,void 0,function*(){try{return{data:(yield Ce(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}getIndex(e,n){return v(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}listIndexes(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return v(this,void 0,void 0,function*(){try{return{data:(yield Ce(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}};J();var oc=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ur),n),this.fetch=Gr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return v(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ce(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}getVectors(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}listVectors(e){return v(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ce(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}queryVectors(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteVectors(e){return v(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ce(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}};J();var ic=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ur),n),this.fetch=Gr(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return v(this,void 0,void 0,function*(){try{return{data:(yield Ce(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}getBucket(e){return v(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}listBuckets(){return v(this,arguments,void 0,function*(e={}){try{return{data:yield Ce(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteBucket(e){return v(this,void 0,void 0,function*(){try{return{data:(yield Ce(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}};var yo=class extends ic{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new sc(this.url,this.headers,e,this.fetch)}createBucket(e){let n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return v(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){let n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return v(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){let e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return v(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){let n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return v(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}},sc=class extends ac{constructor(e,n,r,a){super(e,n,a),this.vectorBucketName=r}createIndex(e){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return v(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return v(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return v(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return v(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new cc(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},cc=class extends oc{constructor(e,n,r,a,o){super(e,n,o),this.vectorBucketName=r,this.indexName=a}putVectors(e){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return v(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return v(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return v(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return v(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return v(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var go=class extends Ys{constructor(e,n={},r,a){super(e,n,r,a)}from(e){return new Xs(this.url,this.headers,e,this.fetch)}get vectors(){return new yo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tc(this.url+"/iceberg",this.headers,this.fetch)}};var pg="2.86.0";var mo="";typeof Deno<"u"?mo="deno":typeof document<"u"?mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mo="react-native":mo="node";var Z6={"X-Client-Info":`supabase-js-${mo}/${pg}`},fg={headers:Z6},yg={schema:"public"},gg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mg={};var K6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),X6=()=>Headers,kg=(t,e,n)=>{let r=K6(n),a=X6();return(o,i)=>f(null,null,function*(){var s;let c=(s=yield e())!==null&&s!==void 0?s:t,d=new a(i?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:d}))})};function J6(t){return t.endsWith("/")?t:t+"/"}function vg(t,e){var n,r;let{db:a,auth:o,realtime:i,global:s}=t,{db:c,auth:d,realtime:l,global:u}=e,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},l),i),storage:{},global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(n=u?.headers)!==null&&n!==void 0?n:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f(null,null,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Mg(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(J6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}J();J();var dc="2.86.0";var Hn=30*1e3,lc=3,uc=lc*Hn,wg="http://localhost:9999",Cg="supabase.auth.token";var Ig={"X-Client-Info":`gotrue-js/${dc}`};var ko="X-Supabase-Api-Version",Tu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xg=600*1e3;var rn=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function C(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var hc=class extends rn{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Dg(t){return C(t)&&t.name==="AuthApiError"}var Ze=class extends rn{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},mt=class extends rn{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}},ye=class extends mt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Sg(t){return C(t)&&t.name==="AuthSessionMissingError"}var Tt=class extends mt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},qn=class extends mt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Bn=class extends mt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function _g(t){return C(t)&&t.name==="AuthImplicitGrantRedirectError"}var vo=class extends mt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Wr=class extends mt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function pc(t){return C(t)&&t.name==="AuthRetryableFetchError"}var Mo=class extends mt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var zn=class extends mt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lg=` 	
\r=`.split(""),Q6=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Lg.length;e+=1)t[Lg[e].charCodeAt(0)]=-2;for(let e=0;e<fc.length;e+=1)t[fc[e].charCodeAt(0)]=e;return t})();function Eg(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(fc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(fc[r]),e.queuedBits-=6}}function Ag(t,e,n){let r=Q6[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ru(t){let e=[],n=i=>{e.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{tw(i,r,n)};for(let i=0;i<t.length;i+=1)Ag(t.charCodeAt(i),a,o);return e.join("")}function Y6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ew(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}Y6(r,e)}}function tw(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function an(t){let e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Ag(t.charCodeAt(a),n,r);return new Uint8Array(e)}function Tg(t){let e=[];return ew(t,n=>e.push(n)),new Uint8Array(e)}function Rt(t){let e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>Eg(a,n,r)),Eg(null,n,r),e.join("")}function Rg(t){return Math.round(Date.now()/1e3)+t}function Pg(){return Symbol("auth-callback")}var ue=()=>typeof window<"u"&&typeof document<"u",Un={tested:!1,writable:!1},yc=()=>{if(!ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Un.tested)return Un.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Un.tested=!0,Un.writable=!0}catch{Un.tested=!0,Un.writable=!1}return Un.writable};function Og(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}var gc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Fg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$n=(t,e,n)=>f(null,null,function*(){yield t.setItem(e,JSON.stringify(n))}),on=(t,e)=>f(null,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Pt=(t,e)=>f(null,null,function*(){yield t.removeItem(e)}),wo=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};wo.promiseConstructor=Promise;function mc(t){let e=t.split(".");if(e.length!==3)throw new zn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!bg.test(e[r]))throw new zn("JWT not in base64url format");return{header:JSON.parse(Ru(e[0])),payload:JSON.parse(Ru(e[1])),signature:an(e[2]),raw:{header:e[0],payload:e[1]}}}function Ng(t){return f(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function jg(t,e){return new Promise((r,a)=>{f(null,null,function*(){for(let o=0;o<1/0;o++)try{let i=yield t(o);if(!e(o,null,i)){r(i);return}}catch(i){if(!e(o,i)){a(i);return}}})})}function nw(t){return("0"+t.toString(16)).substr(-2)}function rw(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,nw).join("")}function aw(t){return f(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")})}function ow(t){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield aw(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Gn(t,e,n=!1){return f(this,null,function*(){let r=rw(),a=r;n&&(a+="/PASSWORD_RECOVERY"),yield $n(t,`${e}-code-verifier`,a);let o=yield ow(r);return[o,r===o?"plain":"s256"]})}var iw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vg(t){let e=t.headers.get(ko);if(!e||!e.match(iw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Hg(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var sw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wn(t){if(!sw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kc(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bg(t,e){return new Proxy(t,{get:(n,r,a)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,a)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,a)}})}function Pu(t){return JSON.parse(JSON.stringify(t))}var Zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cw=[502,503,504];function zg(t){return f(this,null,function*(){var e;if(!Fg(t))throw new Wr(Zn(t),0);if(cw.includes(t.status))throw new Wr(Zn(t),t.status);let n;try{n=yield t.json()}catch(o){throw new Ze(Zn(o),o)}let r,a=Vg(t);if(a&&a.getTime()>=Tu["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Mo(Zn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ye}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Mo(Zn(n),t.status,n.weak_password.reasons);throw new hc(Zn(n),t.status||500,r)})}var dw=(t,e,n,r)=>{let a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};function x(t,e,n,r){return f(this,null,function*(){var a;let o=Object.assign({},r?.headers);o[ko]||(o[ko]=Tu["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let i=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(i.redirect_to=r.redirectTo);let s=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=yield lw(t,e,n+s,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function lw(t,e,n,r,a,o){return f(this,null,function*(){let i=dw(e,r,a,o),s;try{s=yield t(n,Object.assign({},i))}catch(c){throw console.error(c),new Wr(Zn(c),0)}if(s.ok||(yield zg(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield zg(c)}})}function Ke(t){var e;let n=null;uw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Rg(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ou(t){let e=Ke(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ug(t){return{data:t,error:null}}function $g(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o}=t,i=Mt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:s,user:c},error:null}}function Fu(t){return t}function uw(t){return t.access_token&&t.refresh_token&&t.expires_in}var vc=["global","local","others"];var Zr=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(r){return f(this,arguments,function*(e,n=vc[0]){if(vc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vc.join(", ")}`);try{return yield x(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(C(a))return{data:null,error:a};throw a}})}inviteUserByEmail(r){return f(this,arguments,function*(e,n={}){try{return yield x(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kt})}catch(a){if(C(a))return{data:{user:null},error:a};throw a}})}generateLink(e){return f(this,null,function*(){try{let{options:n}=e,r=Mt(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),yield x(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:$g,redirectTo:n?.redirectTo})}catch(n){if(C(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return f(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return f(this,null,function*(){var n,r,a,o,i,s,c;try{let d={nextPage:null,lastPage:0,total:0},l=yield x(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Fu});if(l.error)throw l.error;let u=yield l.json(),p=(i=l.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(c=(s=l.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);d[`${m}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(C(d))return{data:{users:[]},error:d};throw d}})}getUserById(e){return f(this,null,function*(){Wn(e);try{return yield x(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return f(this,null,function*(){Wn(e);try{return yield x(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return f(this,null,function*(){Wn(e);try{return yield x(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return f(this,null,function*(){Wn(e.userId);try{let{data:n,error:r}=yield x(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return f(this,null,function*(){Wn(e.userId),Wn(e.id);try{return{data:yield x(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_listOAuthClients(e){return f(this,null,function*(){var n,r,a,o,i,s,c;try{let d={nextPage:null,lastPage:0,total:0},l=yield x(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Fu});if(l.error)throw l.error;let u=yield l.json(),p=(i=l.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(c=(s=l.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);d[`${m}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(C(d))return{data:{clients:[]},error:d};throw d}})}_createOAuthClient(e){return f(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}})}_getOAuthClient(e){return f(this,null,function*(){try{return yield x(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}})}_updateOAuthClient(e,n){return f(this,null,function*(){try{return yield x(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}})}_deleteOAuthClient(e){return f(this,null,function*(){try{return yield x(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}})}_regenerateOAuthClientSecret(e){return f(this,null,function*(){try{return yield x(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}})}};function Nu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var Kn={debug:!!(globalThis&&yc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Co=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Mc=class extends Co{};function ju(t,e,n){return f(this,null,function*(){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},a=>f(null,null,function*(){if(a){Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return yield n()}finally{Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Mc(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kn.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}function Gg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vu(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Wg(t){return parseInt(t,16)}function Zg(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Kg(t){var e;let{chainId:n,domain:r,expirationTime:a,issuedAt:o=new Date,nonce:i,notBefore:s,requestId:c,resources:d,scheme:l,uri:u,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let h=Vu(t.address),y=l?`${l}://${r}`:r,g=t.statement?`${t.statement}
`:"",m=`${y} wants you to sign in with your Ethereum account:
${h}

${g}`,k=`URI: ${u}
Version: ${p}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(a&&(k+=`
Expiration Time: ${a.toISOString()}`),s&&(k+=`
Not Before: ${s.toISOString()}`),c&&(k+=`
Request ID: ${c}`),d){let _=`
Resources:`;for(let w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);_+=`
- ${w}`}k+=_}return`${m}
${k}`}J();var ee=class extends Error{constructor({message:e,code:n,cause:r,name:a}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=a??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},Xn=class extends ee{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}};function Xg({error:t,options:e}){var n,r,a;let{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let i=window.location.hostname;if(Hu(i)){if(o.rp.id!==i)return new ee({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Jg({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ee({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(Hu(r)){if(n.rpId!==r)return new ee({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var qu=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},hw=new qu;function Yg(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,a=Mt(t,["challenge","user","excludeCredentials"]),o=an(e).buffer,i=Object.assign(Object.assign({},n),{id:an(n.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:o,user:i});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let d=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:an(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function em(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=Mt(t,["challenge","allowCredentials"]),a=an(e).buffer,o=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){let s=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},s),{id:an(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function tm(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Rt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Rt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function nm(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Rt(new Uint8Array(a.authenticatorData)),clientDataJSON:Rt(new Uint8Array(a.clientDataJSON)),signature:Rt(new Uint8Array(a.signature)),userHandle:a.userHandle?Rt(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hu(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Qg(){var t,e;return!!(ue()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}function pw(t){return f(this,null,function*(){try{let e=yield navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xn("Browser returned unexpected credential type",e)}:{data:null,error:new Xn("Empty credential response",e)}}catch(e){return{data:null,error:Xg({error:e,options:t})}}})}function fw(t){return f(this,null,function*(){try{let e=yield navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xn("Browser returned unexpected credential type",e)}:{data:null,error:new Xn("Empty credential response",e)}}catch(e){return{data:null,error:Jg({error:e,options:t})}}})}var yw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wc(...t){let e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(let a of t)if(a)for(let o in a){let i=a[o];if(i!==void 0)if(Array.isArray(i))r[o]=i;else if(n(i))r[o]=i;else if(e(i)){let s=r[o];e(s)?r[o]=wc(s,i):r[o]=wc(i)}else r[o]=i}return r}function mw(t,e){return wc(yw,t,e||{})}function kw(t,e){return wc(gw,t,e||{})}var Cc=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){return f(this,null,function*(){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})}_challenge(i,s){return f(this,arguments,function*({factorId:e,webauthn:n,friendlyName:r,signal:a},o){try{let{data:c,error:d}=yield this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};let l=a??hw.createNewAbortSignal();if(c.webauthn.type==="create"){let{user:u}=c.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(c.webauthn.type){case"create":{let u=mw(c.webauthn.credential_options.publicKey,o?.create),{data:p,error:h}=yield pw({publicKey:u,signal:l});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{let u=kw(c.webauthn.credential_options.publicKey,o?.request),{data:p,error:h}=yield fw(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:u,signal:l}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(c){return C(c)?{data:null,error:c}:{data:null,error:new Ze("Unexpected error in challenge",c)}}})}_verify(a){return f(this,arguments,function*({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})})}_authenticate(i,s){return f(this,arguments,function*({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new rn("rpId is required for WebAuthn authentication")};try{if(!Qg())return{data:null,error:new Ze("Browser does not support WebAuthn",null)};let{data:c,error:d}=yield this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:a},{request:o});if(!c)return{data:null,error:d};let{webauthn:l}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(c){return C(c)?{data:null,error:c}:{data:null,error:new Ze("Unexpected error in authenticate",c)}}})}_register(i,s){return f(this,arguments,function*({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new rn("rpId is required for WebAuthn registration")};try{if(!Qg())return{data:null,error:new Ze("Browser does not support WebAuthn",null)};let{data:c,error:d}=yield this._enroll({friendlyName:e});if(!c)return yield this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:d};let{data:l,error:u}=yield this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:a},{create:o});return l?this._verify({factorId:c.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(c){return C(c)?{data:null,error:c}:{data:null,error:new Ze("Unexpected error in register",c)}}})}};Gg();var vw={url:wg,storageKey:Cg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ig,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function rm(t,e,n){return f(this,null,function*(){return yield n()})}var Kr={},Mw=(()=>{class t{get jwks(){var n,r;return(r=(n=Kr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Kr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{cachedAt:n})}constructor(n){var r,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let i=Object.assign(Object.assign({},vw),n);if(this.storageKey=i.storageKey,this.instanceID=(r=t.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,t.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ue()){let s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Zr({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gc(i.fetch),this.lock=i.lock||rm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:ue()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=ju:this.lock=rm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cc(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:yc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Nu(this.memoryStorage)),ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dc}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var n;try{let r={},a="none";if(ue()&&(r=Og(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":(yield this._isPKCECallback(r))&&(a="pkce")),ue()&&this.detectSessionInUrl&&a!=="none"){let{data:o,error:i}=yield this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_g(i)){let d=(n=i.details)===null||n===void 0?void 0:n.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return yield this._removeSession(),{error:i}}let{session:s,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return C(r)?this._returnResult({error:r}):this._returnResult({error:new Ze("Unexpected error during initialization",r)})}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return f(this,null,function*(){var r,a,o;try{let i=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ke}),{data:s,error:c}=i;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});let d=s.session,l=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:l,session:d},error:null})}catch(i){if(C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}signUp(n){return f(this,null,function*(){var r,a,o;try{let i;if("email"in n){let{email:u,password:p,options:h}=n,y=null,g=null;this.flowType==="pkce"&&([y,g]=yield Gn(this.storage,this.storageKey)),i=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:g},xform:Ke})}else if("phone"in n){let{phone:u,password:p,options:h}=n;i=yield x(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(a=h?.data)!==null&&a!==void 0?a:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ke})}else throw new qn("You must provide either an email or phone number and a password");let{data:s,error:c}=i;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});let d=s.session,l=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:l,session:d},error:null})}catch(i){if(C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}signInWithPassword(n){return f(this,null,function*(){try{let r;if("email"in n){let{email:i,password:s,options:c}=n;r=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ou})}else if("phone"in n){let{phone:i,password:s,options:c}=n;r=yield x(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ou})}else throw new qn("You must provide either an email or phone number and a password");let{data:a,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){let i=new Tt;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOAuth(n){return f(this,null,function*(){var r,a,o,i;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=n.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=n.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(n){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return f(this,null,function*(){let{chain:r}=n;switch(r){case"ethereum":return yield this.signInWithEthereum(n);case"solana":return yield this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}})}signInWithEthereum(n){return f(this,null,function*(){var r,a,o,i,s,c,d,l,u,p,h;let y,g;if("message"in n)y=n.message,g=n.signature;else{let{chain:m,wallet:k,statement:_,options:w}=n,M;if(ue())if(typeof k=="object")M=k;else{let vt=window;if("ethereum"in vt&&typeof vt.ethereum=="object"&&"request"in vt.ethereum&&typeof vt.ethereum.request=="function")M=vt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=k}let j=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),at=yield M.request({method:"eth_requestAccounts"}).then(vt=>vt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!at||at.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let G=Vu(at[0]),se=(a=w?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!se){let vt=yield M.request({method:"eth_chainId"});se=Wg(vt)}let Ot={domain:j.host,address:G,statement:_,uri:j.href,version:"1",chainId:se,nonce:(o=w?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(s=(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.resources};y=Kg(Ot),g=yield M.request({method:"personal_sign",params:[Zg(y),G]})}try{let{data:m,error:k}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:g},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=n.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ke});if(k)throw k;if(!m||!m.session||!m.user){let _=new Tt;return this._returnResult({data:{user:null,session:null},error:_})}return m.session&&(yield this._saveSession(m.session),yield this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:k})}catch(m){if(C(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}})}signInWithSolana(n){return f(this,null,function*(){var r,a,o,i,s,c,d,l,u,p,h,y;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:k,wallet:_,statement:w,options:M}=n,j;if(ue())if(typeof _=="object")j=_;else{let G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))j=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=_}let at=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){let G=yield j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:at.host,uri:at.href}),w?{statement:w}:null)),se;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")se=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)se=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)g=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),m=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${at.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${at.href}`,`Issued At: ${(o=(a=M?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=M?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((s=M?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((c=M?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((d=M?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((l=M?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((p=(u=M?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...M.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);let G=yield j.signMessage(new TextEncoder().encode(g),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=G}}try{let{data:k,error:_}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Rt(m)},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ke});if(_)throw _;if(!k||!k.session||!k.user){let w=new Tt;return this._returnResult({data:{user:null,session:null},error:w})}return k.session&&(yield this._saveSession(k.session),yield this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(C(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}})}_exchangeCodeForSession(n){return f(this,null,function*(){let r=yield on(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{let{data:i,error:s}=yield x(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:a},xform:Ke});if(yield Pt(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){let c=new Tt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(C(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}})}signInWithIdToken(n){return f(this,null,function*(){try{let{options:r,provider:a,token:o,access_token:i,nonce:s}=n,c=yield x(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ke}),{data:d,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!d||!d.session||!d.user){let u=new Tt;return this._returnResult({data:{user:null,session:null},error:u})}return d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:l})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}signInWithOtp(n){return f(this,null,function*(){var r,a,o,i,s;try{if("email"in n){let{email:c,options:d}=n,l=null,u=null;this.flowType==="pkce"&&([l,u]=yield Gn(this.storage,this.storageKey));let{error:p}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:c,options:d}=n,{data:l,error:u}=yield x(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new qn("You must provide either an email or phone number.")}catch(c){if(C(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}verifyOtp(n){return f(this,null,function*(){var r,a;try{let o,i;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,i=(a=n.options)===null||a===void 0?void 0:a.captchaToken);let{data:s,error:c}=yield x(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:Ke});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let d=s.session,l=s.user;return d?.access_token&&(yield this._saveSession(d),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:l,session:d},error:null})}catch(o){if(C(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}signInWithSSO(n){return f(this,null,function*(){var r,a,o,i,s;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=yield Gn(this.storage,this.storageKey));let l=yield x(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(a=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:Ug});return!((i=l.data)===null||i===void 0)&&i.url&&ue()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(C(c))return this._returnResult({data:null,error:c});throw c}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:a}=n;if(a)throw a;if(!r)throw new ye;let{error:o}=yield x(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})}))}catch(n){if(C(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}resend(n){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:a,type:o,options:i}=n,{error:s}=yield x(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in n){let{phone:a,type:o,options:i}=n,{data:s,error:c}=yield x(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new qn("You must provide either an email or phone number and a type")}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(n,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=f(this,null,function*(){return yield a,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let a=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield a}catch{}})),yield a;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield on(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let a=n.expires_at?n.expires_at*1e3-Date.now()<uc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",n.expires_at),!a){if(this.userStorage){let s=yield on(this.userStorage,this.storageKey+"-user");s?.user?n.user=s.user:n.user=kc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};n.user=Bg(n.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:i}=yield this._callRefreshToken(n.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}})}getUser(n){return f(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return f(this,null,function*(){try{return n?yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:kt}):yield this._useSession(r=>f(this,null,function*(){var a,o,i;let{data:s,error:c}=r;if(c)throw c;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ye}:yield x(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:kt})}))}catch(r){if(C(r))return Sg(r)&&(yield this._removeSession(),yield Pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}})}updateUser(a){return f(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(a){return f(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>f(this,null,function*(){let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new ye;let c=i.session,d=null,l=null;this.flowType==="pkce"&&n.email!=null&&([d,l]=yield Gn(this.storage,this.storageKey));let{data:u,error:p}=yield x(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:l}),jwt:c.access_token,xform:kt});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})}))}catch(o){if(C(o))return this._returnResult({data:{user:null},error:o});throw o}})}setSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return f(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new ye;let r=Date.now()/1e3,a=r,o=!0,i=null,{payload:s}=mc(n.access_token);if(s.exp&&(a=s.exp,o=a<=r),o){let{data:c,error:d}=yield this._callRefreshToken(n.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};i=c}else{let{data:c,error:d}=yield this._getUser(n.access_token);if(d)throw d;i={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:a-r,expires_at:a},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(C(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}})}refreshSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;if(!n){let{data:s,error:c}=r;if(c)throw c;n=(a=s.session)!==null&&a!==void 0?a:void 0}if(!n?.refresh_token)throw new ye;let{data:o,error:i}=yield this._callRefreshToken(n.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})}))}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}_getSessionFromURL(n,r){return f(this,null,function*(){try{if(!ue())throw new Bn("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Bn(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new vo("No code detected.");let{data:w,error:M}=yield this._exchangeCodeForSession(n.code);if(M)throw M;let j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}let{provider_token:a,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:c,expires_at:d,token_type:l}=n;if(!i||!c||!s||!l)throw new Bn("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;d&&(h=parseInt(d));let y=h-u;y*1e3<=Hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let g=h-p;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);let{data:m,error:k}=yield this._getUser(i);if(k)throw k;let _={provider_token:a,provider_refresh_token:o,access_token:i,expires_in:p,expires_at:h,refresh_token:s,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:n.type},error:null})}catch(a){if(C(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return f(this,null,function*(){let r=yield on(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return f(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return f(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;if(i)return this._returnResult({error:i});let s=(a=o.session)===null||a===void 0?void 0:a.access_token;if(s){let{error:c}=yield this.admin.signOut(s,n);if(c&&!(Dg(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(yield this._removeSession(),yield Pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})}))})}onAuthStateChange(n){let r=Pg(),a={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:a}}}_emitInitialSession(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var a,o;try{let{data:{session:i},error:s}=r;if(s)throw s;yield(a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i),this._debug("INITIAL_SESSION","callback id",n,"session",i)}catch(i){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",i),console.error(i)}}))})}resetPasswordForEmail(a){return f(this,arguments,function*(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=yield Gn(this.storage,this.storageKey,!0));try{return yield x(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(C(s))return this._returnResult({data:null,error:s});throw s}})}getUserIdentities(){return f(this,null,function*(){var n;try{let{data:r,error:a}=yield this.getUser();if(a)throw a;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}linkIdentity(n){return f(this,null,function*(){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)})}linkIdentityOAuth(n){return f(this,null,function*(){var r;try{let{data:a,error:o}=yield this._useSession(i=>f(this,null,function*(){var s,c,d,l,u;let{data:p,error:h}=i;if(h)throw h;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return yield x(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(l=p.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})}));if(o)throw o;return ue()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:n.provider,url:a?.url},error:null})}catch(a){if(C(a))return this._returnResult({data:{provider:n.provider,url:null},error:a});throw a}})}linkIdentityIdToken(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var a;try{let{error:o,data:{session:i}}=r;if(o)throw o;let{options:s,provider:c,token:d,access_token:l,nonce:u}=n,p=yield x(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:c,id_token:d,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ke}),{data:h,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Tt}):(h.session&&(yield this._saveSession(h.session),yield this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:y}))}catch(o){if(C(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}))})}unlinkIdentity(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a,o;let{data:i,error:s}=r;if(s)throw s;return yield x(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_refreshAccessToken(n){return f(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let a=Date.now();return yield jg(o=>f(this,null,function*(){return o>0&&(yield Ng(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield x(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ke})}),(o,i)=>{let s=200*Math.pow(2,o);return i&&pc(i)&&Date.now()+s-a<Hn})}catch(a){if(this._debug(r,"error",a),C(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return f(this,null,function*(){let a=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",a),ue()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:n,url:a},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var n,r;let a="#_recoverAndRefresh()";this._debug(a,"begin");try{let o=yield on(this.storage,this.storageKey);if(o&&this.userStorage){let s=yield on(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:o.user},yield $n(this.userStorage,this.storageKey+"-user",s)),o.user=(n=s?.user)!==null&&n!==void 0?n:kc()}else if(o&&!o.user&&!o.user){let s=yield on(this.storage,this.storageKey+"-user");s&&s?.user?(o.user=s.user,yield Pt(this.storage,this.storageKey+"-user"),yield $n(this.storage,this.storageKey,o)):o.user=kc()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uc;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${uc}s`),i){if(this.autoRefreshToken&&o.refresh_token){let{error:s}=yield this._callRefreshToken(o.refresh_token);s&&(console.error(s),pc(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=yield this._getUser(o.access_token);!c&&s?.user?(o.user=s.user,yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(a,"error getting user data, skipping SIGNED_IN notification",s)}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}})}_callRefreshToken(n){return f(this,null,function*(){var r,a;if(!n)throw new ye;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new wo;let{data:i,error:s}=yield this._refreshAccessToken(n);if(s)throw s;if(!i.session)throw new ye;yield this._saveSession(i.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);let c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(o,"error",i),C(i)){let s={data:null,error:i};return pc(i)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,a=!0){return f(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:n,session:r});let i=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(n,r)}catch(d){i.push(d)}}));if(yield Promise.all(s),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return f(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&(yield $n(this.userStorage,this.storageKey+"-user",{user:r.user}));let o=Object.assign({},r);delete o.user;let i=Pu(o);yield $n(this.storage,this.storageKey,i)}else{let o=Pu(r);yield $n(this.storage,this.storageKey,o)}})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield Pt(this.storage,this.storageKey),yield Pt(this.storage,this.storageKey+"-code-verifier"),yield Pt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Pt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ue()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Hn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((a.expires_at*1e3-n)/Hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Hn}ms, refresh threshold is ${lc} ticks`),o<=lc&&(yield this._callRefreshToken(a.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Co)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ue()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return f(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,a){return f(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){let[i,s]=yield Gn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(c.toString())}if(a?.queryParams){let i=new URLSearchParams(a.queryParams);o.push(i.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;return i?this._returnResult({data:null,error:i}):yield x(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_enroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a,o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:d,error:l}=yield x(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return l?this._returnResult({data:null,error:l}):(n.factorType==="totp"&&d.type==="totp"&&(!((o=d?.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_verify(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});let s=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?tm(n.webauthn.credential_response):nm(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:d}=yield x(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:s,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}))})}_challenge(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});let s=yield x(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Yg(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:em(c.webauthn.credential_options.publicKey)})})}),error:null}}}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}))})}_challengeAndVerify(n){return f(this,null,function*(){let{data:r,error:a}=yield this._challenge({factorId:n.factorId});return a?this._returnResult({data:null,error:a}):yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return f(this,null,function*(){var n;let{data:{user:r},error:a}=yield this.getUser();if(a)return{data:null,error:a};let o={all:[],phone:[],totp:[],webauthn:[]};for(let i of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){var n,r;let{data:{session:a},error:o}=yield this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:i}=mc(a.access_token),s=null;i.aal&&(s=i.aal);let c=s;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=i.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:l},error:null}})}_getAuthorizationDetails(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?yield x(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ye})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}_approveAuthorization(n,r){return f(this,null,function*(){try{return yield this._useSession(a=>f(this,null,function*(){let{data:{session:o},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new ye});let s=yield x(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&ue()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}})}_denyAuthorization(n,r){return f(this,null,function*(){try{return yield this._useSession(a=>f(this,null,function*(){let{data:{session:o},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new ye});let s=yield x(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&ue()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s}))}catch(a){if(C(a))return this._returnResult({data:null,error:a});throw a}})}_listOAuthGrants(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:a}=n;return a?this._returnResult({data:null,error:a}):r?yield x(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ye})}))}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}})}_revokeOAuthGrant(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?(yield x(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ye})}))}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}fetchJwk(a){return f(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(d=>d.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(d=>d.kid===n),o&&this.jwks_cached_at+xg>i)return o;let{data:s,error:c}=yield x(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(d=>d.kid===n),!o)?null:o})}getClaims(a){return f(this,arguments,function*(n,r={}){try{let o=n;if(!o){let{data:g,error:m}=yield this.getSession();if(m||!g.session)return this._returnResult({data:null,error:m});o=g.session.access_token}let{header:i,payload:s,signature:c,raw:{header:d,payload:l}}=mc(o);r?.allowExpired||Hg(s.exp);let u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:g}=yield this.getUser(o);if(g)throw g;return{data:{claims:s,header:i,signature:c},error:null}}let p=qg(i.alg),h=yield crypto.subtle.importKey("jwk",u,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,h,c,Tg(`${d}.${l}`))))throw new zn("Invalid JWT signature");return{data:{claims:s,header:i,signature:c},error:null}}catch(o){if(C(o))return this._returnResult({data:null,error:o});throw o}})}}return t.nextInstanceID={},t})(),Bu=Mw;var ww=Bu,zu=ww;var Ic=class extends zu{constructor(e){super(e)}};var bc=class{constructor(e,n,r){var a,o,i;this.supabaseUrl=e,this.supabaseKey=n;let s=Mg(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);let c=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:yg,realtime:mg,auth:Object.assign(Object.assign({},gg),{storageKey:c}),global:fg},l=vg(r??{},d);this.storageKey=(a=l.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=l.global.headers)!==null&&o!==void 0?o:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=l.auth)!==null&&i!==void 0?i:{},this.headers,l.global.fetch),this.fetch=kg(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new Xy(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new go(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new ao(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return f(this,null,function*(){var e,n;if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:o,storageKey:i,flowType:s,lock:c,debug:d,throwOnError:l},u,p){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ic({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:o,flowType:s,lock:c,debug:d,throwOnError:l,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new uo(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var am=(t,e,n)=>new bc(t,e,n);function Cw(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Cw()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Uu={production:!0,enableAuth:!0,supabaseUrl:"https://jfafunxtgkjyezrqouyc.supabase.co",supabaseKey:"sb_publishable__Q-Dk-Sni33zAiAcDV9D9g_gXzsTOZS"};var om=(()=>{let e=class e{constructor(){this.supabase=am(Uu.supabaseUrl,Uu.supabaseKey,{auth:{lock:(r,a,o)=>this.safeLock(r,o)}})}safeLock(r,a,o=5,i=50){return f(this,null,function*(){for(let s=0;s<=o;s++){try{let c=yield navigator.locks.request(r,{ifAvailable:!0},a);if(c!==void 0)return c}catch{}yield new Promise(c=>setTimeout(c,i))}return navigator.locks.request(r,a)})}get client(){return this.supabase}getClient(){return this.supabase}signInWithEmail(r){return f(this,null,function*(){return yield this.supabase.auth.signInWithPassword({email:r.email,password:r.password})})}signUpWithEmail(r){return f(this,null,function*(){let a=document.querySelector("base")?.href||window.location.origin;return console.log("1- signup baseUrl = "+a),yield this.supabase.auth.signUp({email:r.email,password:r.password,options:{emailRedirectTo:a,data:{displayName:r.name}}})})}getUser(){return f(this,null,function*(){return yield this.supabase.auth.getUser()})}signOut(){return f(this,null,function*(){yield this.supabase.auth.signOut(),sessionStorage.removeItem("releaseflowUser")})}resetPasswordForEmail(r){return f(this,null,function*(){try{let a=document.querySelector("base")?.href||window.location.origin,{error:o}=yield this.supabase.auth.resetPasswordForEmail(r,{redirectTo:a+"update-password"});if(o)throw o}catch(a){throw new Error(a.message||"Erreur lors de l\u2019envoi du mail de r\xE9initialisation.")}})}exchangeCodeForSession(r){return f(this,null,function*(){if(!r.includes("access_token"))throw new Error("Token manquant");let a=yield this.supabase.auth.exchangeCodeForSession(r);if(a.error)throw new Error(a.error.message);return a})}updatePassword(r){return f(this,null,function*(){let a=yield this.supabase.auth.updateUser({password:r});if(a.error)throw new Error(a.error.message);return a})}getSession(){return f(this,null,function*(){return this.supabase.auth.getSession()})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zV=(()=>{let e=class e{constructor(r){this.supabase=r,this._settingsCache=null}clearCache(){this._settingsCache=null}getAllSettings(){return f(this,null,function*(){if(this._settingsCache)return this._settingsCache;let{data:r,error:a}=yield this.supabase.client.from("settings").select("*").order("key");if(a)throw a;return this._settingsCache=r||[],this._settingsCache})}getSettingByKey(r,a="global"){return f(this,null,function*(){let{data:o,error:i}=yield this.supabase.client.from("settings").select("*").eq("key",r).eq("scope",a).maybeSingle();if(i)throw i;return o})}getSettingValue(r,a="global"){return f(this,null,function*(){let o=yield this.getSettingByKey(r,a);return o?o.value:null})}createSetting(r){return f(this,null,function*(){let{data:a,error:o}=yield this.supabase.client.from("settings").insert([{key:r.key,value:r.value,type:r.type,scope:r.scope||"global",description:r.description}]).select().single();if(o)throw o;return this.clearCache(),a})}updateSetting(r,a){return f(this,null,function*(){let o=F({},a);delete o.id,delete o.created_at,o.updated_at=new Date().toISOString();let{data:i,error:s}=yield this.supabase.client.from("settings").update(o).eq("id",r).select().single();if(s)throw s;return this.clearCache(),i})}deleteSetting(r){return f(this,null,function*(){let{error:a}=yield this.supabase.client.from("settings").delete().eq("id",r);if(a)throw a;this.clearCache()})}};e.\u0275fac=function(a){return new(a||e)(ce(om))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{F as a,W as b,bw as c,f as d,he as e,xm as f,V as g,Bc as h,zc as i,He as j,ra as k,aa as l,st as m,jm as n,Vm as o,Hm as p,un as q,wt as r,Zm as s,hn as t,Wc as u,si as v,Xm as w,oa as x,Uh as y,Jm as z,ia as A,Kc as B,Ym as C,ek as D,Xc as E,tk as F,nk as G,rk as H,ak as I,ok as J,ik as K,I as L,pi as M,H as N,xt as O,dk as P,P as Q,ce as R,S,s2 as T,x1 as U,qe as V,ki as W,C2 as X,I2 as Y,O2 as Z,F2 as _,bt as $,wa as aa,Dn as ba,Vt as ca,_t as da,Sn as ea,_n as fa,Xt as ga,nt as ha,Wd as ia,Ee as ja,h4 as ka,p4 as la,V0 as ma,y4 as na,g4 as oa,wr as pa,Z0 as qa,x4 as ra,E4 as sa,J4 as ta,Da as ua,Sa as va,Pa as wa,_e as xa,Le as ya,Ea as za,ft as Aa,L as Ba,Jt as Ca,Jp as Da,Qp as Ea,Ml as Fa,Qt as Ga,Z as Ha,nf as Ia,n3 as Ja,_r as Ka,of as La,Pn as Ma,On as Na,o3 as Oa,i3 as Pa,s3 as Qa,c3 as Ra,d3 as Sa,df as Ta,bl as Ua,xl as Va,lf as Wa,uf as Xa,hf as Ya,Dl as Za,Sl as _a,ff as $a,y3 as ab,yf as bb,Lt as cb,mf as db,M3 as eb,I3 as fb,b3 as gb,x3 as hb,D3 as ib,S3 as jb,vf as kb,Ha as lb,z3 as mb,wf as nb,El as ob,Cf as pb,If as qb,bf as rb,Z3 as sb,xf as tb,K3 as ub,eM as vb,tM as wb,nM as xb,iM as yb,cM as zb,lM as Ab,uM as Bb,yt as Cb,Af as Db,rR as Eb,Ar as Fb,aR as Gb,Vl as Hb,Fn as Ib,OM as Jb,Hl as Kb,Cs as Lb,Uf as Mb,o8 as Nb,dy as Ob,i8 as Pb,s8 as Qb,d8 as Rb,l8 as Sb,p8 as Tb,f8 as Ub,Kl as Vb,lP as Wb,IP as Xb,bP as Yb,xP as Zb,DP as _b,SP as $b,_P as ac,LP as bc,EP as cc,AP as dc,TP as ec,RP as fc,PP as gc,OP as hc,FP as ic,NP as jc,jP as kc,VP as lc,HP as mc,qP as nc,BP as oc,zP as pc,UP as qc,$P as rc,GP as sc,WP as tc,ZP as uc,KP as vc,XP as wc,JP as xc,QP as yc,M8 as zc,Iy as Ac,mO as Bc,kO as Cc,X8 as Dc,Y8 as Ec,MO as Fc,t6 as Gc,Ny as Hc,wO as Ic,CO as Jc,c6 as Kc,l6 as Lc,h6 as Mc,f6 as Nc,IO as Oc,Uu as Pc,om as Qc,zV as Rc};
